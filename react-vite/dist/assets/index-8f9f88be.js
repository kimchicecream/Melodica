function Pd(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Rd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _d={exports:{}},ss={},Dd={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ui=Symbol.for("react.element"),sm=Symbol.for("react.portal"),lm=Symbol.for("react.fragment"),am=Symbol.for("react.strict_mode"),um=Symbol.for("react.profiler"),cm=Symbol.for("react.provider"),dm=Symbol.for("react.context"),fm=Symbol.for("react.forward_ref"),hm=Symbol.for("react.suspense"),pm=Symbol.for("react.memo"),mm=Symbol.for("react.lazy"),Wu=Symbol.iterator;function vm(e){return e===null||typeof e!="object"?null:(e=Wu&&e[Wu]||e["@@iterator"],typeof e=="function"?e:null)}var Md={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ld=Object.assign,bd={};function Lr(e,t,n){this.props=e,this.context=t,this.refs=bd,this.updater=n||Md}Lr.prototype.isReactComponent={};Lr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Od(){}Od.prototype=Lr.prototype;function ba(e,t,n){this.props=e,this.context=t,this.refs=bd,this.updater=n||Md}var Oa=ba.prototype=new Od;Oa.constructor=ba;Ld(Oa,Lr.prototype);Oa.isPureReactComponent=!0;var Bu=Array.isArray,$d=Object.prototype.hasOwnProperty,$a={current:null},Id={key:!0,ref:!0,__self:!0,__source:!0};function Ad(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)$d.call(t,r)&&!Id.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ui,type:e,key:o,ref:s,props:i,_owner:$a.current}}function gm(e,t){return{$$typeof:Ui,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ia(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ui}function ym(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Vu=/\/+/g;function il(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ym(""+e.key):t.toString(36)}function wo(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ui:case sm:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+il(s,0):r,Bu(i)?(n="",e!=null&&(n=e.replace(Vu,"$&/")+"/"),wo(i,t,n,"",function(u){return u})):i!=null&&(Ia(i)&&(i=gm(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Vu,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Bu(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+il(o,l);s+=wo(o,t,n,a,i)}else if(a=vm(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+il(o,l++),s+=wo(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function to(e,t,n){if(e==null)return e;var r=[],i=0;return wo(e,r,"","",function(o){return t.call(n,o,i++)}),r}function wm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var it={current:null},So={transition:null},Sm={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:So,ReactCurrentOwner:$a};J.Children={map:to,forEach:function(e,t,n){to(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return to(e,function(){t++}),t},toArray:function(e){return to(e,function(t){return t})||[]},only:function(e){if(!Ia(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Lr;J.Fragment=lm;J.Profiler=um;J.PureComponent=ba;J.StrictMode=am;J.Suspense=hm;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sm;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ld({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=$a.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)$d.call(t,a)&&!Id.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ui,type:e.type,key:i,ref:o,props:r,_owner:s}};J.createContext=function(e){return e={$$typeof:dm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cm,_context:e},e.Consumer=e};J.createElement=Ad;J.createFactory=function(e){var t=Ad.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:fm,render:e}};J.isValidElement=Ia;J.lazy=function(e){return{$$typeof:mm,_payload:{_status:-1,_result:e},_init:wm}};J.memo=function(e,t){return{$$typeof:pm,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=So.transition;So.transition={};try{e()}finally{So.transition=t}};J.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};J.useCallback=function(e,t){return it.current.useCallback(e,t)};J.useContext=function(e){return it.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return it.current.useDeferredValue(e)};J.useEffect=function(e,t){return it.current.useEffect(e,t)};J.useId=function(){return it.current.useId()};J.useImperativeHandle=function(e,t,n){return it.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return it.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return it.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return it.current.useMemo(e,t)};J.useReducer=function(e,t,n){return it.current.useReducer(e,t,n)};J.useRef=function(e){return it.current.useRef(e)};J.useState=function(e){return it.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return it.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return it.current.useTransition()};J.version="18.2.0";Dd.exports=J;var S=Dd.exports;const zd=Rd(S),xm=Pd({__proto__:null,default:zd},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=S,Cm=Symbol.for("react.element"),km=Symbol.for("react.fragment"),jm=Object.prototype.hasOwnProperty,Nm=Em.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tm={key:!0,ref:!0,__self:!0,__source:!0};function Fd(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)jm.call(t,r)&&!Tm.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Cm,type:e,key:o,ref:s,props:i,_owner:Nm.current}}ss.Fragment=km;ss.jsx=Fd;ss.jsxs=Fd;_d.exports=ss;var c=_d.exports,$l={},Ud={exports:{}},gt={},Wd={exports:{}},Bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,_){var L=N.length;N.push(_);e:for(;0<L;){var z=L-1>>>1,U=N[z];if(0<i(U,_))N[z]=_,N[L]=U,L=z;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var _=N[0],L=N.pop();if(L!==_){N[0]=L;e:for(var z=0,U=N.length,Te=U>>>1;z<Te;){var pe=2*(z+1)-1,H=N[pe],me=pe+1,ue=N[me];if(0>i(H,L))me<U&&0>i(ue,H)?(N[z]=ue,N[me]=L,z=me):(N[z]=H,N[pe]=L,z=pe);else if(me<U&&0>i(ue,L))N[z]=ue,N[me]=L,z=me;else break e}}return _}function i(N,_){var L=N.sortIndex-_.sortIndex;return L!==0?L:N.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],d=1,f=null,h=3,w=!1,g=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var _=n(u);_!==null;){if(_.callback===null)r(u);else if(_.startTime<=N)r(u),_.sortIndex=_.expirationTime,t(a,_);else break;_=n(u)}}function m(N){if(y=!1,x(N),!g)if(n(a)!==null)g=!0,A(C);else{var _=n(u);_!==null&&W(m,_.startTime-N)}}function C(N,_){g=!1,y&&(y=!1,v(D),D=-1),w=!0;var L=h;try{for(x(_),f=n(a);f!==null&&(!(f.expirationTime>_)||N&&!Q());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var U=z(f.expirationTime<=_);_=e.unstable_now(),typeof U=="function"?f.callback=U:f===n(a)&&r(a),x(_)}else r(a);f=n(a)}if(f!==null)var Te=!0;else{var pe=n(u);pe!==null&&W(m,pe.startTime-_),Te=!1}return Te}finally{f=null,h=L,w=!1}}var P=!1,T=null,D=-1,$=5,O=-1;function Q(){return!(e.unstable_now()-O<$)}function Z(){if(T!==null){var N=e.unstable_now();O=N;var _=!0;try{_=T(!0,N)}finally{_?se():(P=!1,T=null)}}else P=!1}var se;if(typeof p=="function")se=function(){p(Z)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,ne=ze.port2;ze.port1.onmessage=Z,se=function(){ne.postMessage(null)}}else se=function(){k(Z,0)};function A(N){T=N,P||(P=!0,se())}function W(N,_){D=k(function(){N(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){g||w||(g=!0,A(C))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var _=3;break;default:_=h}var L=h;h=_;try{return N()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,_){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=h;h=N;try{return _()}finally{h=L}},e.unstable_scheduleCallback=function(N,_,L){var z=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?z+L:z):L=z,N){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=L+U,N={id:d++,callback:_,priorityLevel:N,startTime:L,expirationTime:U,sortIndex:-1},L>z?(N.sortIndex=L,t(u,N),n(a)===null&&N===n(u)&&(y?(v(D),D=-1):y=!0,W(m,L-z))):(N.sortIndex=U,t(a,N),g||w||(g=!0,A(C))),N},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(N){var _=h;return function(){var L=h;h=_;try{return N.apply(this,arguments)}finally{h=L}}}})(Bd);Wd.exports=Bd;var Pm=Wd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd=S,vt=Pm;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hd=new Set,Si={};function qn(e,t){jr(e,t),jr(e+"Capture",t)}function jr(e,t){for(Si[e]=t,e=0;e<t.length;e++)Hd.add(t[e])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Il=Object.prototype.hasOwnProperty,Rm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hu={},Ku={};function _m(e){return Il.call(Ku,e)?!0:Il.call(Hu,e)?!1:Rm.test(e)?Ku[e]=!0:(Hu[e]=!0,!1)}function Dm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mm(e,t,n,r){if(t===null||typeof t>"u"||Dm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var Aa=/[\-:]([a-z])/g;function za(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Aa,za);Qe[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Aa,za);Qe[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Aa,za);Qe[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fa(e,t,n,r){var i=Qe.hasOwnProperty(t)?Qe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mm(t,n,i,r)&&(n=null),r||i===null?_m(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var sn=Vd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,no=Symbol.for("react.element"),or=Symbol.for("react.portal"),sr=Symbol.for("react.fragment"),Ua=Symbol.for("react.strict_mode"),Al=Symbol.for("react.profiler"),Kd=Symbol.for("react.provider"),Qd=Symbol.for("react.context"),Wa=Symbol.for("react.forward_ref"),zl=Symbol.for("react.suspense"),Fl=Symbol.for("react.suspense_list"),Ba=Symbol.for("react.memo"),hn=Symbol.for("react.lazy"),Gd=Symbol.for("react.offscreen"),Qu=Symbol.iterator;function Hr(e){return e===null||typeof e!="object"?null:(e=Qu&&e[Qu]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,ol;function ii(e){if(ol===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ol=t&&t[1]||""}return`
`+ol+e}var sl=!1;function ll(e,t){if(!e||sl)return"";sl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{sl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ii(e):""}function Lm(e){switch(e.tag){case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return ii("Suspense");case 19:return ii("SuspenseList");case 0:case 2:case 15:return e=ll(e.type,!1),e;case 11:return e=ll(e.type.render,!1),e;case 1:return e=ll(e.type,!0),e;default:return""}}function Ul(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sr:return"Fragment";case or:return"Portal";case Al:return"Profiler";case Ua:return"StrictMode";case zl:return"Suspense";case Fl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qd:return(e.displayName||"Context")+".Consumer";case Kd:return(e._context.displayName||"Context")+".Provider";case Wa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ba:return t=e.displayName||null,t!==null?t:Ul(e.type)||"Memo";case hn:t=e._payload,e=e._init;try{return Ul(e(t))}catch{}}return null}function bm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ul(t);case 8:return t===Ua?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Om(e){var t=Yd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ro(e){e._valueTracker||(e._valueTracker=Om(e))}function Xd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Yd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Do(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wl(e,t){var n=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Pn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qd(e,t){t=t.checked,t!=null&&Fa(e,"checked",t,!1)}function Bl(e,t){qd(e,t);var n=Pn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vl(e,t.type,Pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vl(e,t,n){(t!=="number"||Do(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var oi=Array.isArray;function yr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Hl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(oi(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pn(n)}}function Jd(e,t){var n=Pn(t.value),r=Pn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function qu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var io,ef=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(io=io||document.createElement("div"),io.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=io.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$m=["Webkit","ms","Moz","O"];Object.keys(ai).forEach(function(e){$m.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ai[t]=ai[e]})});function tf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ai.hasOwnProperty(e)&&ai[e]?(""+t).trim():t+"px"}function nf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Im=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ql(e,t){if(t){if(Im[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Gl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yl=null;function Va(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xl=null,wr=null,Sr=null;function Ju(e){if(e=Vi(e)){if(typeof Xl!="function")throw Error(M(280));var t=e.stateNode;t&&(t=ds(t),Xl(e.stateNode,e.type,t))}}function rf(e){wr?Sr?Sr.push(e):Sr=[e]:wr=e}function of(){if(wr){var e=wr,t=Sr;if(Sr=wr=null,Ju(e),t)for(e=0;e<t.length;e++)Ju(t[e])}}function sf(e,t){return e(t)}function lf(){}var al=!1;function af(e,t,n){if(al)return e(t,n);al=!0;try{return sf(e,t,n)}finally{al=!1,(wr!==null||Sr!==null)&&(lf(),of())}}function Ei(e,t){var n=e.stateNode;if(n===null)return null;var r=ds(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var ql=!1;if(tn)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){ql=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{ql=!1}function Am(e,t,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ui=!1,Mo=null,Lo=!1,Jl=null,zm={onError:function(e){ui=!0,Mo=e}};function Fm(e,t,n,r,i,o,s,l,a){ui=!1,Mo=null,Am.apply(zm,arguments)}function Um(e,t,n,r,i,o,s,l,a){if(Fm.apply(this,arguments),ui){if(ui){var u=Mo;ui=!1,Mo=null}else throw Error(M(198));Lo||(Lo=!0,Jl=u)}}function Jn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function uf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zu(e){if(Jn(e)!==e)throw Error(M(188))}function Wm(e){var t=e.alternate;if(!t){if(t=Jn(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Zu(i),e;if(o===r)return Zu(i),t;o=o.sibling}throw Error(M(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function cf(e){return e=Wm(e),e!==null?df(e):null}function df(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=df(e);if(t!==null)return t;e=e.sibling}return null}var ff=vt.unstable_scheduleCallback,ec=vt.unstable_cancelCallback,Bm=vt.unstable_shouldYield,Vm=vt.unstable_requestPaint,_e=vt.unstable_now,Hm=vt.unstable_getCurrentPriorityLevel,Ha=vt.unstable_ImmediatePriority,hf=vt.unstable_UserBlockingPriority,bo=vt.unstable_NormalPriority,Km=vt.unstable_LowPriority,pf=vt.unstable_IdlePriority,ls=null,Kt=null;function Qm(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ls,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:Xm,Gm=Math.log,Ym=Math.LN2;function Xm(e){return e>>>=0,e===0?32:31-(Gm(e)/Ym|0)|0}var oo=64,so=4194304;function si(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=si(l):(o&=s,o!==0&&(r=si(o)))}else s=n&~i,s!==0?r=si(s):o!==0&&(r=si(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-At(t),i=1<<n,r|=e[n],t&=~i;return r}function qm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-At(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=qm(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function Zl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mf(){var e=oo;return oo<<=1,!(oo&4194240)&&(oo=64),e}function ul(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=n}function Zm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-At(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Ka(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-At(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ie=0;function vf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gf,Qa,yf,wf,Sf,ea=!1,lo=[],wn=null,Sn=null,xn=null,Ci=new Map,ki=new Map,mn=[],ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tc(e,t){switch(e){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Ci.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(t.pointerId)}}function Qr(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Vi(t),t!==null&&Qa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function tv(e,t,n,r,i){switch(t){case"focusin":return wn=Qr(wn,e,t,n,r,i),!0;case"dragenter":return Sn=Qr(Sn,e,t,n,r,i),!0;case"mouseover":return xn=Qr(xn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ci.set(o,Qr(Ci.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ki.set(o,Qr(ki.get(o)||null,e,t,n,r,i)),!0}return!1}function xf(e){var t=An(e.target);if(t!==null){var n=Jn(t);if(n!==null){if(t=n.tag,t===13){if(t=uf(n),t!==null){e.blockedOn=t,Sf(e.priority,function(){yf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ta(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Yl=r,n.target.dispatchEvent(r),Yl=null}else return t=Vi(n),t!==null&&Qa(t),e.blockedOn=n,!1;t.shift()}return!0}function nc(e,t,n){xo(e)&&n.delete(t)}function nv(){ea=!1,wn!==null&&xo(wn)&&(wn=null),Sn!==null&&xo(Sn)&&(Sn=null),xn!==null&&xo(xn)&&(xn=null),Ci.forEach(nc),ki.forEach(nc)}function Gr(e,t){e.blockedOn===t&&(e.blockedOn=null,ea||(ea=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,nv)))}function ji(e){function t(i){return Gr(i,e)}if(0<lo.length){Gr(lo[0],e);for(var n=1;n<lo.length;n++){var r=lo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wn!==null&&Gr(wn,e),Sn!==null&&Gr(Sn,e),xn!==null&&Gr(xn,e),Ci.forEach(t),ki.forEach(t),n=0;n<mn.length;n++)r=mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<mn.length&&(n=mn[0],n.blockedOn===null);)xf(n),n.blockedOn===null&&mn.shift()}var xr=sn.ReactCurrentBatchConfig,$o=!0;function rv(e,t,n,r){var i=ie,o=xr.transition;xr.transition=null;try{ie=1,Ga(e,t,n,r)}finally{ie=i,xr.transition=o}}function iv(e,t,n,r){var i=ie,o=xr.transition;xr.transition=null;try{ie=4,Ga(e,t,n,r)}finally{ie=i,xr.transition=o}}function Ga(e,t,n,r){if($o){var i=ta(e,t,n,r);if(i===null)wl(e,t,r,Io,n),tc(e,r);else if(tv(i,e,t,n,r))r.stopPropagation();else if(tc(e,r),t&4&&-1<ev.indexOf(e)){for(;i!==null;){var o=Vi(i);if(o!==null&&gf(o),o=ta(e,t,n,r),o===null&&wl(e,t,r,Io,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else wl(e,t,r,null,n)}}var Io=null;function ta(e,t,n,r){if(Io=null,e=Va(r),e=An(e),e!==null)if(t=Jn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=uf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Io=e,null}function Ef(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hm()){case Ha:return 1;case hf:return 4;case bo:case Km:return 16;case pf:return 536870912;default:return 16}default:return 16}}var gn=null,Ya=null,Eo=null;function Cf(){if(Eo)return Eo;var e,t=Ya,n=t.length,r,i="value"in gn?gn.value:gn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Eo=i.slice(e,1<r?1-r:void 0)}function Co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ao(){return!0}function rc(){return!1}function yt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ao:rc,this.isPropagationStopped=rc,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ao)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ao)},persist:function(){},isPersistent:ao}),t}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=yt(br),Bi=ke({},br,{view:0,detail:0}),ov=yt(Bi),cl,dl,Yr,as=ke({},Bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yr&&(Yr&&e.type==="mousemove"?(cl=e.screenX-Yr.screenX,dl=e.screenY-Yr.screenY):dl=cl=0,Yr=e),cl)},movementY:function(e){return"movementY"in e?e.movementY:dl}}),ic=yt(as),sv=ke({},as,{dataTransfer:0}),lv=yt(sv),av=ke({},Bi,{relatedTarget:0}),fl=yt(av),uv=ke({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),cv=yt(uv),dv=ke({},br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fv=yt(dv),hv=ke({},br,{data:0}),oc=yt(hv),pv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vv[e])?!!t[e]:!1}function qa(){return gv}var yv=ke({},Bi,{key:function(e){if(e.key){var t=pv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(e){return e.type==="keypress"?Co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wv=yt(yv),Sv=ke({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sc=yt(Sv),xv=ke({},Bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),Ev=yt(xv),Cv=ke({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),kv=yt(Cv),jv=ke({},as,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nv=yt(jv),Tv=[9,13,27,32],Ja=tn&&"CompositionEvent"in window,ci=null;tn&&"documentMode"in document&&(ci=document.documentMode);var Pv=tn&&"TextEvent"in window&&!ci,kf=tn&&(!Ja||ci&&8<ci&&11>=ci),lc=String.fromCharCode(32),ac=!1;function jf(e,t){switch(e){case"keyup":return Tv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lr=!1;function Rv(e,t){switch(e){case"compositionend":return Nf(t);case"keypress":return t.which!==32?null:(ac=!0,lc);case"textInput":return e=t.data,e===lc&&ac?null:e;default:return null}}function _v(e,t){if(lr)return e==="compositionend"||!Ja&&jf(e,t)?(e=Cf(),Eo=Ya=gn=null,lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kf&&t.locale!=="ko"?null:t.data;default:return null}}var Dv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dv[e.type]:t==="textarea"}function Tf(e,t,n,r){rf(r),t=Ao(t,"onChange"),0<t.length&&(n=new Xa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var di=null,Ni=null;function Mv(e){Af(e,0)}function us(e){var t=cr(e);if(Xd(t))return e}function Lv(e,t){if(e==="change")return t}var Pf=!1;if(tn){var hl;if(tn){var pl="oninput"in document;if(!pl){var cc=document.createElement("div");cc.setAttribute("oninput","return;"),pl=typeof cc.oninput=="function"}hl=pl}else hl=!1;Pf=hl&&(!document.documentMode||9<document.documentMode)}function dc(){di&&(di.detachEvent("onpropertychange",Rf),Ni=di=null)}function Rf(e){if(e.propertyName==="value"&&us(Ni)){var t=[];Tf(t,Ni,e,Va(e)),af(Mv,t)}}function bv(e,t,n){e==="focusin"?(dc(),di=t,Ni=n,di.attachEvent("onpropertychange",Rf)):e==="focusout"&&dc()}function Ov(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return us(Ni)}function $v(e,t){if(e==="click")return us(t)}function Iv(e,t){if(e==="input"||e==="change")return us(t)}function Av(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:Av;function Ti(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Il.call(t,i)||!Ft(e[i],t[i]))return!1}return!0}function fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hc(e,t){var n=fc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fc(n)}}function _f(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_f(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Df(){for(var e=window,t=Do();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Do(e.document)}return t}function Za(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zv(e){var t=Df(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_f(n.ownerDocument.documentElement,n)){if(r!==null&&Za(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=hc(n,o);var s=hc(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fv=tn&&"documentMode"in document&&11>=document.documentMode,ar=null,na=null,fi=null,ra=!1;function pc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ra||ar==null||ar!==Do(r)||(r=ar,"selectionStart"in r&&Za(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fi&&Ti(fi,r)||(fi=r,r=Ao(na,"onSelect"),0<r.length&&(t=new Xa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function uo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionend:uo("Transition","TransitionEnd")},ml={},Mf={};tn&&(Mf=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function cs(e){if(ml[e])return ml[e];if(!ur[e])return e;var t=ur[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Mf)return ml[e]=t[n];return e}var Lf=cs("animationend"),bf=cs("animationiteration"),Of=cs("animationstart"),$f=cs("transitionend"),If=new Map,mc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(e,t){If.set(e,t),qn(t,[e])}for(var vl=0;vl<mc.length;vl++){var gl=mc[vl],Uv=gl.toLowerCase(),Wv=gl[0].toUpperCase()+gl.slice(1);Dn(Uv,"on"+Wv)}Dn(Lf,"onAnimationEnd");Dn(bf,"onAnimationIteration");Dn(Of,"onAnimationStart");Dn("dblclick","onDoubleClick");Dn("focusin","onFocus");Dn("focusout","onBlur");Dn($f,"onTransitionEnd");jr("onMouseEnter",["mouseout","mouseover"]);jr("onMouseLeave",["mouseout","mouseover"]);jr("onPointerEnter",["pointerout","pointerover"]);jr("onPointerLeave",["pointerout","pointerover"]);qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bv=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function vc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Um(r,t,void 0,e),e.currentTarget=null}function Af(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;vc(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;vc(i,l,u),o=a}}}if(Lo)throw e=Jl,Lo=!1,Jl=null,e}function ve(e,t){var n=t[aa];n===void 0&&(n=t[aa]=new Set);var r=e+"__bubble";n.has(r)||(zf(t,e,2,!1),n.add(r))}function yl(e,t,n){var r=0;t&&(r|=4),zf(n,e,r,t)}var co="_reactListening"+Math.random().toString(36).slice(2);function Pi(e){if(!e[co]){e[co]=!0,Hd.forEach(function(n){n!=="selectionchange"&&(Bv.has(n)||yl(n,!1,e),yl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[co]||(t[co]=!0,yl("selectionchange",!1,t))}}function zf(e,t,n,r){switch(Ef(t)){case 1:var i=rv;break;case 4:i=iv;break;default:i=Ga}n=i.bind(null,t,n,e),i=void 0,!ql||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function wl(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=An(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}af(function(){var u=o,d=Va(n),f=[];e:{var h=If.get(e);if(h!==void 0){var w=Xa,g=e;switch(e){case"keypress":if(Co(n)===0)break e;case"keydown":case"keyup":w=wv;break;case"focusin":g="focus",w=fl;break;case"focusout":g="blur",w=fl;break;case"beforeblur":case"afterblur":w=fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=lv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Ev;break;case Lf:case bf:case Of:w=cv;break;case $f:w=kv;break;case"scroll":w=ov;break;case"wheel":w=Nv;break;case"copy":case"cut":case"paste":w=fv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=sc}var y=(t&4)!==0,k=!y&&e==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var p=u,x;p!==null;){x=p;var m=x.stateNode;if(x.tag===5&&m!==null&&(x=m,v!==null&&(m=Ei(p,v),m!=null&&y.push(Ri(p,m,x)))),k)break;p=p.return}0<y.length&&(h=new w(h,g,null,n,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",h&&n!==Yl&&(g=n.relatedTarget||n.fromElement)&&(An(g)||g[nn]))break e;if((w||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,w?(g=n.relatedTarget||n.toElement,w=u,g=g?An(g):null,g!==null&&(k=Jn(g),g!==k||g.tag!==5&&g.tag!==6)&&(g=null)):(w=null,g=u),w!==g)){if(y=ic,m="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=sc,m="onPointerLeave",v="onPointerEnter",p="pointer"),k=w==null?h:cr(w),x=g==null?h:cr(g),h=new y(m,p+"leave",w,n,d),h.target=k,h.relatedTarget=x,m=null,An(d)===u&&(y=new y(v,p+"enter",g,n,d),y.target=x,y.relatedTarget=k,m=y),k=m,w&&g)t:{for(y=w,v=g,p=0,x=y;x;x=ir(x))p++;for(x=0,m=v;m;m=ir(m))x++;for(;0<p-x;)y=ir(y),p--;for(;0<x-p;)v=ir(v),x--;for(;p--;){if(y===v||v!==null&&y===v.alternate)break t;y=ir(y),v=ir(v)}y=null}else y=null;w!==null&&gc(f,h,w,y,!1),g!==null&&k!==null&&gc(f,k,g,y,!0)}}e:{if(h=u?cr(u):window,w=h.nodeName&&h.nodeName.toLowerCase(),w==="select"||w==="input"&&h.type==="file")var C=Lv;else if(uc(h))if(Pf)C=Iv;else{C=Ov;var P=bv}else(w=h.nodeName)&&w.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=$v);if(C&&(C=C(e,u))){Tf(f,C,n,d);break e}P&&P(e,h,u),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Vl(h,"number",h.value)}switch(P=u?cr(u):window,e){case"focusin":(uc(P)||P.contentEditable==="true")&&(ar=P,na=u,fi=null);break;case"focusout":fi=na=ar=null;break;case"mousedown":ra=!0;break;case"contextmenu":case"mouseup":case"dragend":ra=!1,pc(f,n,d);break;case"selectionchange":if(Fv)break;case"keydown":case"keyup":pc(f,n,d)}var T;if(Ja)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else lr?jf(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(kf&&n.locale!=="ko"&&(lr||D!=="onCompositionStart"?D==="onCompositionEnd"&&lr&&(T=Cf()):(gn=d,Ya="value"in gn?gn.value:gn.textContent,lr=!0)),P=Ao(u,D),0<P.length&&(D=new oc(D,e,null,n,d),f.push({event:D,listeners:P}),T?D.data=T:(T=Nf(n),T!==null&&(D.data=T)))),(T=Pv?Rv(e,n):_v(e,n))&&(u=Ao(u,"onBeforeInput"),0<u.length&&(d=new oc("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=T))}Af(f,t)})}function Ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ao(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ei(e,n),o!=null&&r.unshift(Ri(e,o,i)),o=Ei(e,t),o!=null&&r.push(Ri(e,o,i))),e=e.return}return r}function ir(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gc(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Ei(n,o),a!=null&&s.unshift(Ri(n,a,l))):i||(a=Ei(n,o),a!=null&&s.push(Ri(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Vv=/\r\n?/g,Hv=/\u0000|\uFFFD/g;function yc(e){return(typeof e=="string"?e:""+e).replace(Vv,`
`).replace(Hv,"")}function fo(e,t,n){if(t=yc(t),yc(e)!==t&&n)throw Error(M(425))}function zo(){}var ia=null,oa=null;function sa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var la=typeof setTimeout=="function"?setTimeout:void 0,Kv=typeof clearTimeout=="function"?clearTimeout:void 0,wc=typeof Promise=="function"?Promise:void 0,Qv=typeof queueMicrotask=="function"?queueMicrotask:typeof wc<"u"?function(e){return wc.resolve(null).then(e).catch(Gv)}:la;function Gv(e){setTimeout(function(){throw e})}function Sl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ji(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ji(t)}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Or=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Or,_i="__reactProps$"+Or,nn="__reactContainer$"+Or,aa="__reactEvents$"+Or,Yv="__reactListeners$"+Or,Xv="__reactHandles$"+Or;function An(e){var t=e[Ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nn]||n[Ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sc(e);e!==null;){if(n=e[Ht])return n;e=Sc(e)}return t}e=n,n=e.parentNode}return null}function Vi(e){return e=e[Ht]||e[nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function ds(e){return e[_i]||null}var ua=[],dr=-1;function Mn(e){return{current:e}}function ge(e){0>dr||(e.current=ua[dr],ua[dr]=null,dr--)}function he(e,t){dr++,ua[dr]=e.current,e.current=t}var Rn={},Je=Mn(Rn),ut=Mn(!1),Vn=Rn;function Nr(e,t){var n=e.type.contextTypes;if(!n)return Rn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ct(e){return e=e.childContextTypes,e!=null}function Fo(){ge(ut),ge(Je)}function xc(e,t,n){if(Je.current!==Rn)throw Error(M(168));he(Je,t),he(ut,n)}function Ff(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(M(108,bm(e)||"Unknown",i));return ke({},n,r)}function Uo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rn,Vn=Je.current,he(Je,e),he(ut,ut.current),!0}function Ec(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=Ff(e,t,Vn),r.__reactInternalMemoizedMergedChildContext=e,ge(ut),ge(Je),he(Je,e)):ge(ut),he(ut,n)}var Xt=null,fs=!1,xl=!1;function Uf(e){Xt===null?Xt=[e]:Xt.push(e)}function qv(e){fs=!0,Uf(e)}function Ln(){if(!xl&&Xt!==null){xl=!0;var e=0,t=ie;try{var n=Xt;for(ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xt=null,fs=!1}catch(i){throw Xt!==null&&(Xt=Xt.slice(e+1)),ff(Ha,Ln),i}finally{ie=t,xl=!1}}return null}var fr=[],hr=0,Wo=null,Bo=0,Ct=[],kt=0,Hn=null,qt=1,Jt="";function $n(e,t){fr[hr++]=Bo,fr[hr++]=Wo,Wo=e,Bo=t}function Wf(e,t,n){Ct[kt++]=qt,Ct[kt++]=Jt,Ct[kt++]=Hn,Hn=e;var r=qt;e=Jt;var i=32-At(r)-1;r&=~(1<<i),n+=1;var o=32-At(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,qt=1<<32-At(t)+i|n<<i|r,Jt=o+e}else qt=1<<o|n<<i|r,Jt=e}function eu(e){e.return!==null&&($n(e,1),Wf(e,1,0))}function tu(e){for(;e===Wo;)Wo=fr[--hr],fr[hr]=null,Bo=fr[--hr],fr[hr]=null;for(;e===Hn;)Hn=Ct[--kt],Ct[kt]=null,Jt=Ct[--kt],Ct[kt]=null,qt=Ct[--kt],Ct[kt]=null}var mt=null,pt=null,we=!1,It=null;function Bf(e,t){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Cc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,pt=En(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Hn!==null?{id:qt,overflow:Jt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mt=e,pt=null,!0):!1;default:return!1}}function ca(e){return(e.mode&1)!==0&&(e.flags&128)===0}function da(e){if(we){var t=pt;if(t){var n=t;if(!Cc(e,t)){if(ca(e))throw Error(M(418));t=En(n.nextSibling);var r=mt;t&&Cc(e,t)?Bf(r,n):(e.flags=e.flags&-4097|2,we=!1,mt=e)}}else{if(ca(e))throw Error(M(418));e.flags=e.flags&-4097|2,we=!1,mt=e}}}function kc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function ho(e){if(e!==mt)return!1;if(!we)return kc(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sa(e.type,e.memoizedProps)),t&&(t=pt)){if(ca(e))throw Vf(),Error(M(418));for(;t;)Bf(e,t),t=En(t.nextSibling)}if(kc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pt=En(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=mt?En(e.stateNode.nextSibling):null;return!0}function Vf(){for(var e=pt;e;)e=En(e.nextSibling)}function Tr(){pt=mt=null,we=!1}function nu(e){It===null?It=[e]:It.push(e)}var Jv=sn.ReactCurrentBatchConfig;function bt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Vo=Mn(null),Ho=null,pr=null,ru=null;function iu(){ru=pr=Ho=null}function ou(e){var t=Vo.current;ge(Vo),e._currentValue=t}function fa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Er(e,t){Ho=e,ru=pr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(ru!==e)if(e={context:e,memoizedValue:t,next:null},pr===null){if(Ho===null)throw Error(M(308));pr=e,Ho.dependencies={lanes:0,firstContext:e}}else pr=pr.next=e;return t}var zn=null;function su(e){zn===null?zn=[e]:zn.push(e)}function Hf(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,su(t)):(n.next=i.next,i.next=n),t.interleaved=n,rn(e,r)}function rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pn=!1;function lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,rn(e,n)}return i=r.interleaved,i===null?(t.next=t,su(r)):(t.next=i.next,i.next=t),r.interleaved=t,rn(e,n)}function ko(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ka(e,n)}}function jc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ko(e,t,n,r){var i=e.updateQueue;pn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(o!==null){var f=i.baseState;s=0,d=u=a=null,l=o;do{var h=l.lane,w=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,y=l;switch(h=t,w=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(w,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(w,f,h):g,h==null)break e;f=ke({},f,h);break e;case 2:pn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else w={eventTime:w,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=w,a=f):d=d.next=w,s|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Qn|=s,e.lanes=s,e.memoizedState=f}}function Nc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(M(191,i));i.call(r)}}}var Qf=new Vd.Component().refs;function ha(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hs={isMounted:function(e){return(e=e._reactInternals)?Jn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=rt(),i=jn(e),o=Zt(r,i);o.payload=t,n!=null&&(o.callback=n),t=Cn(e,o,i),t!==null&&(zt(t,e,i,r),ko(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=rt(),i=jn(e),o=Zt(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Cn(e,o,i),t!==null&&(zt(t,e,i,r),ko(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rt(),r=jn(e),i=Zt(n,r);i.tag=2,t!=null&&(i.callback=t),t=Cn(e,i,r),t!==null&&(zt(t,e,r,n),ko(t,e,r))}};function Tc(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Ti(n,r)||!Ti(i,o):!0}function Gf(e,t,n){var r=!1,i=Rn,o=t.contextType;return typeof o=="object"&&o!==null?o=Tt(o):(i=ct(t)?Vn:Je.current,r=t.contextTypes,o=(r=r!=null)?Nr(e,i):Rn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Pc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hs.enqueueReplaceState(t,t.state,null)}function pa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Qf,lu(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Tt(o):(o=ct(t)?Vn:Je.current,i.context=Nr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ha(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&hs.enqueueReplaceState(i,i.state,null),Ko(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;l===Qf&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function po(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rc(e){var t=e._init;return t(e._payload)}function Yf(e){function t(v,p){if(e){var x=v.deletions;x===null?(v.deletions=[p],v.flags|=16):x.push(p)}}function n(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function r(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function i(v,p){return v=Nn(v,p),v.index=0,v.sibling=null,v}function o(v,p,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<p?(v.flags|=2,p):x):(v.flags|=2,p)):(v.flags|=1048576,p)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,p,x,m){return p===null||p.tag!==6?(p=Pl(x,v.mode,m),p.return=v,p):(p=i(p,x),p.return=v,p)}function a(v,p,x,m){var C=x.type;return C===sr?d(v,p,x.props.children,m,x.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===hn&&Rc(C)===p.type)?(m=i(p,x.props),m.ref=Xr(v,p,x),m.return=v,m):(m=_o(x.type,x.key,x.props,null,v.mode,m),m.ref=Xr(v,p,x),m.return=v,m)}function u(v,p,x,m){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=Rl(x,v.mode,m),p.return=v,p):(p=i(p,x.children||[]),p.return=v,p)}function d(v,p,x,m,C){return p===null||p.tag!==7?(p=Bn(x,v.mode,m,C),p.return=v,p):(p=i(p,x),p.return=v,p)}function f(v,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Pl(""+p,v.mode,x),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case no:return x=_o(p.type,p.key,p.props,null,v.mode,x),x.ref=Xr(v,null,p),x.return=v,x;case or:return p=Rl(p,v.mode,x),p.return=v,p;case hn:var m=p._init;return f(v,m(p._payload),x)}if(oi(p)||Hr(p))return p=Bn(p,v.mode,x,null),p.return=v,p;po(v,p)}return null}function h(v,p,x,m){var C=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:l(v,p,""+x,m);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case no:return x.key===C?a(v,p,x,m):null;case or:return x.key===C?u(v,p,x,m):null;case hn:return C=x._init,h(v,p,C(x._payload),m)}if(oi(x)||Hr(x))return C!==null?null:d(v,p,x,m,null);po(v,x)}return null}function w(v,p,x,m,C){if(typeof m=="string"&&m!==""||typeof m=="number")return v=v.get(x)||null,l(p,v,""+m,C);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case no:return v=v.get(m.key===null?x:m.key)||null,a(p,v,m,C);case or:return v=v.get(m.key===null?x:m.key)||null,u(p,v,m,C);case hn:var P=m._init;return w(v,p,x,P(m._payload),C)}if(oi(m)||Hr(m))return v=v.get(x)||null,d(p,v,m,C,null);po(p,m)}return null}function g(v,p,x,m){for(var C=null,P=null,T=p,D=p=0,$=null;T!==null&&D<x.length;D++){T.index>D?($=T,T=null):$=T.sibling;var O=h(v,T,x[D],m);if(O===null){T===null&&(T=$);break}e&&T&&O.alternate===null&&t(v,T),p=o(O,p,D),P===null?C=O:P.sibling=O,P=O,T=$}if(D===x.length)return n(v,T),we&&$n(v,D),C;if(T===null){for(;D<x.length;D++)T=f(v,x[D],m),T!==null&&(p=o(T,p,D),P===null?C=T:P.sibling=T,P=T);return we&&$n(v,D),C}for(T=r(v,T);D<x.length;D++)$=w(T,v,D,x[D],m),$!==null&&(e&&$.alternate!==null&&T.delete($.key===null?D:$.key),p=o($,p,D),P===null?C=$:P.sibling=$,P=$);return e&&T.forEach(function(Q){return t(v,Q)}),we&&$n(v,D),C}function y(v,p,x,m){var C=Hr(x);if(typeof C!="function")throw Error(M(150));if(x=C.call(x),x==null)throw Error(M(151));for(var P=C=null,T=p,D=p=0,$=null,O=x.next();T!==null&&!O.done;D++,O=x.next()){T.index>D?($=T,T=null):$=T.sibling;var Q=h(v,T,O.value,m);if(Q===null){T===null&&(T=$);break}e&&T&&Q.alternate===null&&t(v,T),p=o(Q,p,D),P===null?C=Q:P.sibling=Q,P=Q,T=$}if(O.done)return n(v,T),we&&$n(v,D),C;if(T===null){for(;!O.done;D++,O=x.next())O=f(v,O.value,m),O!==null&&(p=o(O,p,D),P===null?C=O:P.sibling=O,P=O);return we&&$n(v,D),C}for(T=r(v,T);!O.done;D++,O=x.next())O=w(T,v,D,O.value,m),O!==null&&(e&&O.alternate!==null&&T.delete(O.key===null?D:O.key),p=o(O,p,D),P===null?C=O:P.sibling=O,P=O);return e&&T.forEach(function(Z){return t(v,Z)}),we&&$n(v,D),C}function k(v,p,x,m){if(typeof x=="object"&&x!==null&&x.type===sr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case no:e:{for(var C=x.key,P=p;P!==null;){if(P.key===C){if(C=x.type,C===sr){if(P.tag===7){n(v,P.sibling),p=i(P,x.props.children),p.return=v,v=p;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===hn&&Rc(C)===P.type){n(v,P.sibling),p=i(P,x.props),p.ref=Xr(v,P,x),p.return=v,v=p;break e}n(v,P);break}else t(v,P);P=P.sibling}x.type===sr?(p=Bn(x.props.children,v.mode,m,x.key),p.return=v,v=p):(m=_o(x.type,x.key,x.props,null,v.mode,m),m.ref=Xr(v,p,x),m.return=v,v=m)}return s(v);case or:e:{for(P=x.key;p!==null;){if(p.key===P)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){n(v,p.sibling),p=i(p,x.children||[]),p.return=v,v=p;break e}else{n(v,p);break}else t(v,p);p=p.sibling}p=Rl(x,v.mode,m),p.return=v,v=p}return s(v);case hn:return P=x._init,k(v,p,P(x._payload),m)}if(oi(x))return g(v,p,x,m);if(Hr(x))return y(v,p,x,m);po(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(n(v,p.sibling),p=i(p,x),p.return=v,v=p):(n(v,p),p=Pl(x,v.mode,m),p.return=v,v=p),s(v)):n(v,p)}return k}var Pr=Yf(!0),Xf=Yf(!1),Hi={},Qt=Mn(Hi),Di=Mn(Hi),Mi=Mn(Hi);function Fn(e){if(e===Hi)throw Error(M(174));return e}function au(e,t){switch(he(Mi,t),he(Di,e),he(Qt,Hi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kl(t,e)}ge(Qt),he(Qt,t)}function Rr(){ge(Qt),ge(Di),ge(Mi)}function qf(e){Fn(Mi.current);var t=Fn(Qt.current),n=Kl(t,e.type);t!==n&&(he(Di,e),he(Qt,n))}function uu(e){Di.current===e&&(ge(Qt),ge(Di))}var xe=Mn(0);function Qo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var El=[];function cu(){for(var e=0;e<El.length;e++)El[e]._workInProgressVersionPrimary=null;El.length=0}var jo=sn.ReactCurrentDispatcher,Cl=sn.ReactCurrentBatchConfig,Kn=0,Ce=null,Ie=null,Ue=null,Go=!1,hi=!1,Li=0,Zv=0;function Ge(){throw Error(M(321))}function du(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ft(e[n],t[n]))return!1;return!0}function fu(e,t,n,r,i,o){if(Kn=o,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jo.current=e===null||e.memoizedState===null?rg:ig,e=n(r,i),hi){o=0;do{if(hi=!1,Li=0,25<=o)throw Error(M(301));o+=1,Ue=Ie=null,t.updateQueue=null,jo.current=og,e=n(r,i)}while(hi)}if(jo.current=Yo,t=Ie!==null&&Ie.next!==null,Kn=0,Ue=Ie=Ce=null,Go=!1,t)throw Error(M(300));return e}function hu(){var e=Li!==0;return Li=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Ce.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Pt(){if(Ie===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Ue===null?Ce.memoizedState:Ue.next;if(t!==null)Ue=t,Ie=e;else{if(e===null)throw Error(M(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Ue===null?Ce.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function bi(e,t){return typeof t=="function"?t(e):t}function kl(e){var t=Pt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=Ie,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var d=u.lane;if((Kn&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,s=r):a=a.next=f,Ce.lanes|=d,Qn|=d}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,Ft(r,t.memoizedState)||(at=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ce.lanes|=o,Qn|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jl(e){var t=Pt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Ft(o,t.memoizedState)||(at=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Jf(){}function Zf(e,t){var n=Ce,r=Pt(),i=t(),o=!Ft(r.memoizedState,i);if(o&&(r.memoizedState=i,at=!0),r=r.queue,pu(nh.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,Oi(9,th.bind(null,n,r,i,t),void 0,null),We===null)throw Error(M(349));Kn&30||eh(n,t,i)}return i}function eh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function th(e,t,n,r){t.value=n,t.getSnapshot=r,rh(t)&&ih(e)}function nh(e,t,n){return n(function(){rh(t)&&ih(e)})}function rh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ft(e,n)}catch{return!0}}function ih(e){var t=rn(e,1);t!==null&&zt(t,e,1,-1)}function _c(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=ng.bind(null,Ce,e),[t.memoizedState,e]}function Oi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function oh(){return Pt().memoizedState}function No(e,t,n,r){var i=Vt();Ce.flags|=e,i.memoizedState=Oi(1|t,n,void 0,r===void 0?null:r)}function ps(e,t,n,r){var i=Pt();r=r===void 0?null:r;var o=void 0;if(Ie!==null){var s=Ie.memoizedState;if(o=s.destroy,r!==null&&du(r,s.deps)){i.memoizedState=Oi(t,n,o,r);return}}Ce.flags|=e,i.memoizedState=Oi(1|t,n,o,r)}function Dc(e,t){return No(8390656,8,e,t)}function pu(e,t){return ps(2048,8,e,t)}function sh(e,t){return ps(4,2,e,t)}function lh(e,t){return ps(4,4,e,t)}function ah(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uh(e,t,n){return n=n!=null?n.concat([e]):null,ps(4,4,ah.bind(null,t,e),n)}function mu(){}function ch(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&du(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function dh(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&du(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fh(e,t,n){return Kn&21?(Ft(n,t)||(n=mf(),Ce.lanes|=n,Qn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=n)}function eg(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var r=Cl.transition;Cl.transition={};try{e(!1),t()}finally{ie=n,Cl.transition=r}}function hh(){return Pt().memoizedState}function tg(e,t,n){var r=jn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ph(e))mh(t,n);else if(n=Hf(e,t,n,r),n!==null){var i=rt();zt(n,e,r,i),vh(n,t,r)}}function ng(e,t,n){var r=jn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ph(e))mh(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Ft(l,s)){var a=t.interleaved;a===null?(i.next=i,su(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Hf(e,t,i,r),n!==null&&(i=rt(),zt(n,e,r,i),vh(n,t,r))}}function ph(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function mh(e,t){hi=Go=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ka(e,n)}}var Yo={readContext:Tt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},rg={readContext:Tt,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Dc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,No(4194308,4,ah.bind(null,t,e),n)},useLayoutEffect:function(e,t){return No(4194308,4,e,t)},useInsertionEffect:function(e,t){return No(4,2,e,t)},useMemo:function(e,t){var n=Vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Vt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tg.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:_c,useDebugValue:mu,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=_c(!1),t=e[0];return e=eg.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ce,i=Vt();if(we){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),We===null)throw Error(M(349));Kn&30||eh(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Dc(nh.bind(null,r,o,e),[e]),r.flags|=2048,Oi(9,th.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Vt(),t=We.identifierPrefix;if(we){var n=Jt,r=qt;n=(r&~(1<<32-At(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Li++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Zv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ig={readContext:Tt,useCallback:ch,useContext:Tt,useEffect:pu,useImperativeHandle:uh,useInsertionEffect:sh,useLayoutEffect:lh,useMemo:dh,useReducer:kl,useRef:oh,useState:function(){return kl(bi)},useDebugValue:mu,useDeferredValue:function(e){var t=Pt();return fh(t,Ie.memoizedState,e)},useTransition:function(){var e=kl(bi)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Jf,useSyncExternalStore:Zf,useId:hh,unstable_isNewReconciler:!1},og={readContext:Tt,useCallback:ch,useContext:Tt,useEffect:pu,useImperativeHandle:uh,useInsertionEffect:sh,useLayoutEffect:lh,useMemo:dh,useReducer:jl,useRef:oh,useState:function(){return jl(bi)},useDebugValue:mu,useDeferredValue:function(e){var t=Pt();return Ie===null?t.memoizedState=e:fh(t,Ie.memoizedState,e)},useTransition:function(){var e=jl(bi)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Jf,useSyncExternalStore:Zf,useId:hh,unstable_isNewReconciler:!1};function _r(e,t){try{var n="",r=t;do n+=Lm(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Nl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ma(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sg=typeof WeakMap=="function"?WeakMap:Map;function gh(e,t,n){n=Zt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qo||(qo=!0,ja=r),ma(e,t)},n}function yh(e,t,n){n=Zt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ma(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ma(e,t),typeof r!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Mc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sg;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sg.bind(null,e,t,n),t.then(e,e))}function Lc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bc(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zt(-1,1),t.tag=2,Cn(n,t,1))),n.lanes|=1),e)}var lg=sn.ReactCurrentOwner,at=!1;function nt(e,t,n,r){t.child=e===null?Xf(t,null,n,r):Pr(t,e.child,n,r)}function Oc(e,t,n,r,i){n=n.render;var o=t.ref;return Er(t,i),r=fu(e,t,n,r,o,i),n=hu(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,on(e,t,i)):(we&&n&&eu(t),t.flags|=1,nt(e,t,r,i),t.child)}function $c(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Cu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,wh(e,t,o,r,i)):(e=_o(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ti,n(s,r)&&e.ref===t.ref)return on(e,t,i)}return t.flags|=1,e=Nn(o,r),e.ref=t.ref,e.return=t,t.child=e}function wh(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ti(o,r)&&e.ref===t.ref)if(at=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,on(e,t,i)}return va(e,t,n,r,i)}function Sh(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(vr,ht),ht|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(vr,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,he(vr,ht),ht|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,he(vr,ht),ht|=r;return nt(e,t,i,n),t.child}function xh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function va(e,t,n,r,i){var o=ct(n)?Vn:Je.current;return o=Nr(t,o),Er(t,i),n=fu(e,t,n,r,o,i),r=hu(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,on(e,t,i)):(we&&r&&eu(t),t.flags|=1,nt(e,t,n,i),t.child)}function Ic(e,t,n,r,i){if(ct(n)){var o=!0;Uo(t)}else o=!1;if(Er(t,i),t.stateNode===null)To(e,t),Gf(t,n,r),pa(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tt(u):(u=ct(n)?Vn:Je.current,u=Nr(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Pc(t,s,r,u),pn=!1;var h=t.memoizedState;s.state=h,Ko(t,r,s,i),a=t.memoizedState,l!==r||h!==a||ut.current||pn?(typeof d=="function"&&(ha(t,n,d,r),a=t.memoizedState),(l=pn||Tc(t,n,l,r,h,a,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Kf(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:bt(t.type,l),s.props=u,f=t.pendingProps,h=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Tt(a):(a=ct(n)?Vn:Je.current,a=Nr(t,a));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==a)&&Pc(t,s,r,a),pn=!1,h=t.memoizedState,s.state=h,Ko(t,r,s,i);var g=t.memoizedState;l!==f||h!==g||ut.current||pn?(typeof w=="function"&&(ha(t,n,w,r),g=t.memoizedState),(u=pn||Tc(t,n,u,r,h,g,a)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ga(e,t,n,r,o,i)}function ga(e,t,n,r,i,o){xh(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Ec(t,n,!1),on(e,t,o);r=t.stateNode,lg.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Pr(t,e.child,null,o),t.child=Pr(t,null,l,o)):nt(e,t,l,o),t.memoizedState=r.state,i&&Ec(t,n,!0),t.child}function Eh(e){var t=e.stateNode;t.pendingContext?xc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xc(e,t.context,!1),au(e,t.containerInfo)}function Ac(e,t,n,r,i){return Tr(),nu(i),t.flags|=256,nt(e,t,n,r),t.child}var ya={dehydrated:null,treeContext:null,retryLane:0};function wa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ch(e,t,n){var r=t.pendingProps,i=xe.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),he(xe,i&1),e===null)return da(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=gs(s,r,0,null),e=Bn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=wa(n),t.memoizedState=ya,e):vu(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return ag(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Nn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Nn(l,o):(o=Bn(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?wa(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=ya,r}return o=e.child,e=o.sibling,r=Nn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function vu(e,t){return t=gs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mo(e,t,n,r){return r!==null&&nu(r),Pr(t,e.child,null,n),e=vu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ag(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Nl(Error(M(422))),mo(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=gs({mode:"visible",children:r.children},i,0,null),o=Bn(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Pr(t,e.child,null,s),t.child.memoizedState=wa(s),t.memoizedState=ya,o);if(!(t.mode&1))return mo(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(M(419)),r=Nl(o,r,void 0),mo(e,t,s,r)}if(l=(s&e.childLanes)!==0,at||l){if(r=We,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,rn(e,i),zt(r,e,i,-1))}return Eu(),r=Nl(Error(M(421))),mo(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=xg.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,pt=En(i.nextSibling),mt=t,we=!0,It=null,e!==null&&(Ct[kt++]=qt,Ct[kt++]=Jt,Ct[kt++]=Hn,qt=e.id,Jt=e.overflow,Hn=t),t=vu(t,r.children),t.flags|=4096,t)}function zc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fa(e.return,t,n)}function Tl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function kh(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(nt(e,t,r.children,n),r=xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zc(e,n,t);else if(e.tag===19)zc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(xe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Qo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Tl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Qo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Tl(t,!0,n,null,o);break;case"together":Tl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function To(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function on(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ug(e,t,n){switch(t.tag){case 3:Eh(t),Tr();break;case 5:qf(t);break;case 1:ct(t.type)&&Uo(t);break;case 4:au(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;he(Vo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?Ch(e,t,n):(he(xe,xe.current&1),e=on(e,t,n),e!==null?e.sibling:null);he(xe,xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(xe,xe.current),r)break;return null;case 22:case 23:return t.lanes=0,Sh(e,t,n)}return on(e,t,n)}var jh,Sa,Nh,Th;jh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sa=function(){};Nh=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Fn(Qt.current);var o=null;switch(n){case"input":i=Wl(e,i),r=Wl(e,r),o=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),o=[];break;case"textarea":i=Hl(e,i),r=Hl(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zo)}Ql(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Si.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Si.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ve("scroll",e),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Th=function(e,t,n,r){n!==r&&(t.flags|=4)};function qr(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function cg(e,t,n){var r=t.pendingProps;switch(tu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return ct(t.type)&&Fo(),Ye(t),null;case 3:return r=t.stateNode,Rr(),ge(ut),ge(Je),cu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ho(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(Pa(It),It=null))),Sa(e,t),Ye(t),null;case 5:uu(t);var i=Fn(Mi.current);if(n=t.type,e!==null&&t.stateNode!=null)Nh(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return Ye(t),null}if(e=Fn(Qt.current),ho(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ht]=t,r[_i]=o,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(i=0;i<li.length;i++)ve(li[i],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Gu(r,o),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ve("invalid",r);break;case"textarea":Xu(r,o),ve("invalid",r)}Ql(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&fo(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&fo(r.textContent,l,e),i=["children",""+l]):Si.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ve("scroll",r)}switch(n){case"input":ro(r),Yu(r,o,!0);break;case"textarea":ro(r),qu(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=zo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ht]=t,e[_i]=r,jh(e,t,!1,!1),t.stateNode=e;e:{switch(s=Gl(n,r),n){case"dialog":ve("cancel",e),ve("close",e),i=r;break;case"iframe":case"object":case"embed":ve("load",e),i=r;break;case"video":case"audio":for(i=0;i<li.length;i++)ve(li[i],e);i=r;break;case"source":ve("error",e),i=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),i=r;break;case"details":ve("toggle",e),i=r;break;case"input":Gu(e,r),i=Wl(e,r),ve("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),ve("invalid",e);break;case"textarea":Xu(e,r),i=Hl(e,r),ve("invalid",e);break;default:i=r}Ql(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?nf(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&ef(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&xi(e,a):typeof a=="number"&&xi(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Si.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ve("scroll",e):a!=null&&Fa(e,o,a,s))}switch(n){case"input":ro(e),Yu(e,r,!1);break;case"textarea":ro(e),qu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Pn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?yr(e,!!r.multiple,o,!1):r.defaultValue!=null&&yr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=zo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)Th(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=Fn(Mi.current),Fn(Qt.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ht]=t,(o=r.nodeValue!==n)&&(e=mt,e!==null))switch(e.tag){case 3:fo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ht]=t,t.stateNode=r}return Ye(t),null;case 13:if(ge(xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&pt!==null&&t.mode&1&&!(t.flags&128))Vf(),Tr(),t.flags|=98560,o=!1;else if(o=ho(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(M(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(M(317));o[Ht]=t}else Tr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),o=!1}else It!==null&&(Pa(It),It=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Ae===0&&(Ae=3):Eu())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return Rr(),Sa(e,t),e===null&&Pi(t.stateNode.containerInfo),Ye(t),null;case 10:return ou(t.type._context),Ye(t),null;case 17:return ct(t.type)&&Fo(),Ye(t),null;case 19:if(ge(xe),o=t.memoizedState,o===null)return Ye(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)qr(o,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Qo(e),s!==null){for(t.flags|=128,qr(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(xe,xe.current&1|2),t.child}e=e.sibling}o.tail!==null&&_e()>Dr&&(t.flags|=128,r=!0,qr(o,!1),t.lanes=4194304)}else{if(!r)if(e=Qo(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!we)return Ye(t),null}else 2*_e()-o.renderingStartTime>Dr&&n!==1073741824&&(t.flags|=128,r=!0,qr(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=_e(),t.sibling=null,n=xe.current,he(xe,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return xu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ht&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function dg(e,t){switch(tu(t),t.tag){case 1:return ct(t.type)&&Fo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rr(),ge(ut),ge(Je),cu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uu(t),null;case 13:if(ge(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Tr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(xe),null;case 4:return Rr(),null;case 10:return ou(t.type._context),null;case 22:case 23:return xu(),null;case 24:return null;default:return null}}var vo=!1,qe=!1,fg=typeof WeakSet=="function"?WeakSet:Set,I=null;function mr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function xa(e,t,n){try{n()}catch(r){je(e,t,r)}}var Fc=!1;function hg(e,t){if(ia=$o,e=Df(),Za(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var w;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==o||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(w=f.firstChild)!==null;)h=f,f=w;for(;;){if(f===e)break t;if(h===n&&++u===i&&(l=s),h===o&&++d===r&&(a=s),(w=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=w}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(oa={focusedElem:e,selectionRange:n},$o=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,k=g.memoizedState,v=t.stateNode,p=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:bt(t.type,y),k);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(m){je(t,t.return,m)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return g=Fc,Fc=!1,g}function pi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&xa(t,n,o)}i=i.next}while(i!==r)}}function ms(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ea(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ph(e){var t=e.alternate;t!==null&&(e.alternate=null,Ph(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[_i],delete t[aa],delete t[Yv],delete t[Xv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rh(e){return e.tag===5||e.tag===3||e.tag===4}function Uc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ca(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zo));else if(r!==4&&(e=e.child,e!==null))for(Ca(e,t,n),e=e.sibling;e!==null;)Ca(e,t,n),e=e.sibling}function ka(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ka(e,t,n),e=e.sibling;e!==null;)ka(e,t,n),e=e.sibling}var He=null,Ot=!1;function dn(e,t,n){for(n=n.child;n!==null;)_h(e,t,n),n=n.sibling}function _h(e,t,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ls,n)}catch{}switch(n.tag){case 5:qe||mr(n,t);case 6:var r=He,i=Ot;He=null,dn(e,t,n),He=r,Ot=i,He!==null&&(Ot?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Ot?(e=He,n=n.stateNode,e.nodeType===8?Sl(e.parentNode,n):e.nodeType===1&&Sl(e,n),ji(e)):Sl(He,n.stateNode));break;case 4:r=He,i=Ot,He=n.stateNode.containerInfo,Ot=!0,dn(e,t,n),He=r,Ot=i;break;case 0:case 11:case 14:case 15:if(!qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&xa(n,t,s),i=i.next}while(i!==r)}dn(e,t,n);break;case 1:if(!qe&&(mr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){je(n,t,l)}dn(e,t,n);break;case 21:dn(e,t,n);break;case 22:n.mode&1?(qe=(r=qe)||n.memoizedState!==null,dn(e,t,n),qe=r):dn(e,t,n);break;default:dn(e,t,n)}}function Wc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fg),t.forEach(function(r){var i=Eg.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,Ot=!1;break e;case 3:He=l.stateNode.containerInfo,Ot=!0;break e;case 4:He=l.stateNode.containerInfo,Ot=!0;break e}l=l.return}if(He===null)throw Error(M(160));_h(o,s,i),He=null,Ot=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){je(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dh(t,e),t=t.sibling}function Dh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Bt(e),r&4){try{pi(3,e,e.return),ms(3,e)}catch(y){je(e,e.return,y)}try{pi(5,e,e.return)}catch(y){je(e,e.return,y)}}break;case 1:Lt(t,e),Bt(e),r&512&&n!==null&&mr(n,n.return);break;case 5:if(Lt(t,e),Bt(e),r&512&&n!==null&&mr(n,n.return),e.flags&32){var i=e.stateNode;try{xi(i,"")}catch(y){je(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&qd(i,o),Gl(l,s);var u=Gl(l,o);for(s=0;s<a.length;s+=2){var d=a[s],f=a[s+1];d==="style"?nf(i,f):d==="dangerouslySetInnerHTML"?ef(i,f):d==="children"?xi(i,f):Fa(i,d,f,u)}switch(l){case"input":Bl(i,o);break;case"textarea":Jd(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?yr(i,!!o.multiple,w,!1):h!==!!o.multiple&&(o.defaultValue!=null?yr(i,!!o.multiple,o.defaultValue,!0):yr(i,!!o.multiple,o.multiple?[]:"",!1))}i[_i]=o}catch(y){je(e,e.return,y)}}break;case 6:if(Lt(t,e),Bt(e),r&4){if(e.stateNode===null)throw Error(M(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){je(e,e.return,y)}}break;case 3:if(Lt(t,e),Bt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ji(t.containerInfo)}catch(y){je(e,e.return,y)}break;case 4:Lt(t,e),Bt(e);break;case 13:Lt(t,e),Bt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(wu=_e())),r&4&&Wc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(qe=(u=qe)||d,Lt(t,e),qe=u):Lt(t,e),Bt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(I=e,d=e.child;d!==null;){for(f=I=d;I!==null;){switch(h=I,w=h.child,h.tag){case 0:case 11:case 14:case 15:pi(4,h,h.return);break;case 1:mr(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){je(r,n,y)}}break;case 5:mr(h,h.return);break;case 22:if(h.memoizedState!==null){Vc(f);continue}}w!==null?(w.return=h,I=w):Vc(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=tf("display",s))}catch(y){je(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){je(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Lt(t,e),Bt(e),r&4&&Wc(e);break;case 21:break;default:Lt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Rh(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xi(i,""),r.flags&=-33);var o=Uc(e);ka(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Uc(e);Ca(e,l,s);break;default:throw Error(M(161))}}catch(a){je(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pg(e,t,n){I=e,Mh(e)}function Mh(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var i=I,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||vo;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||qe;l=vo;var u=qe;if(vo=s,(qe=a)&&!u)for(I=i;I!==null;)s=I,a=s.child,s.tag===22&&s.memoizedState!==null?Hc(i):a!==null?(a.return=s,I=a):Hc(i);for(;o!==null;)I=o,Mh(o),o=o.sibling;I=i,vo=l,qe=u}Bc(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,I=o):Bc(e)}}function Bc(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qe||ms(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:bt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Nc(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Nc(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ji(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}qe||t.flags&512&&Ea(t)}catch(h){je(t,t.return,h)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function Vc(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function Hc(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ms(4,t)}catch(a){je(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){je(t,i,a)}}var o=t.return;try{Ea(t)}catch(a){je(t,o,a)}break;case 5:var s=t.return;try{Ea(t)}catch(a){je(t,s,a)}}}catch(a){je(t,t.return,a)}if(t===e){I=null;break}var l=t.sibling;if(l!==null){l.return=t.return,I=l;break}I=t.return}}var mg=Math.ceil,Xo=sn.ReactCurrentDispatcher,gu=sn.ReactCurrentOwner,Nt=sn.ReactCurrentBatchConfig,te=0,We=null,$e=null,Ke=0,ht=0,vr=Mn(0),Ae=0,$i=null,Qn=0,vs=0,yu=0,mi=null,lt=null,wu=0,Dr=1/0,Yt=null,qo=!1,ja=null,kn=null,go=!1,yn=null,Jo=0,vi=0,Na=null,Po=-1,Ro=0;function rt(){return te&6?_e():Po!==-1?Po:Po=_e()}function jn(e){return e.mode&1?te&2&&Ke!==0?Ke&-Ke:Jv.transition!==null?(Ro===0&&(Ro=mf()),Ro):(e=ie,e!==0||(e=window.event,e=e===void 0?16:Ef(e.type)),e):1}function zt(e,t,n,r){if(50<vi)throw vi=0,Na=null,Error(M(185));Wi(e,n,r),(!(te&2)||e!==We)&&(e===We&&(!(te&2)&&(vs|=n),Ae===4&&vn(e,Ke)),dt(e,r),n===1&&te===0&&!(t.mode&1)&&(Dr=_e()+500,fs&&Ln()))}function dt(e,t){var n=e.callbackNode;Jm(e,t);var r=Oo(e,e===We?Ke:0);if(r===0)n!==null&&ec(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ec(n),t===1)e.tag===0?qv(Kc.bind(null,e)):Uf(Kc.bind(null,e)),Qv(function(){!(te&6)&&Ln()}),n=null;else{switch(vf(r)){case 1:n=Ha;break;case 4:n=hf;break;case 16:n=bo;break;case 536870912:n=pf;break;default:n=bo}n=Fh(n,Lh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Lh(e,t){if(Po=-1,Ro=0,te&6)throw Error(M(327));var n=e.callbackNode;if(Cr()&&e.callbackNode!==n)return null;var r=Oo(e,e===We?Ke:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zo(e,r);else{t=r;var i=te;te|=2;var o=Oh();(We!==e||Ke!==t)&&(Yt=null,Dr=_e()+500,Wn(e,t));do try{yg();break}catch(l){bh(e,l)}while(1);iu(),Xo.current=o,te=i,$e!==null?t=0:(We=null,Ke=0,t=Ae)}if(t!==0){if(t===2&&(i=Zl(e),i!==0&&(r=i,t=Ta(e,i))),t===1)throw n=$i,Wn(e,0),vn(e,r),dt(e,_e()),n;if(t===6)vn(e,r);else{if(i=e.current.alternate,!(r&30)&&!vg(i)&&(t=Zo(e,r),t===2&&(o=Zl(e),o!==0&&(r=o,t=Ta(e,o))),t===1))throw n=$i,Wn(e,0),vn(e,r),dt(e,_e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:In(e,lt,Yt);break;case 3:if(vn(e,r),(r&130023424)===r&&(t=wu+500-_e(),10<t)){if(Oo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){rt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=la(In.bind(null,e,lt,Yt),t);break}In(e,lt,Yt);break;case 4:if(vn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-At(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mg(r/1960))-r,10<r){e.timeoutHandle=la(In.bind(null,e,lt,Yt),r);break}In(e,lt,Yt);break;case 5:In(e,lt,Yt);break;default:throw Error(M(329))}}}return dt(e,_e()),e.callbackNode===n?Lh.bind(null,e):null}function Ta(e,t){var n=mi;return e.current.memoizedState.isDehydrated&&(Wn(e,t).flags|=256),e=Zo(e,t),e!==2&&(t=lt,lt=n,t!==null&&Pa(t)),e}function Pa(e){lt===null?lt=e:lt.push.apply(lt,e)}function vg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ft(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vn(e,t){for(t&=~yu,t&=~vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-At(t),r=1<<n;e[n]=-1,t&=~r}}function Kc(e){if(te&6)throw Error(M(327));Cr();var t=Oo(e,0);if(!(t&1))return dt(e,_e()),null;var n=Zo(e,t);if(e.tag!==0&&n===2){var r=Zl(e);r!==0&&(t=r,n=Ta(e,r))}if(n===1)throw n=$i,Wn(e,0),vn(e,t),dt(e,_e()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,In(e,lt,Yt),dt(e,_e()),null}function Su(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(Dr=_e()+500,fs&&Ln())}}function Gn(e){yn!==null&&yn.tag===0&&!(te&6)&&Cr();var t=te;te|=1;var n=Nt.transition,r=ie;try{if(Nt.transition=null,ie=1,e)return e()}finally{ie=r,Nt.transition=n,te=t,!(te&6)&&Ln()}}function xu(){ht=vr.current,ge(vr)}function Wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Kv(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(tu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fo();break;case 3:Rr(),ge(ut),ge(Je),cu();break;case 5:uu(r);break;case 4:Rr();break;case 13:ge(xe);break;case 19:ge(xe);break;case 10:ou(r.type._context);break;case 22:case 23:xu()}n=n.return}if(We=e,$e=e=Nn(e.current,null),Ke=ht=t,Ae=0,$i=null,yu=vs=Qn=0,lt=mi=null,zn!==null){for(t=0;t<zn.length;t++)if(n=zn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}zn=null}return e}function bh(e,t){do{var n=$e;try{if(iu(),jo.current=Yo,Go){for(var r=Ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Go=!1}if(Kn=0,Ue=Ie=Ce=null,hi=!1,Li=0,gu.current=null,n===null||n.return===null){Ae=1,$i=t,$e=null;break}e:{var o=e,s=n.return,l=n,a=t;if(t=Ke,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Lc(s);if(w!==null){w.flags&=-257,bc(w,s,l,o,t),w.mode&1&&Mc(o,u,t),t=w,a=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(a),t.updateQueue=y}else g.add(a);break e}else{if(!(t&1)){Mc(o,u,t),Eu();break e}a=Error(M(426))}}else if(we&&l.mode&1){var k=Lc(s);if(k!==null){!(k.flags&65536)&&(k.flags|=256),bc(k,s,l,o,t),nu(_r(a,l));break e}}o=a=_r(a,l),Ae!==4&&(Ae=2),mi===null?mi=[o]:mi.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=gh(o,a,t);jc(o,v);break e;case 1:l=a;var p=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(kn===null||!kn.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var m=yh(o,l,t);jc(o,m);break e}}o=o.return}while(o!==null)}Ih(n)}catch(C){t=C,$e===n&&n!==null&&($e=n=n.return);continue}break}while(1)}function Oh(){var e=Xo.current;return Xo.current=Yo,e===null?Yo:e}function Eu(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),We===null||!(Qn&268435455)&&!(vs&268435455)||vn(We,Ke)}function Zo(e,t){var n=te;te|=2;var r=Oh();(We!==e||Ke!==t)&&(Yt=null,Wn(e,t));do try{gg();break}catch(i){bh(e,i)}while(1);if(iu(),te=n,Xo.current=r,$e!==null)throw Error(M(261));return We=null,Ke=0,Ae}function gg(){for(;$e!==null;)$h($e)}function yg(){for(;$e!==null&&!Bm();)$h($e)}function $h(e){var t=zh(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?Ih(e):$e=t,gu.current=null}function Ih(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dg(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,$e=null;return}}else if(n=cg(n,t,ht),n!==null){$e=n;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);Ae===0&&(Ae=5)}function In(e,t,n){var r=ie,i=Nt.transition;try{Nt.transition=null,ie=1,wg(e,t,n,r)}finally{Nt.transition=i,ie=r}return null}function wg(e,t,n,r){do Cr();while(yn!==null);if(te&6)throw Error(M(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Zm(e,o),e===We&&($e=We=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||go||(go=!0,Fh(bo,function(){return Cr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Nt.transition,Nt.transition=null;var s=ie;ie=1;var l=te;te|=4,gu.current=null,hg(e,n),Dh(n,e),zv(oa),$o=!!ia,oa=ia=null,e.current=n,pg(n),Vm(),te=l,ie=s,Nt.transition=o}else e.current=n;if(go&&(go=!1,yn=e,Jo=i),o=e.pendingLanes,o===0&&(kn=null),Qm(n.stateNode),dt(e,_e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qo)throw qo=!1,e=ja,ja=null,e;return Jo&1&&e.tag!==0&&Cr(),o=e.pendingLanes,o&1?e===Na?vi++:(vi=0,Na=e):vi=0,Ln(),null}function Cr(){if(yn!==null){var e=vf(Jo),t=Nt.transition,n=ie;try{if(Nt.transition=null,ie=16>e?16:e,yn===null)var r=!1;else{if(e=yn,yn=null,Jo=0,te&6)throw Error(M(331));var i=te;for(te|=4,I=e.current;I!==null;){var o=I,s=o.child;if(I.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(I=u;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:pi(8,d,o)}var f=d.child;if(f!==null)f.return=d,I=f;else for(;I!==null;){d=I;var h=d.sibling,w=d.return;if(Ph(d),d===u){I=null;break}if(h!==null){h.return=w,I=h;break}I=w}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}I=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,I=s;else e:for(;I!==null;){if(o=I,o.flags&2048)switch(o.tag){case 0:case 11:case 15:pi(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,I=v;break e}I=o.return}}var p=e.current;for(I=p;I!==null;){s=I;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,I=x;else e:for(s=p;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ms(9,l)}}catch(C){je(l,l.return,C)}if(l===s){I=null;break e}var m=l.sibling;if(m!==null){m.return=l.return,I=m;break e}I=l.return}}if(te=i,Ln(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ls,e)}catch{}r=!0}return r}finally{ie=n,Nt.transition=t}}return!1}function Qc(e,t,n){t=_r(n,t),t=gh(e,t,1),e=Cn(e,t,1),t=rt(),e!==null&&(Wi(e,1,t),dt(e,t))}function je(e,t,n){if(e.tag===3)Qc(e,e,n);else for(;t!==null;){if(t.tag===3){Qc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kn===null||!kn.has(r))){e=_r(n,e),e=yh(t,e,1),t=Cn(t,e,1),e=rt(),t!==null&&(Wi(t,1,e),dt(t,e));break}}t=t.return}}function Sg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(Ke&n)===n&&(Ae===4||Ae===3&&(Ke&130023424)===Ke&&500>_e()-wu?Wn(e,0):yu|=n),dt(e,t)}function Ah(e,t){t===0&&(e.mode&1?(t=so,so<<=1,!(so&130023424)&&(so=4194304)):t=1);var n=rt();e=rn(e,t),e!==null&&(Wi(e,t,n),dt(e,n))}function xg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ah(e,n)}function Eg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),Ah(e,n)}var zh;zh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)at=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return at=!1,ug(e,t,n);at=!!(e.flags&131072)}else at=!1,we&&t.flags&1048576&&Wf(t,Bo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;To(e,t),e=t.pendingProps;var i=Nr(t,Je.current);Er(t,n),i=fu(null,t,r,e,i,n);var o=hu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(r)?(o=!0,Uo(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lu(t),i.updater=hs,t.stateNode=i,i._reactInternals=t,pa(t,r,e,n),t=ga(null,t,r,!0,o,n)):(t.tag=0,we&&o&&eu(t),nt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(To(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=kg(r),e=bt(r,e),i){case 0:t=va(null,t,r,e,n);break e;case 1:t=Ic(null,t,r,e,n);break e;case 11:t=Oc(null,t,r,e,n);break e;case 14:t=$c(null,t,r,bt(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bt(r,i),va(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bt(r,i),Ic(e,t,r,i,n);case 3:e:{if(Eh(t),e===null)throw Error(M(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Kf(e,t),Ko(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=_r(Error(M(423)),t),t=Ac(e,t,r,n,i);break e}else if(r!==i){i=_r(Error(M(424)),t),t=Ac(e,t,r,n,i);break e}else for(pt=En(t.stateNode.containerInfo.firstChild),mt=t,we=!0,It=null,n=Xf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tr(),r===i){t=on(e,t,n);break e}nt(e,t,r,n)}t=t.child}return t;case 5:return qf(t),e===null&&da(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,sa(r,i)?s=null:o!==null&&sa(r,o)&&(t.flags|=32),xh(e,t),nt(e,t,s,n),t.child;case 6:return e===null&&da(t),null;case 13:return Ch(e,t,n);case 4:return au(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pr(t,null,r,n):nt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bt(r,i),Oc(e,t,r,i,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,he(Vo,r._currentValue),r._currentValue=s,o!==null)if(Ft(o.value,s)){if(o.children===i.children&&!ut.current){t=on(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Zt(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),fa(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(M(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),fa(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}nt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Er(t,n),i=Tt(i),r=r(i),t.flags|=1,nt(e,t,r,n),t.child;case 14:return r=t.type,i=bt(r,t.pendingProps),i=bt(r.type,i),$c(e,t,r,i,n);case 15:return wh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bt(r,i),To(e,t),t.tag=1,ct(r)?(e=!0,Uo(t)):e=!1,Er(t,n),Gf(t,r,i),pa(t,r,i,n),ga(null,t,r,!0,e,n);case 19:return kh(e,t,n);case 22:return Sh(e,t,n)}throw Error(M(156,t.tag))};function Fh(e,t){return ff(e,t)}function Cg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,r){return new Cg(e,t,n,r)}function Cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kg(e){if(typeof e=="function")return Cu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wa)return 11;if(e===Ba)return 14}return 2}function Nn(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _o(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Cu(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case sr:return Bn(n.children,i,o,t);case Ua:s=8,i|=8;break;case Al:return e=jt(12,n,t,i|2),e.elementType=Al,e.lanes=o,e;case zl:return e=jt(13,n,t,i),e.elementType=zl,e.lanes=o,e;case Fl:return e=jt(19,n,t,i),e.elementType=Fl,e.lanes=o,e;case Gd:return gs(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kd:s=10;break e;case Qd:s=9;break e;case Wa:s=11;break e;case Ba:s=14;break e;case hn:s=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=jt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Bn(e,t,n,r){return e=jt(7,e,r,t),e.lanes=n,e}function gs(e,t,n,r){return e=jt(22,e,r,t),e.elementType=Gd,e.lanes=n,e.stateNode={isHidden:!1},e}function Pl(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function Rl(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jg(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ul(0),this.expirationTimes=ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ul(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ku(e,t,n,r,i,o,s,l,a){return e=new jg(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=jt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lu(o),e}function Ng(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:or,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Uh(e){if(!e)return Rn;e=e._reactInternals;e:{if(Jn(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(ct(n))return Ff(e,n,t)}return t}function Wh(e,t,n,r,i,o,s,l,a){return e=ku(n,r,!0,e,i,o,s,l,a),e.context=Uh(null),n=e.current,r=rt(),i=jn(n),o=Zt(r,i),o.callback=t??null,Cn(n,o,i),e.current.lanes=i,Wi(e,i,r),dt(e,r),e}function ys(e,t,n,r){var i=t.current,o=rt(),s=jn(i);return n=Uh(n),t.context===null?t.context=n:t.pendingContext=n,t=Zt(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Cn(i,t,s),e!==null&&(zt(e,i,s,o),ko(e,i,s)),s}function es(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ju(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}function Tg(){return null}var Bh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nu(e){this._internalRoot=e}ws.prototype.render=Nu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));ys(e,t,null,null)};ws.prototype.unmount=Nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gn(function(){ys(null,e,null,null)}),t[nn]=null}};function ws(e){this._internalRoot=e}ws.prototype.unstable_scheduleHydration=function(e){if(e){var t=wf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mn.length&&t!==0&&t<mn[n].priority;n++);mn.splice(n,0,e),n===0&&xf(e)}};function Tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ss(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yc(){}function Pg(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=es(s);o.call(u)}}var s=Wh(t,r,e,0,null,!1,!1,"",Yc);return e._reactRootContainer=s,e[nn]=s.current,Pi(e.nodeType===8?e.parentNode:e),Gn(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=es(a);l.call(u)}}var a=ku(e,0,!1,null,null,!1,!1,"",Yc);return e._reactRootContainer=a,e[nn]=a.current,Pi(e.nodeType===8?e.parentNode:e),Gn(function(){ys(t,a,n,r)}),a}function xs(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=es(s);l.call(a)}}ys(t,s,e,i)}else s=Pg(n,t,e,i,r);return es(s)}gf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=si(t.pendingLanes);n!==0&&(Ka(t,n|1),dt(t,_e()),!(te&6)&&(Dr=_e()+500,Ln()))}break;case 13:Gn(function(){var r=rn(e,1);if(r!==null){var i=rt();zt(r,e,1,i)}}),ju(e,1)}};Qa=function(e){if(e.tag===13){var t=rn(e,134217728);if(t!==null){var n=rt();zt(t,e,134217728,n)}ju(e,134217728)}};yf=function(e){if(e.tag===13){var t=jn(e),n=rn(e,t);if(n!==null){var r=rt();zt(n,e,t,r)}ju(e,t)}};wf=function(){return ie};Sf=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};Xl=function(e,t,n){switch(t){case"input":if(Bl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ds(r);if(!i)throw Error(M(90));Xd(r),Bl(r,i)}}}break;case"textarea":Jd(e,n);break;case"select":t=n.value,t!=null&&yr(e,!!n.multiple,t,!1)}};sf=Su;lf=Gn;var Rg={usingClientEntryPoint:!1,Events:[Vi,cr,ds,rf,of,Su]},Jr={findFiberByHostInstance:An,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},_g={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cf(e),e===null?null:e.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||Tg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yo.isDisabled&&yo.supportsFiber)try{ls=yo.inject(_g),Kt=yo}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rg;gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tu(t))throw Error(M(200));return Ng(e,t,null,n)};gt.createRoot=function(e,t){if(!Tu(e))throw Error(M(299));var n=!1,r="",i=Bh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ku(e,1,!1,null,null,n,!1,r,i),e[nn]=t.current,Pi(e.nodeType===8?e.parentNode:e),new Nu(t)};gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=cf(t),e=e===null?null:e.stateNode,e};gt.flushSync=function(e){return Gn(e)};gt.hydrate=function(e,t,n){if(!Ss(t))throw Error(M(200));return xs(null,e,t,!0,n)};gt.hydrateRoot=function(e,t,n){if(!Tu(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Bh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Wh(t,null,e,1,n??null,i,!1,o,s),e[nn]=t.current,Pi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ws(t)};gt.render=function(e,t,n){if(!Ss(t))throw Error(M(200));return xs(null,e,t,!1,n)};gt.unmountComponentAtNode=function(e){if(!Ss(e))throw Error(M(40));return e._reactRootContainer?(Gn(function(){xs(null,null,e,!1,function(){e._reactRootContainer=null,e[nn]=null})}),!0):!1};gt.unstable_batchedUpdates=Su;gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ss(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return xs(e,t,n,!1,r)};gt.version="18.2.0-next-9e3b772b8-20220608";function Vh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vh)}catch(e){console.error(e)}}Vh(),Ud.exports=gt;var Es=Ud.exports;const Hh=Rd(Es),Dg=Pd({__proto__:null,default:Hh},[Es]);var Xc=Es;$l.createRoot=Xc.createRoot,$l.hydrateRoot=Xc.hydrateRoot;var Kh={exports:{}},Qh={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mr=S;function Mg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lg=typeof Object.is=="function"?Object.is:Mg,bg=Mr.useState,Og=Mr.useEffect,$g=Mr.useLayoutEffect,Ig=Mr.useDebugValue;function Ag(e,t){var n=t(),r=bg({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return $g(function(){i.value=n,i.getSnapshot=t,_l(i)&&o({inst:i})},[e,n,t]),Og(function(){return _l(i)&&o({inst:i}),e(function(){_l(i)&&o({inst:i})})},[e]),Ig(n),n}function _l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lg(e,n)}catch{return!0}}function zg(e,t){return t()}var Fg=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zg:Ag;Qh.useSyncExternalStore=Mr.useSyncExternalStore!==void 0?Mr.useSyncExternalStore:Fg;Kh.exports=Qh;var Ug=Kh.exports,Gh={exports:{}},Yh={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cs=S,Wg=Ug;function Bg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vg=typeof Object.is=="function"?Object.is:Bg,Hg=Wg.useSyncExternalStore,Kg=Cs.useRef,Qg=Cs.useEffect,Gg=Cs.useMemo,Yg=Cs.useDebugValue;Yh.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Kg(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Gg(function(){function a(w){if(!u){if(u=!0,d=w,w=r(w),i!==void 0&&s.hasValue){var g=s.value;if(i(g,w))return f=g}return f=w}if(g=f,Vg(d,w))return g;var y=r(w);return i!==void 0&&i(g,y)?g:(d=w,f=y)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return a(t())},h===null?void 0:function(){return a(h())}]},[t,n,r,i]);var l=Hg(e,o[0],o[1]);return Qg(function(){s.hasValue=!0,s.value=l},[l]),Yg(l),l};Gh.exports=Yh;var Xg=Gh.exports;function qg(e){e()}let Xh=qg;const Jg=e=>Xh=e,Zg=()=>Xh,qc=Symbol.for("react-redux-context"),Jc=typeof globalThis<"u"?globalThis:{};function ey(){var e;if(!S.createContext)return{};const t=(e=Jc[qc])!=null?e:Jc[qc]=new Map;let n=t.get(S.createContext);return n||(n=S.createContext(null),t.set(S.createContext,n)),n}const _n=ey();function Pu(e=_n){return function(){return S.useContext(e)}}const qh=Pu(),ty=()=>{throw new Error("uSES not initialized!")};let Jh=ty;const ny=e=>{Jh=e},ry=(e,t)=>e===t;function iy(e=_n){const t=e===_n?qh:Pu(e);return function(r,i={}){const{equalityFn:o=ry,stabilityCheck:s=void 0,noopCheck:l=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:u,getServerState:d,stabilityCheck:f,noopCheck:h}=t();S.useRef(!0);const w=S.useCallback({[r.name](y){return r(y)}}[r.name],[r,f,s]),g=Jh(u.addNestedSub,a.getState,d||a.getState,w,o);return S.useDebugValue(g),g}}const Ee=iy();var Zh={exports:{}},oe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Be=typeof Symbol=="function"&&Symbol.for,Ru=Be?Symbol.for("react.element"):60103,_u=Be?Symbol.for("react.portal"):60106,ks=Be?Symbol.for("react.fragment"):60107,js=Be?Symbol.for("react.strict_mode"):60108,Ns=Be?Symbol.for("react.profiler"):60114,Ts=Be?Symbol.for("react.provider"):60109,Ps=Be?Symbol.for("react.context"):60110,Du=Be?Symbol.for("react.async_mode"):60111,Rs=Be?Symbol.for("react.concurrent_mode"):60111,_s=Be?Symbol.for("react.forward_ref"):60112,Ds=Be?Symbol.for("react.suspense"):60113,oy=Be?Symbol.for("react.suspense_list"):60120,Ms=Be?Symbol.for("react.memo"):60115,Ls=Be?Symbol.for("react.lazy"):60116,sy=Be?Symbol.for("react.block"):60121,ly=Be?Symbol.for("react.fundamental"):60117,ay=Be?Symbol.for("react.responder"):60118,uy=Be?Symbol.for("react.scope"):60119;function wt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ru:switch(e=e.type,e){case Du:case Rs:case ks:case Ns:case js:case Ds:return e;default:switch(e=e&&e.$$typeof,e){case Ps:case _s:case Ls:case Ms:case Ts:return e;default:return t}}case _u:return t}}}function ep(e){return wt(e)===Rs}oe.AsyncMode=Du;oe.ConcurrentMode=Rs;oe.ContextConsumer=Ps;oe.ContextProvider=Ts;oe.Element=Ru;oe.ForwardRef=_s;oe.Fragment=ks;oe.Lazy=Ls;oe.Memo=Ms;oe.Portal=_u;oe.Profiler=Ns;oe.StrictMode=js;oe.Suspense=Ds;oe.isAsyncMode=function(e){return ep(e)||wt(e)===Du};oe.isConcurrentMode=ep;oe.isContextConsumer=function(e){return wt(e)===Ps};oe.isContextProvider=function(e){return wt(e)===Ts};oe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ru};oe.isForwardRef=function(e){return wt(e)===_s};oe.isFragment=function(e){return wt(e)===ks};oe.isLazy=function(e){return wt(e)===Ls};oe.isMemo=function(e){return wt(e)===Ms};oe.isPortal=function(e){return wt(e)===_u};oe.isProfiler=function(e){return wt(e)===Ns};oe.isStrictMode=function(e){return wt(e)===js};oe.isSuspense=function(e){return wt(e)===Ds};oe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ks||e===Rs||e===Ns||e===js||e===Ds||e===oy||typeof e=="object"&&e!==null&&(e.$$typeof===Ls||e.$$typeof===Ms||e.$$typeof===Ts||e.$$typeof===Ps||e.$$typeof===_s||e.$$typeof===ly||e.$$typeof===ay||e.$$typeof===uy||e.$$typeof===sy)};oe.typeOf=wt;Zh.exports=oe;var cy=Zh.exports,tp=cy,dy={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fy={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},np={};np[tp.ForwardRef]=dy;np[tp.Memo]=fy;var ae={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=Symbol.for("react.element"),Lu=Symbol.for("react.portal"),bs=Symbol.for("react.fragment"),Os=Symbol.for("react.strict_mode"),$s=Symbol.for("react.profiler"),Is=Symbol.for("react.provider"),As=Symbol.for("react.context"),hy=Symbol.for("react.server_context"),zs=Symbol.for("react.forward_ref"),Fs=Symbol.for("react.suspense"),Us=Symbol.for("react.suspense_list"),Ws=Symbol.for("react.memo"),Bs=Symbol.for("react.lazy"),py=Symbol.for("react.offscreen"),rp;rp=Symbol.for("react.module.reference");function Rt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Mu:switch(e=e.type,e){case bs:case $s:case Os:case Fs:case Us:return e;default:switch(e=e&&e.$$typeof,e){case hy:case As:case zs:case Bs:case Ws:case Is:return e;default:return t}}case Lu:return t}}}ae.ContextConsumer=As;ae.ContextProvider=Is;ae.Element=Mu;ae.ForwardRef=zs;ae.Fragment=bs;ae.Lazy=Bs;ae.Memo=Ws;ae.Portal=Lu;ae.Profiler=$s;ae.StrictMode=Os;ae.Suspense=Fs;ae.SuspenseList=Us;ae.isAsyncMode=function(){return!1};ae.isConcurrentMode=function(){return!1};ae.isContextConsumer=function(e){return Rt(e)===As};ae.isContextProvider=function(e){return Rt(e)===Is};ae.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mu};ae.isForwardRef=function(e){return Rt(e)===zs};ae.isFragment=function(e){return Rt(e)===bs};ae.isLazy=function(e){return Rt(e)===Bs};ae.isMemo=function(e){return Rt(e)===Ws};ae.isPortal=function(e){return Rt(e)===Lu};ae.isProfiler=function(e){return Rt(e)===$s};ae.isStrictMode=function(e){return Rt(e)===Os};ae.isSuspense=function(e){return Rt(e)===Fs};ae.isSuspenseList=function(e){return Rt(e)===Us};ae.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===bs||e===$s||e===Os||e===Fs||e===Us||e===py||typeof e=="object"&&e!==null&&(e.$$typeof===Bs||e.$$typeof===Ws||e.$$typeof===Is||e.$$typeof===As||e.$$typeof===zs||e.$$typeof===rp||e.getModuleId!==void 0)};ae.typeOf=Rt;function my(){const e=Zg();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const Zc={notify(){},get:()=>[]};function vy(e,t){let n,r=Zc,i=0,o=!1;function s(y){d();const k=r.subscribe(y);let v=!1;return()=>{v||(v=!0,k(),f())}}function l(){r.notify()}function a(){g.onStateChange&&g.onStateChange()}function u(){return o}function d(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=my())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Zc)}function h(){o||(o=!0,d())}function w(){o&&(o=!1,f())}const g={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:u,trySubscribe:h,tryUnsubscribe:w,getListeners:()=>r};return g}const gy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yy=gy?S.useLayoutEffect:S.useEffect;function wy({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const s=S.useMemo(()=>{const u=vy(e);return{store:e,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[e,r,i,o]),l=S.useMemo(()=>e.getState(),[e]);yy(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,l]);const a=t||_n;return S.createElement(a.Provider,{value:s},n)}function ip(e=_n){const t=e===_n?qh:Pu(e);return function(){const{store:r}=t();return r}}const Sy=ip();function xy(e=_n){const t=e===_n?Sy:ip(e);return function(){return t().dispatch}}const Ze=xy();ny(Xg.useSyncExternalStoreWithSelector);Jg(Es.unstable_batchedUpdates);/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(this,arguments)}var Pe;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pe||(Pe={}));const ed="popstate";function Ey(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:l}=r.location;return Ii("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xn(i)}return ky(t,n,null,e)}function q(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cy(){return Math.random().toString(36).substr(2,8)}function td(e,t){return{usr:e.state,key:e.key,idx:t}}function Ii(e,t,n,r){return n===void 0&&(n=null),Ne({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ln(t):t,{state:n,key:t&&t.key||r||Cy()})}function Xn(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ln(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ky(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Pe.Pop,a=null,u=d();u==null&&(u=0,s.replaceState(Ne({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){l=Pe.Pop;let k=d(),v=k==null?null:k-u;u=k,a&&a({action:l,location:y.location,delta:v})}function h(k,v){l=Pe.Push;let p=Ii(y.location,k,v);n&&n(p,k),u=d()+1;let x=td(p,u),m=y.createHref(p);try{s.pushState(x,"",m)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(m)}o&&a&&a({action:l,location:y.location,delta:1})}function w(k,v){l=Pe.Replace;let p=Ii(y.location,k,v);n&&n(p,k),u=d();let x=td(p,u),m=y.createHref(p);s.replaceState(x,"",m),o&&a&&a({action:l,location:y.location,delta:0})}function g(k){let v=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof k=="string"?k:Xn(k);return q(v,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,v)}let y={get action(){return l},get location(){return e(i,s)},listen(k){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(ed,f),a=k,()=>{i.removeEventListener(ed,f),a=null}},createHref(k){return t(i,k)},createURL:g,encodeLocation(k){let v=g(k);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:w,go(k){return s.go(k)}};return y}var Re;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Re||(Re={}));const jy=new Set(["lazy","caseSensitive","path","id","index","children"]);function Ny(e){return e.index===!0}function Ra(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let s=[...n,o],l=typeof i.id=="string"?i.id:s.join("-");if(q(i.index!==!0||!i.children,"Cannot specify children on an index route"),q(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Ny(i)){let a=Ne({},i,t(i),{id:l});return r[l]=a,a}else{let a=Ne({},i,t(i),{id:l,children:void 0});return r[l]=a,i.children&&(a.children=Ra(i.children,t,s,r)),a}})}function gr(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?ln(t):t,i=$r(r.pathname||"/",n);if(i==null)return null;let o=op(e);Py(o);let s=null;for(let l=0;s==null&&l<o.length;++l)s=Iy(o[l],Fy(i));return s}function Ty(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function op(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(q(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=en([r,a.relativePath]),d=n.concat(a);o.children&&o.children.length>0&&(q(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),op(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Oy(u,o.index),routesMeta:d})};return e.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of sp(o.path))i(o,s,a)}),t}function sp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=sp(r.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function Py(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$y(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ry=/^:\w+$/,_y=3,Dy=2,My=1,Ly=10,by=-2,nd=e=>e==="*";function Oy(e,t){let n=e.split("/"),r=n.length;return n.some(nd)&&(r+=by),t&&(r+=Dy),n.filter(i=>!nd(i)).reduce((i,o)=>i+(Ry.test(o)?_y:o===""?My:Ly),r)}function $y(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Iy(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],a=s===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=Ay({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!d)return null;Object.assign(r,d.params);let f=l.route;o.push({params:r,pathname:en([i,d.pathname]),pathnameBase:Vy(en([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=en([i,d.pathnameBase]))}return o}function Ay(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=zy(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:w}=d;if(h==="*"){let y=l[f]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[f];return w&&!g?u[h]=void 0:u[h]=Uy(g||"",h),u},{}),pathname:o,pathnameBase:s,pattern:e}}function zy(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Yn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(s,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Fy(e){try{return decodeURI(e)}catch(t){return Yn(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Uy(e,t){try{return decodeURIComponent(e)}catch(n){return Yn(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function $r(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Wy(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ln(e):e;return{pathname:n?n.startsWith("/")?n:By(n,t):t,search:Hy(r),hash:Ky(i)}}function By(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Dl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function bu(e){return lp(e).map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Ou(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ln(e):(i=Ne({},e),q(!i.pathname||!i.pathname.includes("?"),Dl("?","pathname","search",i)),q(!i.pathname||!i.pathname.includes("#"),Dl("#","pathname","hash",i)),q(!i.search||!i.search.includes("#"),Dl("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else if(r){let f=t[t.length-1].replace(/^\//,"").split("/");if(s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f.pop();i.pathname=h.join("/")}l="/"+f.join("/")}else{let f=t.length-1;if(s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let a=Wy(i,l),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||d)&&(a.pathname+="/"),a}const en=e=>e.join("/").replace(/\/\/+/g,"/"),Vy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Hy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ky=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class $u{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ap(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const up=["post","put","patch","delete"],Qy=new Set(up),Gy=["get",...up],Yy=new Set(Gy),Xy=new Set([301,302,303,307,308]),qy=new Set([307,308]),Ml={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Jy={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Zr={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zy=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),dp="remix-router-transitions";function e0(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;q(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let E=e.detectErrorBoundary;i=j=>({hasErrorBoundary:E(j)})}else i=Zy;let o={},s=Ra(e.routes,i,void 0,o),l,a=e.basename||"/",u=Ne({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),d=null,f=new Set,h=null,w=null,g=null,y=e.hydrationData!=null,k=gr(s,e.history.location,a),v=null;if(k==null){let E=Et(404,{pathname:e.history.location.pathname}),{matches:j,route:R}=cd(s);k=j,v={[R.id]:E}}let p=!k.some(E=>E.route.lazy)&&(!k.some(E=>E.route.loader)||e.hydrationData!=null),x,m={historyAction:e.history.action,location:e.history.location,matches:k,initialized:p,navigation:Ml,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||v,fetchers:new Map,blockers:new Map},C=Pe.Pop,P=!1,T,D=!1,$=new Map,O=null,Q=!1,Z=!1,se=[],ze=[],ne=new Map,A=0,W=-1,N=new Map,_=new Set,L=new Map,z=new Map,U=new Set,Te=new Map,pe=new Map,H=!1;function me(){if(d=e.history.listen(E=>{let{action:j,location:R,delta:b}=E;if(H){H=!1;return}Yn(pe.size===0||b!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let F=ce({currentLocation:m.location,nextLocation:R,historyAction:j});if(F&&b!=null){H=!0,e.history.go(b*-1),G(F,{state:"blocked",location:R,proceed(){G(F,{state:"proceeding",proceed:void 0,reset:void 0,location:R}),e.history.go(b)},reset(){let Y=new Map(m.blockers);Y.set(F,Zr),De({blockers:Y})}});return}return _t(j,R)}),n){d0(t,$);let E=()=>f0(t,$);t.addEventListener("pagehide",E),O=()=>t.removeEventListener("pagehide",E)}return m.initialized||_t(Pe.Pop,m.location),x}function ue(){d&&d(),O&&O(),f.clear(),T&&T.abort(),m.fetchers.forEach((E,j)=>tr(j)),m.blockers.forEach((E,j)=>Br(j))}function St(E){return f.add(E),()=>f.delete(E)}function De(E,j){j===void 0&&(j={}),m=Ne({},m,E);let R=[],b=[];u.v7_fetcherPersist&&m.fetchers.forEach((F,Y)=>{F.state==="idle"&&(U.has(Y)?b.push(Y):R.push(Y))}),[...f].forEach(F=>F(m,{deletedFetchers:b,unstable_viewTransitionOpts:j.viewTransitionOpts,unstable_flushSync:j.flushSync===!0})),u.v7_fetcherPersist&&(R.forEach(F=>m.fetchers.delete(F)),b.forEach(F=>tr(F)))}function Me(E,j,R){var b,F;let{flushSync:Y}=R===void 0?{}:R,K=m.actionData!=null&&m.navigation.formMethod!=null&&$t(m.navigation.formMethod)&&m.navigation.state==="loading"&&((b=E.state)==null?void 0:b._isRedirect)!==!0,V;j.actionData?Object.keys(j.actionData).length>0?V=j.actionData:V=null:K?V=m.actionData:V=null;let B=j.loaderData?ud(m.loaderData,j.loaderData,j.matches||[],j.errors):m.loaderData,ee=m.blockers;ee.size>0&&(ee=new Map(ee),ee.forEach((de,Se)=>ee.set(Se,Zr)));let Ve=P===!0||m.navigation.formMethod!=null&&$t(m.navigation.formMethod)&&((F=E.state)==null?void 0:F._isRedirect)!==!0;l&&(s=l,l=void 0),Q||C===Pe.Pop||(C===Pe.Push?e.history.push(E,E.state):C===Pe.Replace&&e.history.replace(E,E.state));let X;if(C===Pe.Pop){let de=$.get(m.location.pathname);de&&de.has(E.pathname)?X={currentLocation:m.location,nextLocation:E}:$.has(E.pathname)&&(X={currentLocation:E,nextLocation:m.location})}else if(D){let de=$.get(m.location.pathname);de?de.add(E.pathname):(de=new Set([E.pathname]),$.set(m.location.pathname,de)),X={currentLocation:m.location,nextLocation:E}}De(Ne({},j,{actionData:V,loaderData:B,historyAction:C,location:E,initialized:!0,navigation:Ml,revalidation:"idle",restoreScrollPosition:le(E,j.matches||m.matches),preventScrollReset:Ve,blockers:ee}),{viewTransitionOpts:X,flushSync:Y===!0}),C=Pe.Pop,P=!1,D=!1,Q=!1,Z=!1,se=[],ze=[]}async function un(E,j){if(typeof E=="number"){e.history.go(E);return}let R=_a(m.location,m.matches,a,u.v7_prependBasename,E,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:b,submission:F,error:Y}=rd(u.v7_normalizeFormMethod,!1,R,j),K=m.location,V=Ii(m.location,b,j&&j.state);V=Ne({},V,e.history.encodeLocation(V));let B=j&&j.replace!=null?j.replace:void 0,ee=Pe.Push;B===!0?ee=Pe.Replace:B===!1||F!=null&&$t(F.formMethod)&&F.formAction===m.location.pathname+m.location.search&&(ee=Pe.Replace);let Ve=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,X=(j&&j.unstable_flushSync)===!0,de=ce({currentLocation:K,nextLocation:V,historyAction:ee});if(de){G(de,{state:"blocked",location:V,proceed(){G(de,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),un(E,j)},reset(){let Se=new Map(m.blockers);Se.set(de,Zr),De({blockers:Se})}});return}return await _t(ee,V,{submission:F,pendingError:Y,preventScrollReset:Ve,replace:j&&j.replace,enableViewTransition:j&&j.unstable_viewTransition,flushSync:X})}function qs(){if(Ur(),De({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){_t(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}_t(C||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function _t(E,j,R){T&&T.abort(),T=null,C=E,Q=(R&&R.startUninterruptedRevalidation)===!0,Ut(m.location,m.matches),P=(R&&R.preventScrollReset)===!0,D=(R&&R.enableViewTransition)===!0;let b=l||s,F=R&&R.overrideNavigation,Y=gr(b,j,a),K=(R&&R.flushSync)===!0;if(!Y){let Se=Et(404,{pathname:j.pathname}),{matches:tt,route:Wt}=cd(b);ye(),Me(j,{matches:tt,loaderData:{},errors:{[Wt.id]:Se}},{flushSync:K});return}if(m.initialized&&!Z&&o0(m.location,j)&&!(R&&R.submission&&$t(R.submission.formMethod))){Me(j,{matches:Y},{flushSync:K});return}T=new AbortController;let V=ti(e.history,j,T.signal,R&&R.submission),B,ee;if(R&&R.pendingError)ee={[gi(Y).route.id]:R.pendingError};else if(R&&R.submission&&$t(R.submission.formMethod)){let Se=await Gt(V,j,R.submission,Y,{replace:R.replace,flushSync:K});if(Se.shortCircuited)return;B=Se.pendingActionData,ee=Se.pendingActionError,F=Ll(j,R.submission),K=!1,V=new Request(V.url,{signal:V.signal})}let{shortCircuited:Ve,loaderData:X,errors:de}=await er(V,j,Y,F,R&&R.submission,R&&R.fetcherSubmission,R&&R.replace,K,B,ee);Ve||(T=null,Me(j,Ne({matches:Y},B?{actionData:B}:{},{loaderData:X,errors:de})))}async function Gt(E,j,R,b,F){F===void 0&&(F={}),Ur();let Y=u0(j,R);De({navigation:Y},{flushSync:F.flushSync===!0});let K,V=Ma(b,j);if(!V.route.action&&!V.route.lazy)K={type:Re.error,error:Et(405,{method:E.method,pathname:j.pathname,routeId:V.route.id})};else if(K=await ei("action",E,V,b,o,i,a),E.signal.aborted)return{shortCircuited:!0};if(kr(K)){let B;return F&&F.replace!=null?B=F.replace:B=K.location===m.location.pathname+m.location.search,await bn(m,K,{submission:R,replace:B}),{shortCircuited:!0}}if(yi(K)){let B=gi(b,V.route.id);return(F&&F.replace)!==!0&&(C=Pe.Push),{pendingActionData:{},pendingActionError:{[B.route.id]:K.error}}}if(Un(K))throw Et(400,{type:"defer-action"});return{pendingActionData:{[V.route.id]:K.data}}}async function er(E,j,R,b,F,Y,K,V,B,ee){let Ve=b||Ll(j,F),X=F||Y||hd(Ve),de=l||s,[Se,tt]=id(e.history,m,R,X,j,Z,se,ze,U,L,_,de,a,B,ee);if(ye(fe=>!(R&&R.some(xt=>xt.route.id===fe))||Se&&Se.some(xt=>xt.route.id===fe)),W=++A,Se.length===0&&tt.length===0){let fe=Wr();return Me(j,Ne({matches:R,loaderData:{},errors:ee||null},B?{actionData:B}:{},fe?{fetchers:new Map(m.fetchers)}:{}),{flushSync:V}),{shortCircuited:!0}}if(!Q){tt.forEach(xt=>{let Le=m.fetchers.get(xt.key),On=ni(void 0,Le?Le.data:void 0);m.fetchers.set(xt.key,On)});let fe=B||m.actionData;De(Ne({navigation:Ve},fe?Object.keys(fe).length===0?{actionData:null}:{actionData:fe}:{},tt.length>0?{fetchers:new Map(m.fetchers)}:{}),{flushSync:V})}tt.forEach(fe=>{ne.has(fe.key)&&st(fe.key),fe.controller&&ne.set(fe.key,fe.controller)});let Wt=()=>tt.forEach(fe=>st(fe.key));T&&T.signal.addEventListener("abort",Wt);let{results:Vr,loaderResults:el,fetcherResults:nr}=await Xi(m.matches,R,Se,tt,E);if(E.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Wt),tt.forEach(fe=>ne.delete(fe.key));let Mt=dd(Vr);if(Mt){if(Mt.idx>=Se.length){let fe=tt[Mt.idx-Se.length].key;_.add(fe)}return await bn(m,Mt.result,{replace:K}),{shortCircuited:!0}}let{loaderData:eo,errors:tl}=ad(m,R,Se,el,ee,tt,nr,Te);Te.forEach((fe,xt)=>{fe.subscribe(Le=>{(Le||fe.done)&&Te.delete(xt)})});let nl=Wr(),rl=Zi(W),rr=nl||rl||tt.length>0;return Ne({loaderData:eo,errors:tl},rr?{fetchers:new Map(m.fetchers)}:{})}function zr(E,j,R,b){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ne.has(E)&&st(E);let F=(b&&b.unstable_flushSync)===!0,Y=l||s,K=_a(m.location,m.matches,a,u.v7_prependBasename,R,j,b==null?void 0:b.relative),V=gr(Y,K,a);if(!V){cn(E,j,Et(404,{pathname:K}),{flushSync:F});return}let{path:B,submission:ee,error:Ve}=rd(u.v7_normalizeFormMethod,!0,K,b);if(Ve){cn(E,j,Ve,{flushSync:F});return}let X=Ma(V,B);if(P=(b&&b.preventScrollReset)===!0,ee&&$t(ee.formMethod)){Fr(E,j,B,X,V,F,ee);return}L.set(E,{routeId:j,path:B}),Yi(E,j,B,X,V,F,ee)}async function Fr(E,j,R,b,F,Y,K){if(Ur(),L.delete(E),!b.route.action&&!b.route.lazy){let Le=Et(405,{method:K.formMethod,pathname:R,routeId:j});cn(E,j,Le,{flushSync:Y});return}let V=m.fetchers.get(E);Dt(E,c0(K,V),{flushSync:Y});let B=new AbortController,ee=ti(e.history,R,B.signal,K);ne.set(E,B);let Ve=A,X=await ei("action",ee,b,F,o,i,a);if(ee.signal.aborted){ne.get(E)===B&&ne.delete(E);return}if(U.has(E)){Dt(E,fn(void 0));return}if(kr(X))if(ne.delete(E),W>Ve){Dt(E,fn(void 0));return}else return _.add(E),Dt(E,ni(K)),bn(m,X,{fetcherSubmission:K});if(yi(X)){cn(E,j,X.error);return}if(Un(X))throw Et(400,{type:"defer-action"});let de=m.navigation.location||m.location,Se=ti(e.history,de,B.signal),tt=l||s,Wt=m.navigation.state!=="idle"?gr(tt,m.navigation.location,a):m.matches;q(Wt,"Didn't find any matches after fetcher action");let Vr=++A;N.set(E,Vr);let el=ni(K,X.data);m.fetchers.set(E,el);let[nr,Mt]=id(e.history,m,Wt,K,de,Z,se,ze,U,L,_,tt,a,{[b.route.id]:X.data},void 0);Mt.filter(Le=>Le.key!==E).forEach(Le=>{let On=Le.key,Uu=m.fetchers.get(On),om=ni(void 0,Uu?Uu.data:void 0);m.fetchers.set(On,om),ne.has(On)&&st(On),Le.controller&&ne.set(On,Le.controller)}),De({fetchers:new Map(m.fetchers)});let eo=()=>Mt.forEach(Le=>st(Le.key));B.signal.addEventListener("abort",eo);let{results:tl,loaderResults:nl,fetcherResults:rl}=await Xi(m.matches,Wt,nr,Mt,Se);if(B.signal.aborted)return;B.signal.removeEventListener("abort",eo),N.delete(E),ne.delete(E),Mt.forEach(Le=>ne.delete(Le.key));let rr=dd(tl);if(rr){if(rr.idx>=nr.length){let Le=Mt[rr.idx-nr.length].key;_.add(Le)}return bn(m,rr.result)}let{loaderData:fe,errors:xt}=ad(m,m.matches,nr,nl,void 0,Mt,rl,Te);if(m.fetchers.has(E)){let Le=fn(X.data);m.fetchers.set(E,Le)}Zi(Vr),m.navigation.state==="loading"&&Vr>W?(q(C,"Expected pending action"),T&&T.abort(),Me(m.navigation.location,{matches:Wt,loaderData:fe,errors:xt,fetchers:new Map(m.fetchers)})):(De({errors:xt,loaderData:ud(m.loaderData,fe,Wt,xt),fetchers:new Map(m.fetchers)}),Z=!1)}async function Yi(E,j,R,b,F,Y,K){let V=m.fetchers.get(E);Dt(E,ni(K,V?V.data:void 0),{flushSync:Y});let B=new AbortController,ee=ti(e.history,R,B.signal);ne.set(E,B);let Ve=A,X=await ei("loader",ee,b,F,o,i,a);if(Un(X)&&(X=await pp(X,ee.signal,!0)||X),ne.get(E)===B&&ne.delete(E),!ee.signal.aborted){if(U.has(E)){Dt(E,fn(void 0));return}if(kr(X))if(W>Ve){Dt(E,fn(void 0));return}else{_.add(E),await bn(m,X);return}if(yi(X)){cn(E,j,X.error);return}q(!Un(X),"Unhandled fetcher deferred data"),Dt(E,fn(X.data))}}async function bn(E,j,R){let{submission:b,fetcherSubmission:F,replace:Y}=R===void 0?{}:R;j.revalidate&&(Z=!0);let K=Ii(E.location,j.location,{_isRedirect:!0});if(q(K,"Expected a location on the redirect navigation"),n){let de=!1;if(j.reloadDocument)de=!0;else if(cp.test(j.location)){const Se=e.history.createURL(j.location);de=Se.origin!==t.location.origin||$r(Se.pathname,a)==null}if(de){Y?t.location.replace(j.location):t.location.assign(j.location);return}}T=null;let V=Y===!0?Pe.Replace:Pe.Push,{formMethod:B,formAction:ee,formEncType:Ve}=E.navigation;!b&&!F&&B&&ee&&Ve&&(b=hd(E.navigation));let X=b||F;if(qy.has(j.status)&&X&&$t(X.formMethod))await _t(V,K,{submission:Ne({},X,{formAction:j.location}),preventScrollReset:P});else{let de=Ll(K,b);await _t(V,K,{overrideNavigation:de,fetcherSubmission:F,preventScrollReset:P})}}async function Xi(E,j,R,b,F){let Y=await Promise.all([...R.map(B=>ei("loader",F,B,j,o,i,a)),...b.map(B=>B.matches&&B.match&&B.controller?ei("loader",ti(e.history,B.path,B.controller.signal),B.match,B.matches,o,i,a):{type:Re.error,error:Et(404,{pathname:B.path})})]),K=Y.slice(0,R.length),V=Y.slice(R.length);return await Promise.all([fd(E,R,K,K.map(()=>F.signal),!1,m.loaderData),fd(E,b.map(B=>B.match),V,b.map(B=>B.controller?B.controller.signal:null),!0)]),{results:Y,loaderResults:K,fetcherResults:V}}function Ur(){Z=!0,se.push(...ye()),L.forEach((E,j)=>{ne.has(j)&&(ze.push(j),st(j))})}function Dt(E,j,R){R===void 0&&(R={}),m.fetchers.set(E,j),De({fetchers:new Map(m.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function cn(E,j,R,b){b===void 0&&(b={});let F=gi(m.matches,j);tr(E),De({errors:{[F.route.id]:R},fetchers:new Map(m.fetchers)},{flushSync:(b&&b.flushSync)===!0})}function qi(E){return u.v7_fetcherPersist&&(z.set(E,(z.get(E)||0)+1),U.has(E)&&U.delete(E)),m.fetchers.get(E)||Jy}function tr(E){let j=m.fetchers.get(E);ne.has(E)&&!(j&&j.state==="loading"&&N.has(E))&&st(E),L.delete(E),N.delete(E),_.delete(E),U.delete(E),m.fetchers.delete(E)}function Js(E){if(u.v7_fetcherPersist){let j=(z.get(E)||0)-1;j<=0?(z.delete(E),U.add(E)):z.set(E,j)}else tr(E);De({fetchers:new Map(m.fetchers)})}function st(E){let j=ne.get(E);q(j,"Expected fetch controller: "+E),j.abort(),ne.delete(E)}function Ji(E){for(let j of E){let R=qi(j),b=fn(R.data);m.fetchers.set(j,b)}}function Wr(){let E=[],j=!1;for(let R of _){let b=m.fetchers.get(R);q(b,"Expected fetcher: "+R),b.state==="loading"&&(_.delete(R),E.push(R),j=!0)}return Ji(E),j}function Zi(E){let j=[];for(let[R,b]of N)if(b<E){let F=m.fetchers.get(R);q(F,"Expected fetcher: "+R),F.state==="loading"&&(st(R),N.delete(R),j.push(R))}return Ji(j),j.length>0}function Zs(E,j){let R=m.blockers.get(E)||Zr;return pe.get(E)!==j&&pe.set(E,j),R}function Br(E){m.blockers.delete(E),pe.delete(E)}function G(E,j){let R=m.blockers.get(E)||Zr;q(R.state==="unblocked"&&j.state==="blocked"||R.state==="blocked"&&j.state==="blocked"||R.state==="blocked"&&j.state==="proceeding"||R.state==="blocked"&&j.state==="unblocked"||R.state==="proceeding"&&j.state==="unblocked","Invalid blocker state transition: "+R.state+" -> "+j.state);let b=new Map(m.blockers);b.set(E,j),De({blockers:b})}function ce(E){let{currentLocation:j,nextLocation:R,historyAction:b}=E;if(pe.size===0)return;pe.size>1&&Yn(!1,"A router only supports one blocker at a time");let F=Array.from(pe.entries()),[Y,K]=F[F.length-1],V=m.blockers.get(Y);if(!(V&&V.state==="proceeding")&&K({currentLocation:j,nextLocation:R,historyAction:b}))return Y}function ye(E){let j=[];return Te.forEach((R,b)=>{(!E||E(b))&&(R.cancel(),j.push(b),Te.delete(b))}),j}function Fe(E,j,R){if(h=E,g=j,w=R||null,!y&&m.navigation===Ml){y=!0;let b=le(m.location,m.matches);b!=null&&De({restoreScrollPosition:b})}return()=>{h=null,g=null,w=null}}function et(E,j){return w&&w(E,j.map(b=>Ty(b,m.loaderData)))||E.key}function Ut(E,j){if(h&&g){let R=et(E,j);h[R]=g()}}function le(E,j){if(h){let R=et(E,j),b=h[R];if(typeof b=="number")return b}return null}function re(E){o={},l=Ra(E,i,void 0,o)}return x={get basename(){return a},get state(){return m},get routes(){return s},get window(){return t},initialize:me,subscribe:St,enableScrollRestoration:Fe,navigate:un,fetch:zr,revalidate:qs,createHref:E=>e.history.createHref(E),encodeLocation:E=>e.history.encodeLocation(E),getFetcher:qi,deleteFetcher:Js,dispose:ue,getBlocker:Zs,deleteBlocker:Br,_internalFetchControllers:ne,_internalActiveDeferreds:Te,_internalSetRoutes:re},x}function t0(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function _a(e,t,n,r,i,o,s){let l,a;if(o){l=[];for(let d of t)if(l.push(d),d.route.id===o){a=d;break}}else l=t,a=t[t.length-1];let u=Ou(i||".",bu(l),$r(e.pathname,n)||e.pathname,s==="path");return i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&a&&a.route.index&&!Iu(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:en([n,u.pathname])),Xn(u)}function rd(e,t,n,r){if(!r||!t0(r))return{path:n};if(r.formMethod&&!a0(r.formMethod))return{path:n,error:Et(405,{method:r.formMethod})};let i=()=>({path:n,error:Et(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=e?o.toUpperCase():o.toLowerCase(),l=hp(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!$t(s))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((w,g)=>{let[y,k]=g;return""+w+y+"="+k+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!$t(s))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}q(typeof FormData=="function","FormData is not available in this environment");let a,u;if(r.formData)a=Da(r.formData),u=r.formData;else if(r.body instanceof FormData)a=Da(r.body),u=r.body;else if(r.body instanceof URLSearchParams)a=r.body,u=ld(a);else if(r.body==null)a=new URLSearchParams,u=new FormData;else try{a=new URLSearchParams(r.body),u=ld(a)}catch{return i()}let d={formMethod:s,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if($t(d.formMethod))return{path:n,submission:d};let f=ln(n);return t&&f.search&&Iu(f.search)&&a.append("index",""),f.search="?"+a,{path:Xn(f),submission:d}}function n0(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function id(e,t,n,r,i,o,s,l,a,u,d,f,h,w,g){let y=g?Object.values(g)[0]:w?Object.values(w)[0]:void 0,k=e.createURL(t.location),v=e.createURL(i),p=g?Object.keys(g)[0]:void 0,m=n0(n,p).filter((P,T)=>{if(P.route.lazy)return!0;if(P.route.loader==null)return!1;if(r0(t.loaderData,t.matches[T],P)||s.some(O=>O===P.route.id))return!0;let D=t.matches[T],$=P;return od(P,Ne({currentUrl:k,currentParams:D.params,nextUrl:v,nextParams:$.params},r,{actionResult:y,defaultShouldRevalidate:o||k.pathname+k.search===v.pathname+v.search||k.search!==v.search||fp(D,$)}))}),C=[];return u.forEach((P,T)=>{if(!n.some(Z=>Z.route.id===P.routeId)||a.has(T))return;let D=gr(f,P.path,h);if(!D){C.push({key:T,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let $=t.fetchers.get(T),O=Ma(D,P.path),Q=!1;d.has(T)?Q=!1:l.includes(T)?Q=!0:$&&$.state!=="idle"&&$.data===void 0?Q=o:Q=od(O,Ne({currentUrl:k,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:y,defaultShouldRevalidate:o})),Q&&C.push({key:T,routeId:P.routeId,path:P.path,matches:D,match:O,controller:new AbortController})}),[m,C]}function r0(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function fp(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function od(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function sd(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];q(i,"No route found in manifest");let o={};for(let s in r){let a=i[s]!==void 0&&s!=="hasErrorBoundary";Yn(!a,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!a&&!jy.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Ne({},t(i),{lazy:void 0}))}async function ei(e,t,n,r,i,o,s,l){l===void 0&&(l={});let a,u,d,f=g=>{let y,k=new Promise((v,p)=>y=p);return d=()=>y(),t.signal.addEventListener("abort",d),Promise.race([g({request:t,params:n.params,context:l.requestContext}),k])};try{let g=n.route[e];if(n.route.lazy)if(g){let y,k=await Promise.all([f(g).catch(v=>{y=v}),sd(n.route,o,i)]);if(y)throw y;u=k[0]}else if(await sd(n.route,o,i),g=n.route[e],g)u=await f(g);else if(e==="action"){let y=new URL(t.url),k=y.pathname+y.search;throw Et(405,{method:t.method,pathname:k,routeId:n.route.id})}else return{type:Re.data,data:void 0};else if(g)u=await f(g);else{let y=new URL(t.url),k=y.pathname+y.search;throw Et(404,{pathname:k})}q(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(g){a=Re.error,u=g}finally{d&&t.signal.removeEventListener("abort",d)}if(l0(u)){let g=u.status;if(Xy.has(g)){let v=u.headers.get("Location");if(q(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!cp.test(v))v=_a(new URL(t.url),r.slice(0,r.indexOf(n)+1),s,!0,v);else if(!l.isStaticRequest){let p=new URL(t.url),x=v.startsWith("//")?new URL(p.protocol+v):new URL(v),m=$r(x.pathname,s)!=null;x.origin===p.origin&&m&&(v=x.pathname+x.search+x.hash)}if(l.isStaticRequest)throw u.headers.set("Location",v),u;return{type:Re.redirect,status:g,location:v,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:a===Re.error?Re.error:Re.data,response:u};let y,k=u.headers.get("Content-Type");return k&&/\bapplication\/json\b/.test(k)?y=await u.json():y=await u.text(),a===Re.error?{type:a,error:new $u(g,u.statusText,y),headers:u.headers}:{type:Re.data,data:y,statusCode:u.status,headers:u.headers}}if(a===Re.error)return{type:a,error:u};if(s0(u)){var h,w;return{type:Re.deferred,deferredData:u,statusCode:(h=u.init)==null?void 0:h.status,headers:((w=u.init)==null?void 0:w.headers)&&new Headers(u.init.headers)}}return{type:Re.data,data:u}}function ti(e,t,n,r){let i=e.createURL(hp(t)).toString(),o={signal:n};if(r&&$t(r.formMethod)){let{formMethod:s,formEncType:l}=r;o.method=s.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(r.json)):l==="text/plain"?o.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?o.body=Da(r.formData):o.body=r.formData}return new Request(i,o)}function Da(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function ld(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function i0(e,t,n,r,i){let o={},s=null,l,a=!1,u={};return n.forEach((d,f)=>{let h=t[f].route.id;if(q(!kr(d),"Cannot handle redirect results in processLoaderData"),yi(d)){let w=gi(e,h),g=d.error;r&&(g=Object.values(r)[0],r=void 0),s=s||{},s[w.route.id]==null&&(s[w.route.id]=g),o[h]=void 0,a||(a=!0,l=ap(d.error)?d.error.status:500),d.headers&&(u[h]=d.headers)}else Un(d)?(i.set(h,d.deferredData),o[h]=d.deferredData.data):o[h]=d.data,d.statusCode!=null&&d.statusCode!==200&&!a&&(l=d.statusCode),d.headers&&(u[h]=d.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:u}}function ad(e,t,n,r,i,o,s,l){let{loaderData:a,errors:u}=i0(t,n,r,i,l);for(let d=0;d<o.length;d++){let{key:f,match:h,controller:w}=o[d];q(s!==void 0&&s[d]!==void 0,"Did not find corresponding fetcher result");let g=s[d];if(!(w&&w.signal.aborted))if(yi(g)){let y=gi(e.matches,h==null?void 0:h.route.id);u&&u[y.route.id]||(u=Ne({},u,{[y.route.id]:g.error})),e.fetchers.delete(f)}else if(kr(g))q(!1,"Unhandled fetcher revalidation redirect");else if(Un(g))q(!1,"Unhandled fetcher deferred data");else{let y=fn(g.data);e.fetchers.set(f,y)}}return{loaderData:a,errors:u}}function ud(e,t,n,r){let i=Ne({},t);for(let o of n){let s=o.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(i[s]=t[s]):e[s]!==void 0&&o.route.loader&&(i[s]=e[s]),r&&r.hasOwnProperty(s))break}return i}function gi(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function cd(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Et(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,s="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(s="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):e===403?(s="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",l='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new $u(e||500,s,new Error(l),!0)}function dd(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(kr(n))return{result:n,idx:t}}}function hp(e){let t=typeof e=="string"?ln(e):e;return Xn(Ne({},t,{hash:""}))}function o0(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Un(e){return e.type===Re.deferred}function yi(e){return e.type===Re.error}function kr(e){return(e&&e.type)===Re.redirect}function s0(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function l0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function a0(e){return Yy.has(e.toLowerCase())}function $t(e){return Qy.has(e.toLowerCase())}async function fd(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let l=n[s],a=t[s];if(!a)continue;let u=e.find(f=>f.route.id===a.route.id),d=u!=null&&!fp(u,a)&&(o&&o[a.route.id])!==void 0;if(Un(l)&&(i||d)){let f=r[s];q(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await pp(l,f,i).then(h=>{h&&(n[s]=h||n[s])})}}}async function pp(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Re.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Re.error,error:i}}return{type:Re.data,data:e.deferredData.data}}}function Iu(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Ma(e,t){let n=typeof t=="string"?ln(t).search:t.search;if(e[e.length-1].route.index&&Iu(n||""))return e[e.length-1];let r=lp(e);return r[r.length-1]}function hd(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Ll(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function u0(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ni(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function c0(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function fn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function d0(e,t){try{let n=e.sessionStorage.getItem(dp);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function f0(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(dp,JSON.stringify(n))}catch(r){Yn(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ts.apply(this,arguments)}const Vs=S.createContext(null),mp=S.createContext(null),Ir=S.createContext(null),Hs=S.createContext(null),an=S.createContext({outlet:null,matches:[],isDataRoute:!1}),vp=S.createContext(null);function h0(e,t){let{relative:n}=t===void 0?{}:t;Ki()||q(!1);let{basename:r,navigator:i}=S.useContext(Ir),{hash:o,pathname:s,search:l}=yp(e,{relative:n}),a=s;return r!=="/"&&(a=s==="/"?r:en([r,s])),i.createHref({pathname:a,search:l,hash:o})}function Ki(){return S.useContext(Hs)!=null}function Ks(){return Ki()||q(!1),S.useContext(Hs).location}function gp(e){S.useContext(Ir).static||S.useLayoutEffect(e)}function ft(){let{isDataRoute:e}=S.useContext(an);return e?T0():p0()}function p0(){Ki()||q(!1);let e=S.useContext(Vs),{basename:t,navigator:n}=S.useContext(Ir),{matches:r}=S.useContext(an),{pathname:i}=Ks(),o=JSON.stringify(bu(r)),s=S.useRef(!1);return gp(()=>{s.current=!0}),S.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){n.go(a);return}let d=Ou(a,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:en([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,i,e])}const m0=S.createContext(null);function v0(e){let t=S.useContext(an).outlet;return t&&S.createElement(m0.Provider,{value:e},t)}function Ar(){let{matches:e}=S.useContext(an),t=e[e.length-1];return t?t.params:{}}function yp(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=S.useContext(an),{pathname:i}=Ks(),o=JSON.stringify(bu(r));return S.useMemo(()=>Ou(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function g0(e,t,n){Ki()||q(!1);let{navigator:r}=S.useContext(Ir),{matches:i}=S.useContext(an),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let a=Ks(),u;if(t){var d;let y=typeof t=="string"?ln(t):t;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||q(!1),u=y}else u=a;let f=u.pathname||"/",h=l==="/"?f:f.slice(l.length)||"/",w=gr(e,{pathname:h}),g=E0(w&&w.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:en([l,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:en([l,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return t&&g?S.createElement(Hs.Provider,{value:{location:ts({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Pe.Pop}},g):g}function y0(){let e=N0(),t=ap(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,o)}const w0=S.createElement(y0,null);class S0 extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?S.createElement(an.Provider,{value:this.props.routeContext},S.createElement(vp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x0(e){let{routeContext:t,match:n,children:r}=e,i=S.useContext(Vs);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(an.Provider,{value:t},r)}function E0(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,s=(r=n)==null?void 0:r.errors;if(s!=null){let l=o.findIndex(a=>a.route.id&&(s==null?void 0:s[a.route.id]));l>=0||q(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((l,a,u)=>{let d=a.route.id?s==null?void 0:s[a.route.id]:null,f=null;n&&(f=a.route.errorElement||w0);let h=t.concat(o.slice(0,u+1)),w=()=>{let g;return d?g=f:a.route.Component?g=S.createElement(a.route.Component,null):a.route.element?g=a.route.element:g=l,S.createElement(x0,{match:a,routeContext:{outlet:l,matches:h,isDataRoute:n!=null},children:g})};return n&&(a.route.ErrorBoundary||a.route.errorElement||u===0)?S.createElement(S0,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:w(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):w()},null)}var wp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wp||{}),ns=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ns||{});function C0(e){let t=S.useContext(Vs);return t||q(!1),t}function k0(e){let t=S.useContext(mp);return t||q(!1),t}function j0(e){let t=S.useContext(an);return t||q(!1),t}function Sp(e){let t=j0(),n=t.matches[t.matches.length-1];return n.route.id||q(!1),n.route.id}function N0(){var e;let t=S.useContext(vp),n=k0(ns.UseRouteError),r=Sp(ns.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function T0(){let{router:e}=C0(wp.UseNavigateStable),t=Sp(ns.UseNavigateStable),n=S.useRef(!1);return gp(()=>{n.current=!0}),S.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ts({fromRouteId:t},o)))},[e,t])}function P0(e){return v0(e.context)}function R0(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Pe.Pop,navigator:o,static:s=!1}=e;Ki()&&q(!1);let l=t.replace(/^\/*/,"/"),a=S.useMemo(()=>({basename:l,navigator:o,static:s}),[l,o,s]);typeof r=="string"&&(r=ln(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:w="default"}=r,g=S.useMemo(()=>{let y=$r(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:h,key:w},navigationType:i}},[l,u,d,f,h,w,i]);return g==null?null:S.createElement(Ir.Provider,{value:a},S.createElement(Hs.Provider,{children:n,value:g}))}new Promise(()=>{});function _0(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:S.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:S.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ai.apply(this,arguments)}function D0(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function M0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function L0(e,t){return e.button===0&&(!t||t==="_self")&&!M0(e)}const b0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function O0(e,t){return e0({basename:t==null?void 0:t.basename,future:Ai({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:Ey({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||$0(),routes:e,mapRouteProperties:_0,window:t==null?void 0:t.window}).initialize()}function $0(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Ai({},t,{errors:I0(t.errors)})),t}function I0(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new $u(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const A0=S.createContext({isTransitioning:!1}),z0=S.createContext(new Map),F0="startTransition",pd=xm[F0],U0="flushSync",md=Dg[U0];function W0(e){pd?pd(e):e()}function ri(e){md?md(e):e()}class B0{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function V0(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=S.useState(n.state),[s,l]=S.useState(),[a,u]=S.useState({isTransitioning:!1}),[d,f]=S.useState(),[h,w]=S.useState(),[g,y]=S.useState(),k=S.useRef(new Map),{v7_startTransition:v}=r||{},p=S.useCallback(T=>{v?W0(T):T()},[v]),x=S.useCallback((T,D)=>{let{deletedFetchers:$,unstable_flushSync:O,unstable_viewTransitionOpts:Q}=D;$.forEach(se=>k.current.delete(se)),T.fetchers.forEach((se,ze)=>{se.data!==void 0&&k.current.set(ze,se.data)});let Z=n.window==null||typeof n.window.document.startViewTransition!="function";if(!Q||Z){O?ri(()=>o(T)):p(()=>o(T));return}if(O){ri(()=>{h&&(d&&d.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation})});let se=n.window.document.startViewTransition(()=>{ri(()=>o(T))});se.finished.finally(()=>{ri(()=>{f(void 0),w(void 0),l(void 0),u({isTransitioning:!1})})}),ri(()=>w(se));return}h?(d&&d.resolve(),h.skipTransition(),y({state:T,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation})):(l(T),u({isTransitioning:!0,flushSync:!1,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation}))},[n.window,h,d,k,p]);S.useLayoutEffect(()=>n.subscribe(x),[n,x]),S.useEffect(()=>{a.isTransitioning&&!a.flushSync&&f(new B0)},[a]),S.useEffect(()=>{if(d&&s&&n.window){let T=s,D=d.promise,$=n.window.document.startViewTransition(async()=>{p(()=>o(T)),await D});$.finished.finally(()=>{f(void 0),w(void 0),l(void 0),u({isTransitioning:!1})}),w($)}},[p,s,d,n.window]),S.useEffect(()=>{d&&s&&i.location.key===s.location.key&&d.resolve()},[d,h,i.location,s]),S.useEffect(()=>{!a.isTransitioning&&g&&(l(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[a.isTransitioning,g]);let m=S.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:T=>n.navigate(T),push:(T,D,$)=>n.navigate(T,{state:D,preventScrollReset:$==null?void 0:$.preventScrollReset}),replace:(T,D,$)=>n.navigate(T,{replace:!0,state:D,preventScrollReset:$==null?void 0:$.preventScrollReset})}),[n]),C=n.basename||"/",P=S.useMemo(()=>({router:n,navigator:m,static:!1,basename:C}),[n,m,C]);return S.createElement(S.Fragment,null,S.createElement(Vs.Provider,{value:P},S.createElement(mp.Provider,{value:i},S.createElement(z0.Provider,{value:k.current},S.createElement(A0.Provider,{value:a},S.createElement(R0,{basename:C,location:i.location,navigationType:i.historyAction,navigator:m},i.initialized?S.createElement(H0,{routes:n.routes,state:i}):t))))),null)}function H0(e){let{routes:t,state:n}=e;return g0(t,void 0,n)}const K0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G0=S.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:a,to:u,preventScrollReset:d,unstable_viewTransition:f}=t,h=D0(t,b0),{basename:w}=S.useContext(Ir),g,y=!1;if(typeof u=="string"&&Q0.test(u)&&(g=u,K0))try{let x=new URL(window.location.href),m=u.startsWith("//")?new URL(x.protocol+u):new URL(u),C=$r(m.pathname,w);m.origin===x.origin&&C!=null?u=C+m.search+m.hash:y=!0}catch{}let k=h0(u,{relative:i}),v=Y0(u,{replace:s,state:l,target:a,preventScrollReset:d,relative:i,unstable_viewTransition:f});function p(x){r&&r(x),x.defaultPrevented||v(x)}return S.createElement("a",Ai({},h,{href:g||k,onClick:y||o?r:p,ref:n,target:a}))});var vd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vd||(vd={}));var gd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gd||(gd={}));function Y0(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l}=t===void 0?{}:t,a=ft(),u=Ks(),d=yp(e,{relative:s});return S.useCallback(f=>{if(L0(f,n)){f.preventDefault();let h=r!==void 0?r:Xn(u)===Xn(d);a(e,{replace:h,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l})}},[u,a,d,r,i,n,e,o,s,l])}function zi(e){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(e)}function X0(e,t){if(zi(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q0(e){var t=X0(e,"string");return zi(t)==="symbol"?t:String(t)}function J0(e,t,n){return t=q0(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yd(Object(n),!0).forEach(function(r){J0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Sd=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),bl=function(){return Math.random().toString(36).substring(7).split("").join(".")},rs={INIT:"@@redux/INIT"+bl(),REPLACE:"@@redux/REPLACE"+bl(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+bl()}};function Z0(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function xp(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xe(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xe(1));return n(xp)(e,t)}if(typeof e!="function")throw new Error(Xe(2));var i=e,o=t,s=[],l=s,a=!1;function u(){l===s&&(l=s.slice())}function d(){if(a)throw new Error(Xe(3));return o}function f(y){if(typeof y!="function")throw new Error(Xe(4));if(a)throw new Error(Xe(5));var k=!0;return u(),l.push(y),function(){if(k){if(a)throw new Error(Xe(6));k=!1,u();var p=l.indexOf(y);l.splice(p,1),s=null}}}function h(y){if(!Z0(y))throw new Error(Xe(7));if(typeof y.type>"u")throw new Error(Xe(8));if(a)throw new Error(Xe(9));try{a=!0,o=i(o,y)}finally{a=!1}for(var k=s=l,v=0;v<k.length;v++){var p=k[v];p()}return y}function w(y){if(typeof y!="function")throw new Error(Xe(10));i=y,h({type:rs.REPLACE})}function g(){var y,k=f;return y={subscribe:function(p){if(typeof p!="object"||p===null)throw new Error(Xe(11));function x(){p.next&&p.next(d())}x();var m=k(x);return{unsubscribe:m}}},y[Sd]=function(){return this},y}return h({type:rs.INIT}),r={dispatch:h,subscribe:f,getState:d,replaceReducer:w},r[Sd]=g,r}var e1=xp;function t1(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:rs.INIT});if(typeof r>"u")throw new Error(Xe(12));if(typeof n(void 0,{type:rs.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xe(13))})}function n1(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),s;try{t1(n)}catch(l){s=l}return function(a,u){if(a===void 0&&(a={}),s)throw s;for(var d=!1,f={},h=0;h<o.length;h++){var w=o[h],g=n[w],y=a[w],k=g(y,u);if(typeof k>"u")throw u&&u.type,new Error(Xe(14));f[w]=k,d=d||k!==y}return d=d||o.length!==Object.keys(a).length,d?f:a}}function r1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function i1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Xe(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},l=t.map(function(a){return a(s)});return o=r1.apply(void 0,l)(i.dispatch),wd(wd({},i),{},{dispatch:o})}}}function Ep(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(l){return typeof l=="function"?l(i,o,e):s(l)}}};return t}var Cp=Ep();Cp.withExtraArgument=Ep;const o1=Cp,kp="session/setUser",jp="session/removeUser",Au=e=>({type:kp,payload:e}),s1=()=>({type:jp}),Np=()=>async e=>{console.log("thunkAuthenticate thunk is being hit!!!!!!!!!!!!!!!!!!!!!!"),console.log("this thunk is eing called from:");const t=await fetch("/api/auth/");if(t.ok){const n=await t.json();if(n.errors)return;e(Au(n))}},xd=e=>async t=>{const n=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(n.ok){const r=await n.json();t(Au(r))}else return n.status<500?await n.json():{server:"Something went wrong. Please try again"}},l1=e=>async t=>{const n=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(n.ok){const r=await n.json();return t(Au(r)),r}else return n.status<500?{errors:await n.json()}:{server:"Something went wrong. Please try again"}},a1=()=>async e=>{await fetch("/api/auth/logout"),e(s1())},u1={user:null};function c1(e=u1,t){switch(t.type){case kp:return{...e,user:t.payload};case jp:return{...e,user:null};default:return e}}const Tp="songs/getAllSongs",Pp="songs/getAllSongsByUser",Rp="songs/addSong",_p="songs/updateSong",Dp="songs/deleteSong",d1=e=>({type:Tp,payload:e}),f1=e=>({type:Pp,payload:e}),h1=e=>({type:Rp,payload:e}),p1=e=>({type:_p,payload:e}),m1=e=>({type:Dp,payload:e}),v1=()=>async e=>{const t=await fetch("/api/songs");if(!t.ok){const i=await t.json();return{errors:i.errors||i}}const n=await t.json(),r=n.reduce((i,o)=>(i[o.id]=o,i),{});return e(d1(r)),n},zu=e=>async t=>{const n=await fetch(`/api/songs/user/${e}`);if(!n.ok){const o=await n.json();return{errors:o.errors||o}}const r=await n.json(),i=r.reduce((o,s)=>(o[s.id]=s,o),{});return t(f1(i)),r},g1=e=>async t=>{const n=await fetch("/api/songs/create",{method:"POST",body:e});if(!n.ok){const i=await n.json();return{errors:i.errors||i}}const r=await n.json();return t(h1(r)),r},y1=(e,t)=>async n=>{const r=await fetch(`/api/songs/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const o=await r.json();return{errors:o.errors||o}}const i=await r.json();return n(p1(i)),i},w1=e=>async t=>{const n=await fetch(`/api/songs/${e}`,{method:"DELETE"});if(!n.ok){const r=await n.json();return{errors:r.errors||r}}return t(m1(e)),{success:!0}},S1={allSongs:{},userSongs:{}},x1=(e=S1,t)=>{let n;switch(t.type){case Tp:return n={...e,allSongs:t.payload},n;case Pp:return n={...e,userSongs:t.payload},n;case Rp:return n={...e},n.allSongs={...n.allSongs,[t.payload.id]:t.payload},n.userSongs={...n.userSongs,[t.payload.id]:t.payload},n;case _p:return n={...e},n.allSongs[t.payload.id]=t.payload,n.userSongs[t.payload.id]=t.payload,n;case Dp:return n={...e},delete n.allSongs[t.payload],delete n.userSongs[t.payload],n;default:return e}},Mp="tracks/getAllTracks",Lp="tracks/getAllTracksByUser",bp="tracks/getTrackById",Op="tracks/addTrack",$p="tracks/updateTrack",Ip="tracks/deleteTrack",E1="notes/clearTrackNotes",Ap="notes/setTrackNotes",C1=e=>({type:Mp,payload:e}),k1=e=>({type:Lp,payload:e}),j1=e=>({type:bp,payload:e}),N1=e=>({type:Op,payload:e}),T1=e=>({type:$p,payload:e}),P1=e=>({type:Ip,payload:e}),La=e=>({type:Ap,payload:e}),R1=()=>async e=>{try{console.log("Fetching tracks...");const t=await fetch("/api/tracks/all");if(!t.ok){const i=await t.json();return console.error("Error fetching tracks:",i),{errors:i.errors||i}}const n=await t.json();console.log("Fetched data:",n);const r=n.reduce((i,o)=>(i[o.id]=o,i),{});return console.log("Formatted object data:",r),e(C1(r)),n}catch(t){console.error("Failed to fetch tracks:",t)}},Qs=e=>async t=>{const n=await fetch(`/api/tracks/user/${e}`);if(!n.ok){const o=await n.json();return{errors:o.errors||o}}const r=await n.json(),i=r.reduce((o,s)=>(o[s.id]=s,o),{});return t(k1(i)),r},Gs=e=>async t=>{const n=await fetch(`/api/tracks/${e}`);if(!n.ok){const i=await n.json();return{errors:i.errors||i}}const r=await n.json();return t(j1(r)),r},_1=e=>async t=>{const n=await fetch("/api/tracks/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const i=await n.json();return{errors:i.errors||i}}const r=await n.json();return t(N1(r)),r},D1=(e,t)=>async n=>{const r=await fetch(`/api/tracks/${e}/edit`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const o=await r.json();return{errors:o.errors||o}}const i=await r.json();return Array.isArray(i.notes)||(i.notes=[]),n(T1(i)),i},M1=e=>async t=>{const n=await fetch(`/api/tracks/${e}/delete`,{method:"DELETE"});if(!n.ok){const r=await n.json();return{errors:r.errors||r}}return t(P1(e)),{success:!0}},L1={allTracks:{},userTracks:{},trackNotes:{}},b1=(e=L1,t)=>{let n;switch(t.type){case Mp:return console.log("Reducer GET_ALL_TRACKS action:",t.payload),n={...e,allTracks:t.payload},console.log("New state after GET_ALL_TRACKS:",n),n;case Lp:return n={...e,userTracks:t.payload},n;case bp:return n={...e},n.allTracks[t.payload.id]=t.payload,n.userTracks[t.payload.id]=t.payload,Array.isArray(t.payload.notes)&&(n.trackNotes=t.payload.notes.reduce((r,i)=>(r[i.id]=i,r),{})),n;case Op:return n={...e},n.allTracks[t.payload.id]=t.payload,n.userTracks[t.payload.id]=t.payload,n;case $p:return n={...e},n.allTracks[t.payload.id]=t.payload,n.userTracks[t.payload.id]=t.payload,n.trackNotes=t.payload.notes.reduce((r,i)=>(r[i.id]=i,r),{}),n;case Ip:return n={...e},delete n.allTracks[t.payload],delete n.userTracks[t.payload],n;case Ap:return n={...e,trackNotes:t.payload},n;case E1:return n={...e,trackNotes:{}},n;default:return e}},O1="friends/getAllFriends",$1="friends/getUserFriends",I1="friends/addFriend",A1="friends/updateFriend",z1="friends/deleteFriend",F1={allFriends:{},userFriends:{}},U1=(e=F1,t)=>{let n;switch(t.type){case O1:return n={...e,allFriends:t.payload},n;case $1:return n={...e,userFriends:t.payload},n;case I1:return n={...e},n.allFriends={...n.allFriends,[t.payload.id]:{...t.payload}},n.userFriends={...n.userFriends,[t.payload.id]:{...t.payload}},n;case A1:return n={...e},n.allFriends[t.payload.id]=t.payload,n.userFriends[t.payload.id]=t.payload,n;case z1:return n={...e},delete n.allFriends[t.payload],delete n.userFriends[t.payload],n;default:return e}},W1="scores/getScoresByTrack",zp="scores/getScoresByUser",Fp="scores/addScore",B1="scores/updateScore",V1="scores/deleteScore",H1=e=>({type:zp,payload:e}),K1=e=>({type:Fp,payload:e}),Q1=e=>async t=>{console.log(`Fetching scores for user ID: ${e}`);const n=await fetch(`/api/scores/user/${e}`,{credentials:"include"});if(!n.ok){const o=await n.json();return{errors:o.errors||o}}const r=await n.json(),i=r.reduce((o,s)=>(o[s.id]=s,o),{});return t(H1(i)),r},G1=e=>async t=>{const n=await fetch("/api/scores/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!n.ok){const i=await n.json();return{errors:i.errors||i}}const r=await n.json();return t(K1(r)),r},Y1={allScores:{},userScores:{}},X1=(e=Y1,t)=>{let n;switch(t.type){case W1:return n={...e,allScores:t.payload},n;case zp:return n={...e,userScores:t.payload},n;case Fp:return n={...e},n.allScores={...n.allScores,[t.payload.id]:{...t.payload}},n.userScores={...n.userScores,[t.payload.id]:{...t.payload}},n;case B1:return n={...e},n.allScores[t.payload.id]=t.payload,n.userScores[t.payload.id]=t.payload,n;case V1:return n={...e},delete n.allScores[t.payload],delete n.userScores[t.payload],n;default:return e}},q1="notes/getNotesByTrack",Up="notes/addNote",Wp="notes/updateNote",Bp="notes/deleteNote",J1="notes/updateTrackId",Vp="notes/clearTrackNotes",Z1="notes/setTrackNotes",ew=e=>({type:Up,payload:e}),tw=e=>({type:Wp,payload:e}),nw=e=>({type:Bp,payload:e}),wi=()=>({type:Vp}),rw=e=>async t=>{const n=await fetch("/api/notes/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const i=await n.json();return{errors:i.errors||i}}const r=await n.json();return t(ew(r)),r},iw=(e,t)=>async n=>{const r=await fetch(`/api/notes/${e}/edit`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const o=await r.json();return{errors:o.errors||o}}const i=await r.json();return n(tw({id:e,...t})),i},ow=e=>async t=>{const n=await fetch(`/api/notes/${e}/delete`,{method:"DELETE"});if(!n.ok){const r=await n.json();return{errors:r.errors||r}}return t(nw(e)),{success:!0}},sw={trackNotes:{}},lw=(e=sw,t)=>{let n;switch(t.type){case q1:return n={...e,trackNotes:t.payload},n;case Up:return n={...e},n.trackNotes[t.payload.id]||(n.trackNotes={...n.trackNotes,[t.payload.id]:{...t.payload}}),n;case Wp:return{...e,trackNotes:{...e.trackNotes,[t.payload.id]:t.payload}};case Bp:return n={...e},n.trackNotes={...n.trackNotes},delete n.trackNotes[t.payload],n;case J1:return n={...e},Object.values(n.trackNotes).forEach(r=>{r.temp_track_id===t.payload.tempTrackId&&(r.track_id=t.payload.trackId)}),n;case Z1:return n={...e,trackNotes:t.payload},n;case Vp:return n={...e,trackNotes:{}},n;default:return e}},aw=n1({session:c1,songs:x1,tracks:b1,friends:U1,scores:X1,notes:lw});let Hp;Hp=i1(o1);const uw=e=>e1(aw,e,Hp);function cw(){return c.jsx("div",{className:"landing-page-container",children:c.jsxs("div",{className:"hero-container",children:[c.jsxs("div",{className:"hero-title",children:[c.jsx("h4",{children:"Now in Beta"}),c.jsx("h1",{id:"introducing",children:"Feel the Riddym"}),c.jsx("h2",{children:"Your favorite rhythm game, reimagined."})]}),c.jsx("div",{className:"video-container",children:c.jsx("video",{src:"../../../background-video.mov",className:"background-video",autoPlay:!0,muted:!0,playsInline:!0,loop:!0})})]})})}const Fu=S.createContext();function dw({children:e}){const t=S.useRef(),[n,r]=S.useState(null),[i,o]=S.useState(null),l={modalRef:t,modalContent:n,setModalContent:r,setOnModalClose:o,closeModal:()=>{r(null),typeof i=="function"&&(o(null),i())}};return c.jsxs(c.Fragment,{children:[c.jsx(Fu.Provider,{value:l,children:e}),c.jsx("div",{ref:t})]})}function fw(){const{modalRef:e,modalContent:t,closeModal:n}=S.useContext(Fu);return!e||!e.current||!t?null:Hh.createPortal(c.jsxs("div",{id:"modal",children:[c.jsx("div",{id:"modal-background",onClick:n}),c.jsx("div",{id:"modal-content",children:t})]}),e.current)}const Zn=()=>S.useContext(Fu);function Tn({modalComponent:e,buttonText:t,className:n,style:r,onButtonClick:i,onModalClose:o}){const{setModalContent:s,setOnModalClose:l}=Zn(),a=()=>{o&&l(o),s(e),typeof i=="function"&&i()};return c.jsx("button",{className:n,style:r,onClick:a,children:t})}function Kp(){const e=Ze(),t=ft(),n=Ee(m=>m.session.user),[r,i]=S.useState(""),[o,s]=S.useState(""),[l,a]=S.useState(""),[u,d]=S.useState(""),[f,h]=S.useState(""),[w,g]=S.useState(""),[y,k]=S.useState({}),{closeModal:v}=Zn(),p=m=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(m).toLowerCase()),x=async m=>{m.preventDefault();const C={};if(o.length<=3&&(C.username="Username must be more than 3 characters"),p(r)||(C.email="Invalid email address"),f.length<8&&(C.password="Password must be at least 8 characters long"),f!==w&&(C.confirmPassword="Confirm Password field must be the same as the Password field"),l.trim()||(C.first_name="First name is required"),u.trim()||(C.last_name="Last name is required"),r.trim()||(C.email="Email is required"),o.trim()||(C.username="Username is required"),f.trim()||(C.password="Password is required"),Object.keys(C).length>0){k(C);return}const P={email:r,username:o,first_name:l,last_name:u,password:f};if(console.log(P),f!==w)return k({confirmPassword:"Confirm Password field must be the same as the Password field"});const T=await e(l1(P));T.errors?k(T.errors):(v(),t(`/session-overview/${n.username}`))};return c.jsxs("div",{className:"signup-modal-container",children:[c.jsx("h1",{children:"Join Riddym and Play!"}),y.server&&c.jsx("p",{children:y.server}),c.jsxs("form",{onSubmit:x,children:[c.jsxs("label",{children:[c.jsx("h4",{children:"EMAIL"})," ",y.email&&c.jsx("p",{children:y.email}),c.jsx("input",{type:"text",value:r,onChange:m=>i(m.target.value)})]}),c.jsxs("label",{children:[c.jsx("h4",{children:"USERNAME"})," ",y.username&&c.jsx("p",{children:y.username}),c.jsx("input",{type:"text",value:o,onChange:m=>s(m.target.value)})]}),c.jsxs("label",{children:[c.jsx("h4",{children:"FIRST NAME"})," ",y.first_name&&c.jsx("p",{children:y.first_name}),c.jsx("input",{type:"text",value:l,onChange:m=>a(m.target.value)})]}),c.jsxs("label",{children:[c.jsx("h4",{children:"LAST NAME"})," ",y.last_name&&c.jsx("p",{children:y.last_name}),c.jsx("input",{type:"text",value:u,onChange:m=>d(m.target.value)})]}),c.jsxs("label",{children:[c.jsx("h4",{children:"PASSWORD"})," ",y.password&&c.jsx("p",{children:y.password}),c.jsx("input",{type:"password",value:f,onChange:m=>h(m.target.value),autoComplete:"current-password"})]}),c.jsxs("label",{children:[c.jsx("h4",{children:"CONFIRM PASSWORD"})," ",y.confirmPassword&&c.jsx("p",{children:y.confirmPassword}),c.jsx("input",{type:"password",value:w,onChange:m=>g(m.target.value),autoComplete:"current-password"})]}),c.jsx("button",{type:"submit",children:"Sign Up"})]})]})}function hw(){const e=Ze(),t=ft(),n=Ee(h=>h.session.user),[r,i]=S.useState(""),[o,s]=S.useState(""),[l,a]=S.useState({}),{closeModal:u}=Zn();S.useEffect(()=>{n&&(t(`/session-overview/${n.username}`),u())},[n,t,u]);const d=async h=>{h.preventDefault();const w=await e(xd({email:r,password:o}));w&&a(w)},f=async()=>{await e(xd({email:"demo@aa.io",password:"password"}))};return c.jsxs("div",{className:"login-modal-container",children:[c.jsx("h1",{children:"Log In"}),c.jsxs("form",{onSubmit:d,children:[c.jsxs("label",{children:[c.jsx("h4",{children:"EMAIL"})," ",l.email&&c.jsx("p",{children:l.email}),c.jsx("input",{type:"text",value:r,onChange:h=>i(h.target.value),required:!0})]}),c.jsxs("label",{children:[c.jsx("h4",{children:"PASSWORD"})," ",l.password&&c.jsx("p",{children:l.password}),c.jsx("input",{type:"password",value:o,onChange:h=>s(h.target.value),required:!0,autoComplete:"current-password"})]}),c.jsx("button",{type:"submit",children:"Log In"})]}),c.jsxs("div",{className:"bottom-divider",children:[c.jsx("span",{}),c.jsx("p",{children:"or"}),c.jsx("span",{})]}),c.jsx("div",{className:"bottom-button-container",children:c.jsx("button",{className:"demo-button",onClick:f,children:"Log in as demo"})}),c.jsx("div",{className:"dont-have-account",children:c.jsxs("p",{children:["Don't have an account? ",c.jsx(Tn,{className:"signup-letters",buttonText:" Sign up here",modalComponent:c.jsx(Kp,{})}),"."]})})]})}function pw(){const e=Ze(),[t,n]=S.useState(!1),r=Ee(d=>d.session.user),i=ft(),o=S.useRef(),s=d=>{d.stopPropagation(),n(!t)};S.useEffect(()=>{if(!t)return;const d=f=>{o.current&&!o.current.contains(f.target)&&n(!1)};return document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[t]);const l=()=>n(!1),a=d=>{d.preventDefault(),e(a1()),l(),i("/")},u=d=>{d.preventDefault(),i(`/session-overview/${r.username}`),l()};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"icon-container",children:c.jsxs("button",{onClick:s,className:"profile-button-shape",children:[c.jsxs("div",{className:"lines",children:[c.jsx("span",{}),c.jsx("span",{}),c.jsx("span",{})]}),c.jsx("i",{className:"fas fa-user-circle"})]})}),t&&c.jsxs("div",{className:"profile-dropdown",ref:o,children:[c.jsxs("div",{className:"username-and-email",children:[c.jsxs("h4",{children:["Hello, ",r.username]}),c.jsx("p",{children:r.email})]}),c.jsx("div",{className:"divider"}),c.jsx("div",{className:"account",children:c.jsx(G0,{to:"#",onClick:u,children:c.jsx("p",{children:"Account"})})}),c.jsx("div",{className:"divider"}),c.jsx("div",{className:"bottom",children:c.jsx("button",{onClick:a,children:c.jsx("p",{children:"Log Out"})})})]})]})}function mw(){Ze();const e=ft(),t=Ee(s=>s.session.user),n=()=>{e(`/session-overview/${t.username}`)},r=()=>{e("/add-song")},i=()=>{e("/browse")},o=()=>{e("/")};return c.jsxs("div",{className:"navigation-container",children:[c.jsx("div",{className:"logo-container",children:c.jsx("img",{src:"../../../riddym-logo.png",onClick:o})}),c.jsx("div",{className:"nav-menu",children:t&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"browse-button",onClick:i,children:"Browse Tracks"}),c.jsx("button",{className:"overview-button",onClick:n,children:"Session Overview"}),c.jsx("button",{className:"creator-button",onClick:r,children:"Create a Track"})]})}),t?c.jsx("div",{className:"logged-in",children:c.jsx(pw,{user:t})}):c.jsxs("div",{className:"signup-login-container",children:[c.jsx(Tn,{buttonText:"Log In",modalComponent:c.jsx(hw,{}),className:"login-button"}),c.jsx(Tn,{buttonText:"Play Now",modalComponent:c.jsx(Kp,{}),className:"signup-button"})]})]})}function vw(){const e=Ze(),[t,n]=S.useState(!1);return S.useEffect(()=>{e(Np()).then(()=>n(!0))},[e]),c.jsx(c.Fragment,{children:c.jsxs(dw,{children:[c.jsx(mw,{}),t&&c.jsx(P0,{}),c.jsx(fw,{})]})})}function gw(){const[e,t]=S.useState(""),[n,r]=S.useState(""),[i,o]=S.useState(null),[s,l]=S.useState(null),[a,u]=S.useState(""),[d,f]=S.useState({}),[h,w]=S.useState(!1),g=Ze(),y=ft(),k=Ee(H=>H.session.user),v=S.useRef(null),p=S.useRef(null),[x,m]=S.useState(!1),[C,P]=S.useState("Choose MP3 to Upload"),T=Ee(H=>H.songs.allSongs),[D,$]=S.useState(null),[O,Q]=S.useState(""),[Z,se]=S.useState(!0),[ze,ne]=S.useState(!1),A=H=>{const me=H.target.files[0];if(o(me),P(me.name),me){const ue=document.createElement("audio");ue.src=URL.createObjectURL(me),ue.onloadedmetadata=()=>{r(Math.round(ue.duration))}}};S.useEffect(()=>{g(v1())},[g]);const W=H=>{const me=H.target.files[0];if(l(me),me){const ue=new FileReader;ue.onload=()=>{const St=document.querySelector(".cover-art button");St.style.backgroundImage=`url(${ue.result})`,m(!0)},ue.readAsDataURL(me)}},N=async(H,me=!0)=>{var Me;H.preventDefault(),w(!0);const ue={};if(e||(ue.songName="Song name field can't be empty."),i||(ue.songFile="An MP3 file is required."),a||(ue.artistName="Song artist field can't be empty."),Object.keys(ue).length>0){f(ue),console.log("Validation errors:",ue),w(!1);return}const St=new FormData;St.append("song_name",e),St.append("duration",n),St.append("song_file",i),St.append("image_file",s),St.append("artist_name",a);const De=await g(g1(St));if(w(!1),De.errors)console.error("Errors:",De.errors);else if(me){const un=((Me=De.song)==null?void 0:Me.id)||De.id;y(`/track-creator/${un}`)}else y(`/session-overview/${k.username}`)},_=H=>{const me=Math.floor(H/60),ue=H%60;return`${me}:${ue<10?"0":""}${ue}`},L=H=>{N(H,!0)},z=()=>{D&&y(`/track-creator/${D.id}`)},U=Object.values(T).filter(H=>H.song_name.toLowerCase().includes(O.toLowerCase())||H.artist_name.toLowerCase().includes(O.toLowerCase())),Te=()=>{se(!Z),ne(!1)},pe=()=>{ne(!ze),se(!1)};return c.jsxs("div",{className:"add-song-page",children:[h&&c.jsxs("div",{className:"loader",children:[c.jsx("span",{className:"bar"}),c.jsx("span",{className:"bar"}),c.jsx("span",{className:"bar"})]}),c.jsxs("div",{className:"add-song-section",children:[c.jsxs("h1",{onClick:Te,children:["Add a new song ",c.jsx("i",{className:"fa-solid fa-angle-down"})]}),Z&&c.jsxs("form",{onSubmit:L,encType:"multipart/form-data",children:[c.jsxs("div",{className:"form",children:[c.jsxs("div",{className:"art",children:[c.jsxs("label",{className:"cover-art",children:[c.jsx("input",{type:"file",accept:"image/*",onChange:W,ref:v}),c.jsx("button",{type:"button",className:x?"image-uploaded":"",onClick:()=>v.current.click(),children:x?"":"Upload cover art"})]}),c.jsxs("div",{className:"name-artist",children:[c.jsxs("label",{className:"name",children:[c.jsx("h4",{children:"SONG NAME"})," ",d.songName&&c.jsx("p",{className:"error",children:d.songName}),c.jsx("input",{type:"text",value:e,onChange:H=>t(H.target.value),required:!0})]}),c.jsxs("label",{className:"artist",children:[c.jsx("h4",{children:"ARTIST"})," ",d.artistName&&c.jsx("p",{className:"error",children:d.artistName}),c.jsx("input",{type:"text",value:a,onChange:H=>u(H.target.value),required:!0})]})]})]}),c.jsxs("div",{className:"file-duration",children:[c.jsxs("label",{className:"file",children:[d.songFile&&c.jsx("p",{className:"error",children:d.songFile}),c.jsx("input",{type:"file",accept:"audio/mp3",onChange:A,required:!0,ref:p}),c.jsxs("button",{type:"button",className:"upload-button",onClick:()=>p.current.click(),children:[c.jsx("i",{className:"fa-solid fa-arrow-up-from-bracket"}),C]})]}),i&&c.jsxs("label",{className:"duration",children:[c.jsx("h4",{children:"DURATION"}),c.jsx("input",{type:"text",value:`${n} seconds`,onChange:H=>r(H.target.value),readOnly:!0})]})]})]}),c.jsxs("div",{className:"buttons",children:[c.jsx("button",{className:"add-song-button",type:"button",onClick:H=>N(H,!1),children:"Add Song"}),c.jsx("button",{type:"submit",className:"continue-button",children:"Continue to Track Creator"})]})]})]}),c.jsxs("div",{className:"pick-song-section",children:[c.jsxs("h1",{onClick:pe,children:["Pick a song ",c.jsx("i",{className:"fa-solid fa-angle-down"})]}),ze&&c.jsxs("div",{className:"pick-song-container",children:[c.jsxs("div",{className:"search-bar",children:[c.jsx("i",{className:"fa-solid fa-magnifying-glass"}),c.jsx("input",{type:"text",placeholder:"Search by song name or artist",value:O,onChange:H=>Q(H.target.value)})]}),c.jsx("div",{className:"all-songs-container",children:U.map(H=>c.jsxs("div",{className:`song-card ${(D==null?void 0:D.id)===H.id?"selected":""}`,onClick:()=>$(H),children:[c.jsx("img",{src:H.image_url}),c.jsxs("div",{className:"song-details",children:[c.jsx("h4",{children:H.song_name}),c.jsx("p",{children:H.artist_name}),c.jsx("p",{children:_(H.duration)})]})]},H.id))}),c.jsxs("div",{className:"buttons",children:[c.jsxs("div",{className:"selected-display",children:["Selected",D&&c.jsxs("div",{className:"mini-song-card",children:[c.jsx("div",{className:"mini-img",children:c.jsx("img",{src:D.image_url})}),c.jsxs("div",{className:"mini-song-details",children:[c.jsx("p",{children:D.song_name}),c.jsx("p",{children:D.artist_name})]})]})]}),c.jsx("button",{className:"pick-song-continue",onClick:z,children:"Continue to Track Creator"})]})]})]})]})}function be(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(u){try{a(r.next(u))}catch(d){o(d)}}function l(u){try{a(r.throw(u))}catch(d){o(d)}}function a(u){var d;u.done?i(u.value):(d=u.value,d instanceof n?d:new n(function(f){f(d)})).then(s,l)}a((r=r.apply(e,t||[])).next())})}let Qi=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}};const Ed={decode:function(e,t){return be(this,void 0,void 0,function*(){const n=new AudioContext({sampleRate:t});return n.decodeAudioData(e).finally(()=>n.close())})},createBuffer:function(e,t){return typeof e[0]=="number"&&(e=[e]),function(n){const r=n[0];if(r.some(i=>i>1||i<-1)){const i=r.length;let o=0;for(let s=0;s<i;s++){const l=Math.abs(r[s]);l>o&&(o=l)}for(const s of n)for(let l=0;l<i;l++)s[l]/=o}}(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:n=>e==null?void 0:e[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function Qp(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children")for(const[o,s]of Object.entries(t))typeof s=="string"?n.appendChild(document.createTextNode(s)):n.appendChild(Qp(o,s));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function Cd(e,t,n){const r=Qp(e,t||{});return n==null||n.appendChild(r),r}var yw=Object.freeze({__proto__:null,createElement:Cd,default:Cd});const ww={fetchBlob:function(e,t,n){return be(this,void 0,void 0,function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return function(i,o){be(this,void 0,void 0,function*(){if(!i.body||!i.headers)return;const s=i.body.getReader(),l=Number(i.headers.get("Content-Length"))||0;let a=0;const u=f=>be(this,void 0,void 0,function*(){a+=(f==null?void 0:f.length)||0;const h=Math.round(a/l*100);o(h)}),d=()=>be(this,void 0,void 0,function*(){let f;try{f=yield s.read()}catch{return}f.done||(u(f.value),yield d())});d()})}(r.clone(),t),r.blob()})}};let Sw=class extends Qi{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onMediaEvent("canplay",()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)},{once:!0})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n,r)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){if(this.getSrc()===t)return;this.revokeSrc();const r=n instanceof Blob&&this.canPlayType(n.type)?URL.createObjectURL(n):t;this.media.src=r}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return be(this,void 0,void 0,function*(){return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}},Gp=class Yp extends Qi{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.subscriptions=[],this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,o]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=o.querySelector(".scroll"),this.wrapper=o.querySelector(".wrapper"),this.canvasWrapper=o.querySelector(".canvases"),this.progressWrapper=o.querySelector(".progress"),this.cursor=o.querySelector(".cursor"),n&&o.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){const t=r=>{const i=this.wrapper.getBoundingClientRect(),o=r.clientX-i.left,s=r.clientY-i.top;return[o/i.width,s/i.height]};this.wrapper.addEventListener("click",r=>{const[i,o]=t(r);this.emit("click",i,o)}),this.wrapper.addEventListener("dblclick",r=>{const[i,o]=t(r);this.emit("dblclick",i,o)}),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:r,scrollWidth:i,clientWidth:o}=this.scrollContainer,s=r/i,l=(r+o)/i;this.emit("scroll",s,l)});const n=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{n().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender())}initDrag(){this.subscriptions.push(function(t,n,r,i,o=3,s=0,l=100){if(!t)return()=>{};const a=matchMedia("(pointer: coarse)").matches;let u=()=>{};const d=f=>{if(f.button!==s)return;f.preventDefault(),f.stopPropagation();let h=f.clientX,w=f.clientY,g=!1;const y=Date.now(),k=C=>{if(C.preventDefault(),C.stopPropagation(),a&&Date.now()-y<l)return;const P=C.clientX,T=C.clientY,D=P-h,$=T-w;if(g||Math.abs(D)>o||Math.abs($)>o){const O=t.getBoundingClientRect(),{left:Q,top:Z}=O;g||(r==null||r(h-Q,w-Z),g=!0),n(D,$,P-Q,T-Z),h=P,w=T}},v=C=>{if(g){const P=C.clientX,T=C.clientY,D=t.getBoundingClientRect(),{left:$,top:O}=D;i==null||i(P-$,T-O)}u()},p=C=>{C.relatedTarget&&C.relatedTarget!==document.documentElement||v(C)},x=C=>{g&&(C.stopPropagation(),C.preventDefault())},m=C=>{g&&C.preventDefault()};document.addEventListener("pointermove",k),document.addEventListener("pointerup",v),document.addEventListener("pointerout",p),document.addEventListener("pointercancel",p),document.addEventListener("touchmove",m,{passive:!1}),document.addEventListener("click",x,{capture:!0}),u=()=>{document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",v),document.removeEventListener("pointerout",p),document.removeEventListener("pointercancel",p),document.removeEventListener("touchmove",m),setTimeout(()=>{document.removeEventListener("click",x,{capture:!0})},10)}};return t.addEventListener("pointerdown",d),()=>{u(),t.removeEventListener("pointerdown",d)}}(this.wrapper,(t,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.getBoundingClientRect().width)))},t=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))},t=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))}))}getHeight(t,n){var r;const i=((r=this.audioData)===null||r===void 0?void 0:r.numberOfChannels)||1;if(t==null)return 128;if(!isNaN(Number(t)))return Number(t);if(t==="auto"){const o=this.parent.clientHeight||128;return n!=null&&n.every(s=>!s.overlay)?o/i:o}return 128}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"});return n.innerHTML=`
      <style>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t;this.subscriptions.forEach(n=>n()),this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect()}createDelay(t=10){let n,r;const i=()=>{n&&clearTimeout(n),r&&r()};return this.timeouts.push(i),()=>new Promise((o,s)=>{i(),r=s,n=setTimeout(()=>{n=void 0,r=void 0,o()},t)})}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const n=document.createElement("canvas"),r=n.getContext("2d"),i=n.height*(window.devicePixelRatio||1),o=r.createLinearGradient(0,0,0,i),s=1/(t.length-1);return t.forEach((l,a)=>{const u=a*s;o.addColorStop(u,l)}),o}renderBarWaveform(t,n,r,i){const o=t[0],s=t[1]||t[0],l=o.length,{width:a,height:u}=r.canvas,d=u/2,f=window.devicePixelRatio||1,h=n.barWidth?n.barWidth*f:1,w=n.barGap?n.barGap*f:n.barWidth?h/2:0,g=n.barRadius||0,y=a/(h+w)/l,k=g&&"roundRect"in r?"roundRect":"rect";r.beginPath();let v=0,p=0,x=0;for(let m=0;m<=l;m++){const C=Math.round(m*y);if(C>v){const D=Math.round(p*d*i),$=D+Math.round(x*d*i)||1;let O=d-D;n.barAlign==="top"?O=0:n.barAlign==="bottom"&&(O=u-$),r[k](v*(h+w),O,h,$,g),v=C,p=0,x=0}const P=Math.abs(o[m]||0),T=Math.abs(s[m]||0);P>p&&(p=P),T>x&&(x=T)}r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const o=s=>{const l=t[s]||t[0],a=l.length,{height:u}=r.canvas,d=u/2,f=r.canvas.width/a;r.moveTo(0,d);let h=0,w=0;for(let g=0;g<=a;g++){const y=Math.round(g*f);if(y>h){const v=d+(Math.round(w*d*i)||1)*(s===0?-1:1);r.lineTo(h,v),h=y,w=0}const k=Math.abs(l[g]||0);k>w&&(w=k)}r.lineTo(h,d)};r.beginPath(),o(0),o(1),r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(t,r);let i=n.barHeight||1;if(n.normalize){const o=Array.from(t[0]).reduce((s,l)=>Math.max(s,Math.abs(l)),0);i=o?1/o:1}n.barWidth||n.barGap||n.barAlign?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,o,s,l){const a=window.devicePixelRatio||1,u=document.createElement("canvas");u.width=Math.round(r*a),u.height=Math.round(i*a),u.style.width=`${r}px`,u.style.height=`${i}px`,u.style.left=`${Math.round(o)}px`,s.appendChild(u);const d=u.getContext("2d");if(this.renderWaveform(t,n,d),u.width>0&&u.height>0){const f=u.cloneNode(),h=f.getContext("2d");h.drawImage(u,0,0),h.globalCompositeOperation="source-in",h.fillStyle=this.convertColorValues(n.progressColor),h.fillRect(0,0,u.width,u.height),l.appendChild(f)}}renderMultiCanvas(t,n,r,i,o,s){return be(this,void 0,void 0,function*(){const l=window.devicePixelRatio||1,a=r/l;let u=Math.min(Yp.MAX_CANVAS_WIDTH,this.scrollContainer.clientWidth);if(n.barWidth||n.barGap){const g=n.barWidth||.5,y=g+(n.barGap||g/2);u%y!=0&&(u=Math.floor(u/y)*y)}const d=g=>{const y=g*u,k=Math.min(a-y,u),v=t.map(p=>{const x=Math.floor(y/a*p.length),m=Math.floor((y+k)/a*p.length);return p.slice(x,m)});this.renderSingleCanvas(v,n,k,i,y,o,s)},f=Math.ceil(a/u);if(f===1)return void d(0);const h=this.scrollContainer.scrollLeft/a,w=Math.floor(h*f);d(w),d(w+1),yield Promise.all([(()=>be(this,void 0,void 0,function*(){const g=this.createDelay();for(let y=w-1;y>=0;y--)yield g(),d(y)}))(),(()=>be(this,void 0,void 0,function*(){const g=this.createDelay();for(let y=w+2;y<f;y++)yield g(),d(y)}))()])})}renderChannel(t,n,r,i){return be(this,void 0,void 0,function*(){var{overlay:o}=n,s=function(d,f){var h={};for(var w in d)Object.prototype.hasOwnProperty.call(d,w)&&f.indexOf(w)<0&&(h[w]=d[w]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function"){var g=0;for(w=Object.getOwnPropertySymbols(d);g<w.length;g++)f.indexOf(w[g])<0&&Object.prototype.propertyIsEnumerable.call(d,w[g])&&(h[w[g]]=d[w[g]])}return h}(n,["overlay"]);const l=document.createElement("div"),a=this.getHeight(s.height,s.splitChannels);l.style.height=`${a}px`,o&&i>0&&(l.style.marginTop=`-${a}px`),this.canvasWrapper.style.minHeight=`${a}px`,this.canvasWrapper.appendChild(l);const u=l.cloneNode();this.progressWrapper.appendChild(u),yield this.renderMultiCanvas(t,s,r,a,l,u)})}render(t){return be(this,void 0,void 0,function*(){this.timeouts.forEach(l=>l()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const n=window.devicePixelRatio||1,r=this.scrollContainer.clientWidth,i=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=i>r;const o=this.options.fillParent&&!this.isScrollable,s=(o?r:i)*n;this.wrapper.style.width=o?"100%":`${i}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render");try{if(this.options.splitChannels)yield Promise.all(Array.from({length:t.numberOfChannels}).map((l,a)=>{var u;const d=Object.assign(Object.assign({},this.options),(u=this.options.splitChannels)===null||u===void 0?void 0:u[a]);return this.renderChannel([t.getChannelData(a)],d,s,a)}));else{const l=[t.getChannelData(0)];t.numberOfChannels>1&&l.push(t.getChannelData(1)),yield this.renderChannel(l,this.options,s,0)}}catch{return}this.emit("rendered")})}reRender(){if(!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect();let i=r-n;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:o}=this.scrollContainer,s=t*i,l=r,a=r+o,u=o/2;if(this.isDragging)s+30>a?this.scrollContainer.scrollLeft+=30:s-30<l&&(this.scrollContainer.scrollLeft-=30);else{(s<l||s>a)&&(this.scrollContainer.scrollLeft=s-(this.options.autoCenter?u:0));const d=s-r-u;n&&this.options.autoCenter&&d>0&&(this.scrollContainer.scrollLeft+=Math.min(d,10))}{const d=this.scrollContainer.scrollLeft,f=d/i,h=(d+o)/i;this.emit("scroll",f,h)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0, 100% 0, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=`translateX(-${Math.round(r)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,n)}exportImage(t,n,r){return be(this,void 0,void 0,function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const o=Array.from(i).map(s=>s.toDataURL(t,n));return Promise.resolve(o)}return Promise.all(Array.from(i).map(o=>new Promise((s,l)=>{o.toBlob(a=>{a?s(a):l(new Error("Could not export image"))},t,n)})))})}};Gp.MAX_CANVAS_WIDTH=4e3;let xw=class extends Qi{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}},kd=class extends Qi{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return be(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then(n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()}).then(n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n)).then(n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var t;if(!this.paused)return;this.paused=!1,(t=this.bufferNode)===null||t===void 0||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let n=this.playedDuration*this._playbackRate;n>=this.duration&&(n=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,n),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return be(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){var n,r;const i=t-this.currentTime;(n=this.bufferNode)===null||n===void 0||n.stop(this.audioContext.currentTime+i),(r=this.bufferNode)===null||r===void 0||r.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(t){return be(this,void 0,void 0,function*(){return this.audioContext.setSinkId(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var t,n;return(t=this._duration)!==null&&t!==void 0?t:((n=this.buffer)===null||n===void 0?void 0:n.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}};const Ew={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};let is=class Xp extends Sw{static create(t){return new Xp(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new kd:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},Ew,t),this.timer=new xw;const r=n?void 0:this.getMediaElement();this.renderer=new Gp(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const i=this.options.url||this.getSrc()||"";Promise.resolve().then(()=>{this.emit("init");const{peaks:o,duration:s}=this.options;(i||o&&s)&&this.load(i,o,s).catch(()=>null)})}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const t=this.updateProgress();this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}),this.onMediaEvent("error",t=>{this.emit("error",t.error)}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))}),this.renderer.on("dblclick",(t,n)=>{this.emit("dblclick",t,n)}),this.renderer.on("scroll",(t,n)=>{const r=this.getDuration();this.emit("scroll",t*r,n*r)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}),this.renderer.on("dragstart",t=>{this.emit("dragstart",t)}),this.renderer.on("dragend",t=>{this.emit("dragend",t)}));{let t;this.subscriptions.push(this.renderer.on("drag",n=>{if(!this.options.interact)return;let r;this.renderer.renderProgress(n),clearTimeout(t),this.isPlaying()?r=0:this.options.dragToSeek===!0?r=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(r=this.options.dragToSeek.debounceTime),t=setTimeout(()=>{this.seekTo(n)},r),this.emit("interaction",n*this.getDuration()),this.emit("drag",n)}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach(n=>{this.registerPlugin(n)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(t=>t()),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(n=>n!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return be(this,void 0,void 0,function*(){var o;if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!n&&!r){const l=this.options.fetchParams||{};window.AbortController&&!l.signal&&(this.abortController=new AbortController,l.signal=(o=this.abortController)===null||o===void 0?void 0:o.signal);const a=u=>this.emit("loading",u);n=yield ww.fetchBlob(t,a,l)}this.setSrc(t,n);const s=i||this.getDuration()||(yield new Promise(l=>{this.onMediaEvent("loadedmetadata",()=>l(this.getDuration()),{once:!0})}));if(!t&&!n){const l=this.getMediaElement();l instanceof kd&&(l.duration=s)}if(r)this.decodedData=Ed.createBuffer(r,s||0);else if(n){const l=yield n.arrayBuffer();this.decodedData=yield Ed.decode(l,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(t,n,r){return be(this,void 0,void 0,function*(){try{return yield this.loadAudio(t,void 0,n,r)}catch(i){throw this.emit("error",i),i}})}loadBlob(t,n,r){return be(this,void 0,void 0,function*(){try{return yield this.loadAudio("blob",t,n,r)}catch(i){throw this.emit("error",i),i}})}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),o=[];for(let s=0;s<i;s++){const l=this.decodedData.getChannelData(s),a=[],u=l.length/n;for(let d=0;d<n;d++){const f=l.slice(Math.floor(d*u),Math.ceil((d+1)*u));let h=0;for(let w=0;w<f.length;w++){const g=f[w];Math.abs(g)>Math.abs(h)&&(h=g)}a.push(Math.round(h*r)/r)}o.push(a)}return o}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){super.setTime(t),this.updateProgress(t),this.emit("timeupdate",t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}playPause(){return be(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return be(this,arguments,void 0,function*(t="image/png",n=1,r="dataURL"){return this.renderer.exportImage(t,n,r)})}destroy(){var t;this.emit("destroy"),(t=this.abortController)===null||t===void 0||t.abort(),this.plugins.forEach(n=>n.destroy()),this.subscriptions.forEach(n=>n()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}};is.BasePlugin=class extends Qi{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}_init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(e=>e())}},is.dom=yw;let Cw=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}},kw=class extends Cw{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}};function qp(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children")for(const[o,s]of Object.entries(t))typeof s=="string"?n.appendChild(document.createTextNode(s)):n.appendChild(qp(o,s));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function Ol(e,t,n){return qp(e,t||{})}const jw={height:20,formatTimeCallback:e=>e/60>1?`${Math.floor(e/60)}:${`${(e=Math.round(e%60))<10?"0":""}${e}`}`:`${Math.round(1e3*e)/1e3}`};let Jp=class Zp extends kw{constructor(t){super(t||{}),this.options=Object.assign({},jw,t),this.timelineWrapper=this.initTimelineWrapper()}static create(t){return new Zp(t)}onInit(){var t;if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");let n=this.wavesurfer.getWrapper();if(this.options.container instanceof HTMLElement)n=this.options.container;else if(typeof this.options.container=="string"){const r=document.querySelector(this.options.container);if(!r)throw Error(`No Timeline container found matching ${this.options.container}`);n=r}this.options.insertPosition?(n.firstElementChild||n).insertAdjacentElement(this.options.insertPosition,this.timelineWrapper):n.appendChild(this.timelineWrapper),this.subscriptions.push(this.wavesurfer.on("redraw",()=>this.initTimeline())),(!((t=this.wavesurfer)===null||t===void 0)&&t.getDuration()||this.options.duration)&&this.initTimeline()}destroy(){this.timelineWrapper.remove(),super.destroy()}initTimelineWrapper(){return Ol("div",{part:"timeline-wrapper",style:{pointerEvents:"none"}})}defaultTimeInterval(t){return t>=25?1:5*t>=25?5:15*t>=25?15:60*Math.ceil(.5/t)}defaultPrimaryLabelInterval(t){return t>=25?10:5*t>=25?6:4}defaultSecondaryLabelInterval(t){return t>=25?5:2}initTimeline(){var t,n,r,i,o,s,l;const a=(r=(n=(t=this.wavesurfer)===null||t===void 0?void 0:t.getDuration())!==null&&n!==void 0?n:this.options.duration)!==null&&r!==void 0?r:0,u=this.timelineWrapper.scrollWidth/a,d=(i=this.options.timeInterval)!==null&&i!==void 0?i:this.defaultTimeInterval(u),f=(o=this.options.primaryLabelInterval)!==null&&o!==void 0?o:this.defaultPrimaryLabelInterval(u),h=this.options.primaryLabelSpacing,w=(s=this.options.secondaryLabelInterval)!==null&&s!==void 0?s:this.defaultSecondaryLabelInterval(u),g=this.options.secondaryLabelSpacing,y=this.options.insertPosition==="beforebegin",k=Ol("div",{style:Object.assign({height:`${this.options.height}px`,overflow:"hidden",fontSize:this.options.height/2+"px",whiteSpace:"nowrap"},y?{position:"absolute",top:"0",left:"0",right:"0",zIndex:"2"}:{position:"relative"})});k.setAttribute("part","timeline"),typeof this.options.style=="string"?k.setAttribute("style",k.getAttribute("style")+this.options.style):typeof this.options.style=="object"&&Object.assign(k.style,this.options.style);const v=Ol("div",{style:{width:"0",height:"50%",display:"flex",flexDirection:"column",justifyContent:y?"flex-start":"flex-end",top:y?"0":"auto",bottom:y?"auto":"0",overflow:"visible",borderLeft:"1px solid currentColor",opacity:`${(l=this.options.secondaryLabelOpacity)!==null&&l!==void 0?l:.25}`,position:"absolute",zIndex:"1"}});for(let p=0,x=0;p<a;p+=d,x++){const m=v.cloneNode(),C=Math.round(100*p)/100%f==0||h&&x%h==0,P=Math.round(100*p)/100%w==0||g&&x%g==0;(C||P)&&(m.style.height="100%",m.style.textIndent="3px",m.textContent=this.options.formatTimeCallback(p),C&&(m.style.opacity="1"));const T=C?"primary":P?"secondary":"tick";m.setAttribute("part",`timeline-notch timeline-notch-${T}`),m.style.left=p*u+"px",k.appendChild(m)}this.timelineWrapper.innerHTML="",this.timelineWrapper.appendChild(k),this.emit("ready")}},Nw=class{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}},Tw=class extends Nw{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}};function em(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children")for(const[o,s]of Object.entries(t))typeof s=="string"?n.appendChild(document.createTextNode(s)):n.appendChild(em(o,s));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function jd(e,t,n){const r=em(e,t||{});return n==null||n.appendChild(r),r}const Pw={lineWidth:1,labelSize:11,formatTimeCallback:e=>`${Math.floor(e/60)}:${`0${Math.floor(e)%60}`.slice(-2)}`};let tm=class nm extends Tw{constructor(t){super(t||{}),this.unsubscribe=()=>{},this.onPointerMove=n=>{if(!this.wavesurfer)return;const r=this.wavesurfer.getWrapper().getBoundingClientRect(),{width:i}=r,o=n.clientX-r.left,s=Math.min(1,Math.max(0,o/i)),l=Math.min(i-this.options.lineWidth-1,o);this.wrapper.style.transform=`translateX(${l}px)`,this.wrapper.style.opacity="1";const a=this.wavesurfer.getDuration()||0;this.label.textContent=this.options.formatTimeCallback(a*s);const u=this.label.offsetWidth;this.label.style.transform=l+u>i?`translateX(-${u+this.options.lineWidth}px)`:"",this.emit("hover",s)},this.onPointerLeave=()=>{this.wrapper.style.opacity="0"},this.options=Object.assign({},Pw,t),this.wrapper=jd("div",{part:"hover"}),this.label=jd("span",{part:"hover-label"},this.wrapper)}static create(t){return new nm(t)}addUnits(t){return`${t}${typeof t=="number"?"px":""}`}onInit(){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");const t=this.wavesurfer.options,n=this.options.lineColor||t.cursorColor||t.progressColor;Object.assign(this.wrapper.style,{position:"absolute",zIndex:10,left:0,top:0,height:"100%",pointerEvents:"none",borderLeft:`${this.addUnits(this.options.lineWidth)} solid ${n}`,opacity:"0",transition:"opacity .1s ease-in"}),Object.assign(this.label.style,{display:"block",backgroundColor:this.options.labelBackground,color:this.options.labelColor,fontSize:`${this.addUnits(this.options.labelSize)}`,transition:"transform .1s ease-in",padding:"2px 3px"});const r=this.wavesurfer.getWrapper();r.appendChild(this.wrapper),r.addEventListener("pointermove",this.onPointerMove),r.addEventListener("pointerleave",this.onPointerLeave),r.addEventListener("wheel",this.onPointerMove),this.unsubscribe=()=>{r.removeEventListener("pointermove",this.onPointerMove),r.removeEventListener("pointerleave",this.onPointerLeave),r.removeEventListener("wheel",this.onPointerLeave)}}destroy(){super.destroy(),this.unsubscribe(),this.wrapper.remove()}};class Gi{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n),r==null?void 0:r.once){const i=()=>{this.un(t,i),this.un(t,n)};return this.on(t,i),i}return()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}}class rm extends Gi{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}}function Oe(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(u){try{a(r.next(u))}catch(d){o(d)}}function l(u){try{a(r.throw(u))}catch(d){o(d)}}function a(u){var d;u.done?i(u.value):(d=u.value,d instanceof n?d:new n(function(f){f(d)})).then(s,l)}a((r=r.apply(e,t||[])).next())})}const Nd={decode:function(e,t){return Oe(this,void 0,void 0,function*(){const n=new AudioContext({sampleRate:t});return n.decodeAudioData(e).finally(()=>n.close())})},createBuffer:function(e,t){return typeof e[0]=="number"&&(e=[e]),function(n){const r=n[0];if(r.some(i=>i>1||i<-1)){const i=r.length;let o=0;for(let s=0;s<i;s++){const l=Math.abs(r[s]);l>o&&(o=l)}for(const s of n)for(let l=0;l<i;l++)s[l]/=o}}(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:n=>e==null?void 0:e[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function im(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children")for(const[o,s]of Object.entries(t))typeof s=="string"?n.appendChild(document.createTextNode(s)):n.appendChild(im(o,s));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function os(e,t,n){const r=im(e,t||{});return n==null||n.appendChild(r),r}var Rw=Object.freeze({__proto__:null,createElement:os,default:os});const _w={fetchBlob:function(e,t,n){return Oe(this,void 0,void 0,function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return function(i,o){Oe(this,void 0,void 0,function*(){if(!i.body||!i.headers)return;const s=i.body.getReader(),l=Number(i.headers.get("Content-Length"))||0;let a=0;const u=f=>Oe(this,void 0,void 0,function*(){a+=(f==null?void 0:f.length)||0;const h=Math.round(a/l*100);o(h)}),d=()=>Oe(this,void 0,void 0,function*(){let f;try{f=yield s.read()}catch{return}f.done||(u(f.value),yield d())});d()})}(r.clone(),t),r.blob()})}};class Dw extends Gi{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onMediaEvent("canplay",()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)},{once:!0})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n,r)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){if(this.getSrc()===t)return;this.revokeSrc();const r=n instanceof Blob&&this.canPlayType(n.type)?URL.createObjectURL(n):t;this.media.src=r}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return Oe(this,void 0,void 0,function*(){return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}class Ys extends Gi{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.subscriptions=[],this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,o]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=o.querySelector(".scroll"),this.wrapper=o.querySelector(".wrapper"),this.canvasWrapper=o.querySelector(".canvases"),this.progressWrapper=o.querySelector(".progress"),this.cursor=o.querySelector(".cursor"),n&&o.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){const t=r=>{const i=this.wrapper.getBoundingClientRect(),o=r.clientX-i.left,s=r.clientY-i.top;return[o/i.width,s/i.height]};this.wrapper.addEventListener("click",r=>{const[i,o]=t(r);this.emit("click",i,o)}),this.wrapper.addEventListener("dblclick",r=>{const[i,o]=t(r);this.emit("dblclick",i,o)}),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:r,scrollWidth:i,clientWidth:o}=this.scrollContainer,s=r/i,l=(r+o)/i;this.emit("scroll",s,l)});const n=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{n().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender())}initDrag(){this.subscriptions.push(function(t,n,r,i,o=3,s=0,l=100){if(!t)return()=>{};const a=matchMedia("(pointer: coarse)").matches;let u=()=>{};const d=f=>{if(f.button!==s)return;f.preventDefault(),f.stopPropagation();let h=f.clientX,w=f.clientY,g=!1;const y=Date.now(),k=C=>{if(C.preventDefault(),C.stopPropagation(),a&&Date.now()-y<l)return;const P=C.clientX,T=C.clientY,D=P-h,$=T-w;if(g||Math.abs(D)>o||Math.abs($)>o){const O=t.getBoundingClientRect(),{left:Q,top:Z}=O;g||(r==null||r(h-Q,w-Z),g=!0),n(D,$,P-Q,T-Z),h=P,w=T}},v=C=>{if(g){const P=C.clientX,T=C.clientY,D=t.getBoundingClientRect(),{left:$,top:O}=D;i==null||i(P-$,T-O)}u()},p=C=>{C.relatedTarget&&C.relatedTarget!==document.documentElement||v(C)},x=C=>{g&&(C.stopPropagation(),C.preventDefault())},m=C=>{g&&C.preventDefault()};document.addEventListener("pointermove",k),document.addEventListener("pointerup",v),document.addEventListener("pointerout",p),document.addEventListener("pointercancel",p),document.addEventListener("touchmove",m,{passive:!1}),document.addEventListener("click",x,{capture:!0}),u=()=>{document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",v),document.removeEventListener("pointerout",p),document.removeEventListener("pointercancel",p),document.removeEventListener("touchmove",m),setTimeout(()=>{document.removeEventListener("click",x,{capture:!0})},10)}};return t.addEventListener("pointerdown",d),()=>{u(),t.removeEventListener("pointerdown",d)}}(this.wrapper,(t,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.getBoundingClientRect().width)))},t=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))},t=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))}))}getHeight(t,n){var r;const i=((r=this.audioData)===null||r===void 0?void 0:r.numberOfChannels)||1;if(t==null)return 128;if(!isNaN(Number(t)))return Number(t);if(t==="auto"){const o=this.parent.clientHeight||128;return n!=null&&n.every(s=>!s.overlay)?o/i:o}return 128}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"});return n.innerHTML=`
      <style>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t;this.subscriptions.forEach(n=>n()),this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect()}createDelay(t=10){let n,r;const i=()=>{n&&clearTimeout(n),r&&r()};return this.timeouts.push(i),()=>new Promise((o,s)=>{i(),r=s,n=setTimeout(()=>{n=void 0,r=void 0,o()},t)})}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";const n=document.createElement("canvas"),r=n.getContext("2d"),i=n.height*(window.devicePixelRatio||1),o=r.createLinearGradient(0,0,0,i),s=1/(t.length-1);return t.forEach((l,a)=>{const u=a*s;o.addColorStop(u,l)}),o}renderBarWaveform(t,n,r,i){const o=t[0],s=t[1]||t[0],l=o.length,{width:a,height:u}=r.canvas,d=u/2,f=window.devicePixelRatio||1,h=n.barWidth?n.barWidth*f:1,w=n.barGap?n.barGap*f:n.barWidth?h/2:0,g=n.barRadius||0,y=a/(h+w)/l,k=g&&"roundRect"in r?"roundRect":"rect";r.beginPath();let v=0,p=0,x=0;for(let m=0;m<=l;m++){const C=Math.round(m*y);if(C>v){const D=Math.round(p*d*i),$=D+Math.round(x*d*i)||1;let O=d-D;n.barAlign==="top"?O=0:n.barAlign==="bottom"&&(O=u-$),r[k](v*(h+w),O,h,$,g),v=C,p=0,x=0}const P=Math.abs(o[m]||0),T=Math.abs(s[m]||0);P>p&&(p=P),T>x&&(x=T)}r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const o=s=>{const l=t[s]||t[0],a=l.length,{height:u}=r.canvas,d=u/2,f=r.canvas.width/a;r.moveTo(0,d);let h=0,w=0;for(let g=0;g<=a;g++){const y=Math.round(g*f);if(y>h){const v=d+(Math.round(w*d*i)||1)*(s===0?-1:1);r.lineTo(h,v),h=y,w=0}const k=Math.abs(l[g]||0);k>w&&(w=k)}r.lineTo(h,d)};r.beginPath(),o(0),o(1),r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(t,r);let i=n.barHeight||1;if(n.normalize){const o=Array.from(t[0]).reduce((s,l)=>Math.max(s,Math.abs(l)),0);i=o?1/o:1}n.barWidth||n.barGap||n.barAlign?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,o,s,l){const a=window.devicePixelRatio||1,u=document.createElement("canvas");u.width=Math.round(r*a),u.height=Math.round(i*a),u.style.width=`${r}px`,u.style.height=`${i}px`,u.style.left=`${Math.round(o)}px`,s.appendChild(u);const d=u.getContext("2d");if(this.renderWaveform(t,n,d),u.width>0&&u.height>0){const f=u.cloneNode(),h=f.getContext("2d");h.drawImage(u,0,0),h.globalCompositeOperation="source-in",h.fillStyle=this.convertColorValues(n.progressColor),h.fillRect(0,0,u.width,u.height),l.appendChild(f)}}renderMultiCanvas(t,n,r,i,o,s){return Oe(this,void 0,void 0,function*(){const l=window.devicePixelRatio||1,a=r/l;let u=Math.min(Ys.MAX_CANVAS_WIDTH,this.scrollContainer.clientWidth);if(n.barWidth||n.barGap){const g=n.barWidth||.5,y=g+(n.barGap||g/2);u%y!=0&&(u=Math.floor(u/y)*y)}const d=g=>{const y=g*u,k=Math.min(a-y,u),v=t.map(p=>{const x=Math.floor(y/a*p.length),m=Math.floor((y+k)/a*p.length);return p.slice(x,m)});this.renderSingleCanvas(v,n,k,i,y,o,s)},f=Math.ceil(a/u);if(f===1)return void d(0);const h=this.scrollContainer.scrollLeft/a,w=Math.floor(h*f);d(w),d(w+1),yield Promise.all([(()=>Oe(this,void 0,void 0,function*(){const g=this.createDelay();for(let y=w-1;y>=0;y--)yield g(),d(y)}))(),(()=>Oe(this,void 0,void 0,function*(){const g=this.createDelay();for(let y=w+2;y<f;y++)yield g(),d(y)}))()])})}renderChannel(t,n,r,i){return Oe(this,void 0,void 0,function*(){var{overlay:o}=n,s=function(d,f){var h={};for(var w in d)Object.prototype.hasOwnProperty.call(d,w)&&f.indexOf(w)<0&&(h[w]=d[w]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function"){var g=0;for(w=Object.getOwnPropertySymbols(d);g<w.length;g++)f.indexOf(w[g])<0&&Object.prototype.propertyIsEnumerable.call(d,w[g])&&(h[w[g]]=d[w[g]])}return h}(n,["overlay"]);const l=document.createElement("div"),a=this.getHeight(s.height,s.splitChannels);l.style.height=`${a}px`,o&&i>0&&(l.style.marginTop=`-${a}px`),this.canvasWrapper.style.minHeight=`${a}px`,this.canvasWrapper.appendChild(l);const u=l.cloneNode();this.progressWrapper.appendChild(u),yield this.renderMultiCanvas(t,s,r,a,l,u)})}render(t){return Oe(this,void 0,void 0,function*(){this.timeouts.forEach(l=>l()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const n=window.devicePixelRatio||1,r=this.scrollContainer.clientWidth,i=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=i>r;const o=this.options.fillParent&&!this.isScrollable,s=(o?r:i)*n;this.wrapper.style.width=o?"100%":`${i}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render");try{if(this.options.splitChannels)yield Promise.all(Array.from({length:t.numberOfChannels}).map((l,a)=>{var u;const d=Object.assign(Object.assign({},this.options),(u=this.options.splitChannels)===null||u===void 0?void 0:u[a]);return this.renderChannel([t.getChannelData(a)],d,s,a)}));else{const l=[t.getChannelData(0)];t.numberOfChannels>1&&l.push(t.getChannelData(1)),yield this.renderChannel(l,this.options,s,0)}}catch{return}this.emit("rendered")})}reRender(){if(!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect();let i=r-n;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:o}=this.scrollContainer,s=t*i,l=r,a=r+o,u=o/2;if(this.isDragging)s+30>a?this.scrollContainer.scrollLeft+=30:s-30<l&&(this.scrollContainer.scrollLeft-=30);else{(s<l||s>a)&&(this.scrollContainer.scrollLeft=s-(this.options.autoCenter?u:0));const d=s-r-u;n&&this.options.autoCenter&&d>0&&(this.scrollContainer.scrollLeft+=Math.min(d,10))}{const d=this.scrollContainer.scrollLeft,f=d/i,h=(d+o)/i;this.emit("scroll",f,h)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0, 100% 0, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=`translateX(-${Math.round(r)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,n)}exportImage(t,n,r){return Oe(this,void 0,void 0,function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const o=Array.from(i).map(s=>s.toDataURL(t,n));return Promise.resolve(o)}return Promise.all(Array.from(i).map(o=>new Promise((s,l)=>{o.toBlob(a=>{a?s(a):l(new Error("Could not export image"))},t,n)})))})}}Ys.MAX_CANVAS_WIDTH=4e3;class Mw extends Gi{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}class Td extends Gi{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return Oe(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then(n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()}).then(n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n)).then(n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var t;if(!this.paused)return;this.paused=!1,(t=this.bufferNode)===null||t===void 0||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let n=this.playedDuration*this._playbackRate;n>=this.duration&&(n=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,n),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return Oe(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){var n,r;const i=t-this.currentTime;(n=this.bufferNode)===null||n===void 0||n.stop(this.audioContext.currentTime+i),(r=this.bufferNode)===null||r===void 0||r.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(t){return Oe(this,void 0,void 0,function*(){return this.audioContext.setSinkId(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var t,n;return(t=this._duration)!==null&&t!==void 0?t:((n=this.buffer)===null||n===void 0?void 0:n.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}}const Lw={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class Fi extends Dw{static create(t){return new Fi(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new Td:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},Lw,t),this.timer=new Mw;const r=n?void 0:this.getMediaElement();this.renderer=new Ys(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const i=this.options.url||this.getSrc()||"";Promise.resolve().then(()=>{this.emit("init");const{peaks:o,duration:s}=this.options;(i||o&&s)&&this.load(i,o,s).catch(()=>null)})}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const t=this.updateProgress();this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}),this.onMediaEvent("error",t=>{this.emit("error",t.error)}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))}),this.renderer.on("dblclick",(t,n)=>{this.emit("dblclick",t,n)}),this.renderer.on("scroll",(t,n)=>{const r=this.getDuration();this.emit("scroll",t*r,n*r)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}),this.renderer.on("dragstart",t=>{this.emit("dragstart",t)}),this.renderer.on("dragend",t=>{this.emit("dragend",t)}));{let t;this.subscriptions.push(this.renderer.on("drag",n=>{if(!this.options.interact)return;let r;this.renderer.renderProgress(n),clearTimeout(t),this.isPlaying()?r=0:this.options.dragToSeek===!0?r=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(r=this.options.dragToSeek.debounceTime),t=setTimeout(()=>{this.seekTo(n)},r),this.emit("interaction",n*this.getDuration()),this.emit("drag",n)}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach(n=>{this.registerPlugin(n)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(t=>t()),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(n=>n!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return Oe(this,void 0,void 0,function*(){var o;if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!n&&!r){const l=this.options.fetchParams||{};window.AbortController&&!l.signal&&(this.abortController=new AbortController,l.signal=(o=this.abortController)===null||o===void 0?void 0:o.signal);const a=u=>this.emit("loading",u);n=yield _w.fetchBlob(t,a,l)}this.setSrc(t,n);const s=i||this.getDuration()||(yield new Promise(l=>{this.onMediaEvent("loadedmetadata",()=>l(this.getDuration()),{once:!0})}));if(!t&&!n){const l=this.getMediaElement();l instanceof Td&&(l.duration=s)}if(r)this.decodedData=Nd.createBuffer(r,s||0);else if(n){const l=yield n.arrayBuffer();this.decodedData=yield Nd.decode(l,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(t,n,r){return Oe(this,void 0,void 0,function*(){try{return yield this.loadAudio(t,void 0,n,r)}catch(i){throw this.emit("error",i),i}})}loadBlob(t,n,r){return Oe(this,void 0,void 0,function*(){try{return yield this.loadAudio("blob",t,n,r)}catch(i){throw this.emit("error",i),i}})}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),o=[];for(let s=0;s<i;s++){const l=this.decodedData.getChannelData(s),a=[],u=l.length/n;for(let d=0;d<n;d++){const f=l.slice(Math.floor(d*u),Math.ceil((d+1)*u));let h=0;for(let w=0;w<f.length;w++){const g=f[w];Math.abs(g)>Math.abs(h)&&(h=g)}a.push(Math.round(h*r)/r)}o.push(a)}return o}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){super.setTime(t),this.updateProgress(t),this.emit("timeupdate",t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}playPause(){return Oe(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return Oe(this,arguments,void 0,function*(t="image/png",n=1,r="dataURL"){return this.renderer.exportImage(t,n,r)})}destroy(){var t;this.emit("destroy"),(t=this.abortController)===null||t===void 0||t.abort(),this.plugins.forEach(n=>n.destroy()),this.subscriptions.forEach(n=>n()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}Fi.BasePlugin=rm,Fi.dom=Rw;const bw={height:50,overlayColor:"rgba(100, 100, 100, 0.1)",insertPosition:"afterend"};class Xs extends rm{constructor(t){super(t),this.miniWavesurfer=null,this.container=null,this.options=Object.assign({},bw,t),this.minimapWrapper=this.initMinimapWrapper(),this.overlay=this.initOverlay()}static create(t){return new Xs(t)}onInit(){var t,n;if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");this.options.container?(typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.options.container instanceof HTMLElement&&(this.container=this.options.container),(t=this.container)===null||t===void 0||t.appendChild(this.minimapWrapper)):(this.container=this.wavesurfer.getWrapper().parentElement,(n=this.container)===null||n===void 0||n.insertAdjacentElement(this.options.insertPosition,this.minimapWrapper)),this.initWaveSurferEvents(),Promise.resolve().then(()=>{this.initMinimap()})}initMinimapWrapper(){return os("div",{part:"minimap",style:{position:"relative"}})}initOverlay(){return os("div",{part:"minimap-overlay",style:{position:"absolute",zIndex:"2",left:"0",top:"0",bottom:"0",transition:"left 100ms ease-out",pointerEvents:"none",backgroundColor:this.options.overlayColor}},this.minimapWrapper)}initMinimap(){if(this.miniWavesurfer&&(this.miniWavesurfer.destroy(),this.miniWavesurfer=null),!this.wavesurfer)return;const t=this.wavesurfer.getDecodedData(),n=this.wavesurfer.getMediaElement();if(!t||!n)return;const r=[];for(let i=0;i<t.numberOfChannels;i++)r.push(t.getChannelData(i));this.miniWavesurfer=Fi.create(Object.assign(Object.assign({},this.options),{container:this.minimapWrapper,minPxPerSec:0,fillParent:!0,media:n,peaks:r,duration:t.duration})),this.subscriptions.push(this.miniWavesurfer.on("ready",()=>{this.emit("ready")}),this.miniWavesurfer.on("interaction",()=>{this.emit("interaction")}))}getOverlayWidth(){var t;const n=((t=this.wavesurfer)===null||t===void 0?void 0:t.getWrapper().clientWidth)||1;return Math.round(this.minimapWrapper.clientWidth/n*100)}onRedraw(){const t=this.getOverlayWidth();this.overlay.style.width=`${t}%`}onScroll(t){if(!this.wavesurfer)return;const n=this.wavesurfer.getDuration();this.overlay.style.left=t/n*100+"%"}initWaveSurferEvents(){this.wavesurfer&&this.subscriptions.push(this.wavesurfer.on("decode",()=>{this.initMinimap()}),this.wavesurfer.on("scroll",t=>{this.onScroll(t)}),this.wavesurfer.on("redraw",()=>{this.onRedraw()}))}destroy(){var t;(t=this.miniWavesurfer)===null||t===void 0||t.destroy(),this.minimapWrapper.remove(),super.destroy()}}function Ow(){const{songId:e}=Ar(),t=Ze(),n=ft(),r=Ee(A=>A.notes.trackNotes),i=Ee(A=>A.session.user),[o,s]=S.useState(null),[l,a]=S.useState(!1),[u,d]=S.useState(0),[f,h]=S.useState(0),[w,g]=S.useState(null),y=S.useRef(null),k=S.useRef(null),v=S.useRef(null),p=S.useRef(null),x=300,m=.08;S.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),S.useEffect(()=>{const A=new AbortController,W=A.signal,N=async _=>{try{const L=await fetch(`/api/songs/${_}`,{signal:W});if(L.ok){const z=await L.json();s(z)}else console.error("Failed to fetch song details")}catch(L){L.name!=="AbortError"&&console.error("Error fetching song details:",L)}};return t(wi()),N(e),()=>{A.abort(),t(wi())}},[e,t]),S.useEffect(()=>{o&&y.current&&!k.current&&(k.current=is.create({container:y.current,waveColor:"#d9dcff",progressColor:"#29DFB1",height:230,responsive:!0,normalize:!0,scrollParent:!0,minPxPerSec:x,cursorWidth:2,barWidth:2,barGap:1.5,plugins:[Jp.create({container:v.current}),tm.create(),Xs.create({height:150,waveColor:"#d9dcff",progressColor:"#4353ff",cursorColor:"#ff6347",cursorWidth:2,barWidth:2,barGap:1.5})]}),k.current.load(o.song_url),k.current.on("ready",()=>{console.log("WaveSurfer is ready");const A=k.current.getDuration();h(A);const W=A*x;y.current.style.width=`${W}px`,p.current.style.width=`${W}px`,document.querySelectorAll(".lane").forEach(N=>{N.style.width=`${W}px`})}),k.current.on("audioprocess",()=>{d(k.current.getCurrentTime())}),k.current.on("seek",A=>{const W=k.current.getDuration()*A;d(W)}),k.current.on("error",A=>{console.error("WaveSurfer error:",A)}),k.current.on("finish",()=>{a(!1)}))},[o]),S.useEffect(()=>{console.log("Notes updated:",r)},[r]);const C=S.useCallback(()=>{k.current&&!l&&(k.current.play(),a(!0))},[l]),P=S.useCallback(()=>{k.current&&l&&(k.current.pause(),a(!1))},[l]),T=()=>{k.current&&(k.current.seekTo(0),l||k.current.pause(),a(!0))};S.useEffect(()=>{const A=W=>{W.code==="Space"&&(W.preventDefault(),l?P():C())};return window.addEventListener("keydown",A),()=>{window.removeEventListener("keydown",A)}},[C,l,P]);const D=A=>{const W=Math.floor(A/60),N=Math.floor(A%60),_=Math.floor(A%1*1e3);return`${W}:${N<10?"0":""}${N}.${_<100?_<10?"00":"0":""}${_}`};S.useEffect(()=>{if(p.current){const A=f*x;p.current.style.width=`${A}px`,document.querySelectorAll(".lane").forEach(W=>{W.style.width=`${A}px`})}},[f]);const $=(A,W)=>{console.log(`Dragging note with ID: ${W}`),A.dataTransfer.setData("note-id",W),g(W)},O=async(A,W)=>{A.preventDefault();const N=A.dataTransfer.getData("note-id");let _=(A.clientX-A.target.getBoundingClientRect().left)/x;for(let L=1;L<=5;L++)if(L!==W){const z=Object.values(r).filter(U=>U.lane===L);for(let U of z)if(Math.abs(U.time-_)<m){_=U.time;break}}if(N==="new"){const z=await t(rw({time:_,lane:W,note_type:"tap"}));z.errors?console.error("Error creating note:",z.errors):(console.log("Note created:",z),t(La({...r,[z.id]:z})))}else{const z={...r[N],time:_,lane:W},U=await t(iw(N,z));U.errors?console.error("Error updating note:",U.errors):(console.log("Note updated:",U),t(La({...r,[N]:z})))}g(null)},Q=A=>{A.preventDefault()},Z=A=>{const W=p.current.getBoundingClientRect();(A.clientY<W.top||A.clientY>W.bottom)&&w&&w!=="new"&&(console.log(`Removing note with ID: ${w}`),t(ow(w)),g(null))},se=A=>{const W=Math.floor(A/60),N=Math.floor(A%60);return`${W}:${N<10?"0":""}${N}`},ze=async()=>{const A={song_id:e,notes:Object.values(r),duration:f},W=await t(_1(A));W.errors?console.error("Errors:",W.errors):n(`/track-overview/${W.id}`)},ne=async()=>{t(wi()),n(`/session-overview/${i.username}`)};return o?c.jsxs("div",{className:"track-creator-page",children:[c.jsxs("div",{className:"nav-bar",children:[c.jsx("button",{onClick:ne,children:"Back to Overview"}),c.jsx("button",{onClick:ze,children:"Publish"})]}),c.jsxs("div",{className:"track-creator",children:[c.jsxs("div",{className:"song-details-container",children:[c.jsx("div",{className:"song-image",children:c.jsx("img",{src:o.image_url})}),c.jsxs("div",{className:"song-details",children:[c.jsx("h2",{children:o.song_name}),c.jsx("h3",{children:o.artist_name}),c.jsx("p",{children:se(o.duration)})]})]}),c.jsxs("div",{className:"controls",children:[c.jsx("div",{className:"note-container",children:c.jsx("div",{className:"note",draggable:!0,onDragStart:A=>$(A,"new")})}),c.jsxs("div",{className:"play-pause",children:[c.jsx("button",{onClick:T,children:c.jsx("i",{className:"fa-solid fa-undo"})}),c.jsx("button",{onClick:C,disabled:l,children:c.jsx("i",{className:"fa-solid fa-play"})}),c.jsx("button",{onClick:P,disabled:!l,children:c.jsx("i",{className:"fa-solid fa-pause"})})]}),c.jsx("div",{className:"timestamp",children:c.jsx("p",{children:D(u)})}),c.jsxs("p",{children:[Object.keys(r).length," note",Object.keys(r).length!==1?"s":""]})]}),c.jsxs("div",{className:"wavesurfer-track",children:[c.jsx("div",{ref:y,id:"waveform"}),c.jsx("div",{className:"track-lanes",ref:p,children:[1,2,3,4,5].map(A=>c.jsx("div",{className:"lane",id:`lane-${A}`,onDrop:W=>O(W,A),onDragOver:Q,children:Object.values(r).filter(W=>W.lane===A).map(W=>c.jsx("div",{className:"note",style:{left:`${W.time*x}px`},draggable:!0,onDragStart:N=>$(N,W.id),onDragEnd:Z},W.id))},A))})]})]})]}):c.jsx("div",{children:"Loading song details..."})}function $w(){const{trackId:e}=Ar(),t=Ze(),n=Ee(u=>u.tracks.userTracks[e]);S.useState("global");const r=ft();S.useEffect(()=>{e&&t(Gs(e))},[t,e]);const i=u=>{const d=Math.floor(u/60),f=Math.floor(u%60);return`${d}:${f<10?"0":""}${f}`},{song:o,notes:s}=n,l=s?Object.keys(s).length:0,a=async u=>{u.preventDefault(),r(`/play/${e}`)};return c.jsxs("div",{className:"track-preview-modal",children:[c.jsxs("div",{className:"song-details",children:[c.jsx("div",{className:"song-image",children:c.jsx("img",{src:o==null?void 0:o.image_url})}),c.jsxs("div",{className:"song-info",children:[c.jsx("h2",{children:o==null?void 0:o.song_name}),c.jsx("h3",{children:o==null?void 0:o.artist_name}),c.jsx("h4",{children:i(n.duration)}),c.jsxs("p",{children:[l," ",l===1?"note":"notes"]})]}),c.jsx("div",{className:"buttons-container",children:c.jsx("button",{className:"play-button",onClick:a,children:"Play"})})]}),c.jsx("div",{id:"divider"}),c.jsxs("div",{className:"scoreboard",children:[c.jsx("div",{className:"tabs"}),c.jsx("div",{className:"tab-content"})]})]})}function Iw(){const{trackId:e}=Ar(),t=Ze(),n=Ee(d=>d.tracks.userTracks[e]),r=Ee(d=>d.session.user),i=ft();S.useEffect(()=>{e&&t(Gs(e))},[t,e]),S.useEffect(()=>{n&&(console.log("Track data:",n),console.log("Notes data type:",typeof n.notes),console.log("Notes data:",n.notes))},[n]);const o=d=>{const f=Math.floor(d/60),h=Math.floor(d%60);return`${f}:${h<10?"0":""}${h}`};if(!n)return c.jsx("div",{children:"Loading track details..."});const s=async()=>{if(!r){console.error("Session user is not defined.");return}i(`/session-overview/${r.username}`)},{song:l,notes:a}=n,u=a?Object.keys(a).length:0;return c.jsxs("div",{className:"track-overview-page",children:[c.jsx("h1",{children:"Your track is now available to play."}),c.jsxs("div",{className:"track-details",children:[c.jsx("div",{className:"song-image",children:c.jsx("img",{src:l==null?void 0:l.image_url})}),c.jsxs("div",{className:"song-details",children:[c.jsx("h2",{children:l==null?void 0:l.song_name}),c.jsx("h3",{children:l==null?void 0:l.artist_name}),c.jsx("h4",{children:o(n.duration)}),c.jsxs("p",{children:[u," ",u===1?"note":"notes"]})]})]}),c.jsxs("div",{className:"buttons-container",children:[c.jsx("button",{onClick:s,className:"overview-button",children:"Account Overview"}),c.jsx(Tn,{buttonText:"Play",modalComponent:c.jsx($w,{}),className:"play-button"})]})]})}function Aw({hue:e}){const[t,n]=S.useState([]),r=250;S.useEffect(()=>{const o=Array.from({length:r},()=>{const s=Math.random()*5+5,l=Math.random()*100,a=Math.random()*100,u=Math.random()*10+10,d=Math.random()*5,f=Math.random()*2*Math.PI,h=Math.random()*200+150,w=Math.random()*.6+.3;return{size:s,left:l,top:a,duration:u,delay:d,angle:f,distance:h,maxOpacity:w}});n(o)},[]);const i=`hsl(${e}, 100%, 50%)`;return c.jsx("div",{className:"particle-container",children:t.map((o,s)=>c.jsx("div",{className:"particle",style:{width:o.size,height:o.size,left:`${o.left}vw`,top:`${o.top}vh`,animationDuration:`${o.duration}s`,animationDelay:`${o.delay}s`,"--translateX":`${o.distance*Math.cos(o.angle)}px`,"--translateY":`${o.distance*Math.sin(o.angle)}px`,"--maxOpacity":o.maxOpacity,backgroundColor:i,boxShadow:`0 0 20px 5px ${i}`}},s))})}const zw=({isActive:e})=>{const[t,n]=S.useState(!1),[r,i]=S.useState([]);return S.useEffect(()=>{e&&(n(!0),i([...Array(4)].map((o,s)=>({id:s,size:Math.random()*18+25,left:Math.random()*80,delay:s*.05}))),setTimeout(()=>{n(!1),i([])},300))},[e]),c.jsx("div",{className:`hit-effect ${t?"active":""}`,children:r.map(o=>c.jsx("svg",{className:"sparkle",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",style:{animationDelay:`${o.delay}s`,width:`${o.size}px`,left:`${o.left}px`},children:c.jsx("path",{d:"M14.187 8.096L15 5.25L15.813 8.096C16.0231 8.83114 16.4171 9.50062 16.9577 10.0413C17.4984 10.5819 18.1679 10.9759 18.903 11.186L21.75 12L18.904 12.813C18.1689 13.0231 17.4994 13.4171 16.9587 13.9577C16.4181 14.4984 16.0241 15.1679 15.814 15.903L15 18.75L14.187 15.904C13.9769 15.1689 13.5829 14.4994 13.0423 13.9587C12.5016 13.4181 11.8321 13.0241 11.097 12.814L8.25 12L11.096 11.187C11.8311 10.9769 12.5006 10.5829 13.0413 10.0423C13.5819 9.50162 13.9759 8.83214 14.186 8.097L14.187 8.096Z"})},o.id))})};function Fw(){var Br;const{trackId:e}=Ar(),t=Ze(),n=ft(),r=Ee(G=>G.tracks.allTracks[e]),i=Ee(G=>G.session.user),[o,s]=S.useState(0),[l,a]=S.useState([]),[u,d]=S.useState([!1,!1,!1,!1,!1]),[f,h]=S.useState(!1),[w,g]=S.useState(!1),[y,k]=S.useState(!1),[v,p]=S.useState(new Set),[x,m]=S.useState(0),[C,P]=S.useState(1),[T,D]=S.useState(new Set),[$,O]=S.useState(0),[Q,Z]=S.useState(0),[se,ze]=S.useState(0),[ne,A]=S.useState(1),[W,N]=S.useState(!1),[_,L]=S.useState(!1),[z,U]=S.useState(!1),[Te,pe]=S.useState(new Array(5).fill(!1)),H=S.useRef(l),me=S.useRef(v),ue=S.useRef(C),[St,De]=S.useState(0),Me=S.useRef(null),un=S.useRef(null),qs=S.useRef(!1),_t=S.useRef(null),Gt=S.useRef(null),er=S.useRef(!1),zr=S.useRef(0),Fr=90,Yi=30,bn=30,Xi=25,Ur=["D","F","J","K","L"];S.useEffect(()=>{H.current=l},[l]),S.useEffect(()=>{me.current=v},[v]),S.useEffect(()=>{ue.current=C},[C]),S.useEffect(()=>{const G=()=>{document.fullscreenElement?U(!0):U(!1)};return document.addEventListener("fullscreenchange",G),()=>{document.removeEventListener("fullscreenchange",G)}},[]);const Dt=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():Gt.current.requestFullscreen&&Gt.current.requestFullscreen()};S.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),S.useEffect(()=>{const G=()=>{clearTimeout(_t.current),Gt.current&&Gt.current.classList.remove("hidden-cursor"),_t.current=setTimeout(()=>{Gt.current&&Gt.current.classList.add("hidden-cursor")},300)};return document.addEventListener("mousemove",G),()=>{clearTimeout(_t.current),document.removeEventListener("mousemove",G)}},[]),S.useEffect(()=>{e&&t(Gs(e))},[t,e]),S.useEffect(()=>{i||t(Np())},[t,i]),S.useEffect(()=>(r&&r.song&&r.song.song_url&&!Me.current&&(Me.current=WaveSurfer.create({container:document.createElement("div"),height:0,normalize:!0}),Me.current.load(r.song.song_url),Me.current.on("error",G=>{console.error("WaveSurfer error:",G)})),()=>{Me.current&&(Me.current.stop(),Me.current.destroy(),Me.current=null)}),[r]),S.useEffect(()=>{if(f&&r&&r.notes){const G=Date.now();un.current=G+1070;const ce=Object.values(r.notes).map(Fe=>({...Fe,uniqueId:`${Fe.id}-${Date.now()}-${Math.random()}`,missed:!1}));a(ce),s(ce.length),console.log("Falling notes initialized:",ce);const ye=ce.reduce((Fe,et)=>Fe.time>et.time?Fe:et);qs.current=ye,console.log("Last note identified:",ye),requestAnimationFrame(cn)}},[f,r]);const cn=()=>{if(er.current||w)return;const ce=(Date.now()-un.current)/1e3;a(ye=>{if(!Array.isArray(ye))return console.error("prevNotes is not an array:",ye),ye;const Fe=ye.map(le=>({...le,position:(ce-le.time)*100})),et=Fr+Yi;Fe.forEach(le=>{le.position>et&&!v.has(le.uniqueId)&&!le.missed&&(le.missed=!0,D(re=>{const E=new Set(re);return E.add(le.uniqueId),E}),P(1),Z(0),console.log(`Note missed: ${le.uniqueId}`))}),Fe.forEach(le=>{le.position>100&&!v.has(le.uniqueId)&&!le.missed&&(console.log(`Note went off screen without being hit: ${le.uniqueId}`),le.missed=!0,D(re=>{const E=new Set(re);return E.add(le.uniqueId),E}),P(1),Z(0))});const Ut=Fe.filter(le=>le.position<=100);return!er.current&&Ut.length===0&&(console.log("Last note processed. Ending game."),tr()),Ut}),f&&!y&&requestAnimationFrame(cn)},qi=()=>{const ce=performance.now(),ye=Fe=>{const et=Math.min((Fe-ce)/1e3,1),Ut=Math.floor(et*x);O(Ut),et<1&&requestAnimationFrame(ye)};requestAnimationFrame(ye)},tr=()=>{if(er.current||w)return;console.log("Triggering endGame"),er.current=!0,k(!0);const G=zr.current,ce=o>0?v.size/o*100:0;setTimeout(()=>{Me.current&&Ji(Me.current,2e3),setTimeout(()=>{g(!0),i&&(console.log("Dispatching createScore with:",{track_id:e,score:G,accuracy:ce,difficulty:r.difficulty||"Unknown"}),t(G1({track_id:e,score:G,accuracy:ce,difficulty:r.difficulty||"Unknown"})))},2e3)},2e3)};S.useEffect(()=>{w&&qi()},[w,x]);const Js=async()=>{h(!0),un.current=Date.now(),setTimeout(()=>{Me.current.play()},2e3)},st=G=>{const ce=H.current,ye=me.current,Fe=ue.current;console.log(`Key pressed: Lane ${G+1}`);const et=Fr,Ut=Fr+Yi,le=ce.find(re=>re.lane===G+1&&re.position+bn>=et+Xi&&re.position<=Ut&&!ye.has(re.uniqueId));le?(p(re=>{const E=new Set(re);return E.add(le.uniqueId),E}),pe(re=>{const E=[...re];return E[G]===!0?re:(E[G]=!0,E)}),setTimeout(()=>{pe(re=>{const E=[...re];return E[G]=!1,E})},600),zr.current+=150*Fe,m(zr.current),P(re=>{const E=re+1;return E>ne&&A(E),E}),Z(re=>{const E=re+1;return E>se&&ze(E),E}),L(!0),setTimeout(()=>{L(!1)},300),De(re=>(re+30)%360),console.log(`Hit note in lane ${G+1}`),a(re=>{const E=re.filter(j=>j.uniqueId!==le.uniqueId);return console.log("Updated falling notes after hit:",E),E})):(console.log(`Lane key pressed at ${G+1}`),Fe>1&&(N(!0),setTimeout(()=>N(!1),300)),P(1),Z(0)),d(re=>{const E=[...re];return E[G]=!0,E}),setTimeout(()=>{d(re=>{const E=[...re];return E[G]=!1,E})},100)};S.useEffect(()=>{if(!f)return;const G=ce=>{switch(ce.key){case"d":st(0);break;case"f":st(1);break;case"j":st(2);break;case"k":st(3);break;case"l":st(4);break}};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[f]);const Ji=(G,ce=2e3)=>{const Fe=ce/50,et=G.getVolume()/Fe,Ut=setInterval(()=>{const le=G.getVolume();le<=et?(clearInterval(Ut),G.setVolume(0)):G.setVolume(le-et)},50)},Wr=async()=>{if(!i){console.error("Session user is not defined.");return}n(`/session-overview/${i.username}`)},Zi=async()=>{n(`/session-overview/${i.username}`)},Zs=()=>{window.location.reload()};return c.jsxs("div",{className:`gameplay ${_?"pulse":""}`,ref:Gt,style:{backgroundImage:(Br=r==null?void 0:r.song)!=null&&Br.image_url?`linear-gradient(
                        rgba(0,0,0,0.5),
                        rgba(0,0,0,0.5)
                    ), url(${r.song.image_url})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[c.jsx(Aw,{hue:St}),!f&&!w&&c.jsxs("div",{className:"start-game-modal",children:[c.jsx("button",{className:"fullscreen-button",onClick:Dt,children:z?c.jsx("i",{className:"fa-solid fa-compress"}):c.jsx("i",{className:"fa-solid fa-expand"})}),c.jsx("button",{className:"start-track",onClick:Js,children:"Start Track"}),c.jsxs("button",{className:"back",onClick:Wr,children:[c.jsx("i",{className:"fa-solid fa-angle-left"}),"Back to Overview"]})]}),w&&c.jsxs("div",{className:"end-game-modal",children:[c.jsxs("div",{className:"container",children:[c.jsx("h1",{children:"Game Over"}),c.jsx("div",{className:"score",children:c.jsx("h2",{children:$})}),v.size===o&&o>0&&c.jsx("div",{className:"perfect-score",children:c.jsx("p",{children:"PERFECT SCORE"})}),c.jsx("div",{className:"new-highscore"}),c.jsxs("div",{className:"statistics",children:[c.jsxs("div",{className:"hit stat",children:[c.jsx("p",{children:"Notes Hit"})," ",c.jsxs("p",{children:[v.size,"/",o]})]}),c.jsxs("div",{className:"missed stat",children:[c.jsx("p",{children:"Notes Missed"})," ",c.jsx("p",{children:o-v.size})]}),c.jsxs("div",{className:"streak stat",children:[c.jsx("p",{children:"Longest Streak"})," ",c.jsx("p",{children:se})]}),c.jsxs("div",{className:"highest-multi stat",children:[c.jsx("p",{children:"Highest Multiplier"})," ",c.jsxs("p",{children:["x",ne]})]})]}),c.jsx("button",{className:"play-again",onClick:Zs,children:"Play Again"}),c.jsxs("button",{className:"back",onClick:Wr,children:[c.jsx("i",{className:"fa-solid fa-angle-left"}),"Back to Overview"]})]}),c.jsx("button",{className:"fullscreen-button",onClick:Dt,children:z?c.jsx("i",{className:"fa-solid fa-compress"}):c.jsx("i",{className:"fa-solid fa-expand"})})]}),c.jsxs("div",{className:"left",children:[c.jsx("i",{onClick:Zi,className:"fa-solid fa-chevron-left"}),c.jsxs("div",{className:`multiplier ${W?"multiplier-reset":""}`,children:[c.jsx("p",{className:"multiplier-word",children:"Multiplier"}),c.jsxs("p",{children:["x",C]})]})]}),c.jsx("div",{className:"center",children:c.jsx("div",{className:"track-lanes",children:[...Array(5)].map((G,ce)=>c.jsxs("div",{className:"lanes",children:[l.filter(ye=>ye.lane===ce+1).map(ye=>c.jsx("div",{className:`note ${v.has(ye.uniqueId)?"hit":T.has(ye.uniqueId)?"missed":""}`,style:{top:`${ye.position}%`}},ye.uniqueId)),c.jsx("div",{className:`hit-zone ${u[ce]?"active":""}`,children:Te[ce]&&c.jsx(zw,{isActive:Te[ce]})}),c.jsx("div",{className:"key-label",children:Ur[ce]})]},ce))})}),c.jsx("div",{className:"right",children:c.jsxs("div",{className:"score",children:[c.jsx("p",{className:"word-score",children:"Score"}),c.jsx("p",{className:"number-score",children:x})]})})]})}function Uw({song:e}){const t=Ze(),{closeModal:n}=Zn(),r=Ee(s=>s.session.user.id),i=async()=>{await t(w1(e.id)),await t(zu(r)),await t(Qs(r)),n()},o=()=>{n()};return c.jsxs("div",{className:"confirm-delete-modal",children:[c.jsx("h3",{children:"Are you sure you want to delete this song?"}),c.jsx("h4",{children:"Doing so will delete all tracks made with this song and make creators unhappy."}),c.jsxs("div",{className:"buttons",children:[c.jsx("button",{className:"cancel-button",onClick:o,children:"Cancel"}),c.jsx("button",{className:"delete-button",onClick:i,children:"Delete"})]})]})}function Ww({track:e}){const t=Ze(),{closeModal:n}=Zn(),r=Ee(s=>s.session.user.id),i=async()=>{await t(M1(e.id)),await t(Qs(r)),n()},o=()=>{n()};return c.jsxs("div",{className:"confirm-delete-modal",children:[c.jsx("h3",{children:"Are you sure you want to delete this track?"}),c.jsxs("div",{className:"buttons",children:[c.jsx("button",{className:"cancel-button",onClick:o,children:"Cancel"}),c.jsx("button",{className:"delete-button",onClick:i,children:"Delete"})]})]})}function Bw({track:e}){const t=ft(),{closeModal:n}=Zn(),r=u=>{const d=Math.floor(u/60),f=Math.floor(u%60);return`${d}:${f<10?"0":""}${f}`},i=async u=>{u.preventDefault(),t(`/play/${e.id}`),n()},o=u=>{u.preventDefault(),t(`/track-editor/${e.id}`),n()};if(!e)return null;const{song:s,notes:l}=e,a=l?Object.keys(l).length:0;return c.jsxs("div",{className:"track-modal-container",children:[c.jsxs("div",{className:"song-details",children:[c.jsx("div",{className:"song-image",children:c.jsx("img",{src:s==null?void 0:s.image_url})}),c.jsxs("div",{className:"song-info",children:[c.jsx("h2",{children:s==null?void 0:s.song_name}),c.jsx("h3",{children:s==null?void 0:s.artist_name}),c.jsx("h4",{children:r(e.duration)}),c.jsxs("p",{children:[a," ",a===1?"note":"notes"]})]}),c.jsxs("div",{className:"buttons-container",children:[c.jsx("button",{className:"play-button",onClick:i,children:"Play"}),c.jsxs("div",{className:"update-delete",children:[c.jsx("button",{className:"update-button",onClick:o,children:"Edit"}),c.jsx(Tn,{buttonText:"Delete",modalComponent:c.jsx(Ww,{track:e}),className:"delete-button"})]})]})]}),c.jsx("div",{id:"divider"}),c.jsxs("div",{className:"scoreboard",children:[c.jsx("div",{className:"tabs"}),c.jsx("div",{className:"tab-content"})]})]})}function Vw({song:e}){const t=Ze(),{closeModal:n}=Zn(),[r,i]=S.useState(e.song_name),[o,s]=S.useState(e.artist_name),[l,a]=S.useState({}),u=Ee(f=>f.session.user.id),d=async f=>{f.preventDefault();const h={};if(r||(h.songName="Song name can't be empty"),o||(h.artistName="Artist name can't be empty"),Object.keys(h).length>0){a(h);return}const w={song_name:r,artist_name:o},g=await t(y1(e.id,w));g.errors?a(g.errors):(await t(zu(u)),await t(Qs(u)),n())};return c.jsxs("div",{className:"edit-song-modal",children:[c.jsx("h2",{children:"Edit Song"}),c.jsxs("form",{onSubmit:d,children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"song-name",children:"Song Name"}),c.jsx("input",{id:"song-name",type:"text",value:r,onChange:f=>i(f.target.value)}),l.songName&&c.jsx("p",{className:"error",children:l.songName})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"artist-name",children:"Artist Name"}),c.jsx("input",{id:"artist-name",type:"text",value:o,onChange:f=>s(f.target.value)}),l.artistName&&c.jsx("p",{className:"error",children:l.artistName})]}),c.jsx("button",{type:"submit",children:"Save Changes"}),c.jsx("button",{type:"button",onClick:n,children:"Cancel"})]})]})}function Hw(){const{username:e}=Ar(),t=Ze(),n=ft(),r=Ee(f=>f.songs.userSongs),i=Ee(f=>f.tracks.userTracks),o=Ee(f=>f.session.user.id),s=Ee(f=>f.scores.userScores);S.useEffect(()=>{o&&(t(Qs(o)),t(zu(o)),t(Q1(o)))},[t,o]);const l=f=>{const h=Math.floor(f),w=Math.floor(h/60),g=h%60;return`${w}:${g<10?"0":""}${g}`},a=()=>{n("/add-song")},u=Object.values(s).reduce((f,h)=>((!f[h.track_id]||h.score>f[h.track_id].score)&&(f[h.track_id]=h),f),{}),d=Object.values(u).reverse();return c.jsxs("div",{className:"session-overview-page",children:[c.jsxs("h1",{children:["Welcome, ",e]}),c.jsxs("div",{className:"song-tracks",children:[c.jsxs("div",{className:"your-scores",children:[c.jsx("h3",{children:"Your Scores"}),c.jsx("div",{className:"score-card-container",children:d.map(f=>{var w;const h=i[f.track_id];return c.jsxs("div",{className:"track-score",children:[c.jsx("div",{className:"image-score"}),c.jsx("p",{children:h&&((w=h.song)==null?void 0:w.song_name)||"Unknown Track"}),c.jsx("p",{children:f.score})]},f.id)})})]}),c.jsxs("div",{className:"your-songs",children:[c.jsx("h3",{children:"Your Songs"}),c.jsxs("div",{className:"song-card-container",children:[c.jsx("div",{className:"add-song-button",onClick:a,children:c.jsx("i",{className:"fa-solid fa-plus"})}),Object.values(r).reverse().map(f=>c.jsxs("div",{className:"song-card",children:[c.jsxs("div",{className:"song-info",children:[c.jsx("img",{src:f.image_url}),c.jsxs("div",{className:"song-details",children:[c.jsx("h4",{children:c.jsx("span",{children:f.song_name})}),c.jsx("p",{children:c.jsx("span",{children:f.artist_name})}),c.jsx("p",{children:l(f.duration)})]})]}),c.jsxs("div",{className:"buttons",children:[c.jsx(Tn,{buttonText:c.jsx("i",{className:"fa-solid fa-pen-to-square"}),modalComponent:c.jsx(Vw,{song:f}),className:"edit-button"}),c.jsx(Tn,{buttonText:c.jsx("i",{className:"fa-solid fa-trash-can"}),modalComponent:c.jsx(Uw,{song:f}),className:"delete-button"})]})]},f.id))]})]}),c.jsxs("div",{className:"your-tracks",children:[c.jsx("h3",{children:"Your Tracks"}),c.jsxs("div",{className:"track-card-container",children:[c.jsx("div",{className:"add-song-button",onClick:a,children:c.jsx("i",{className:"fa-solid fa-plus"})}),Object.values(i).reverse().map(f=>{var h,w,g,y,k;return c.jsx(Tn,{buttonText:c.jsxs("div",{className:"track-card",children:[c.jsx("div",{className:"track-image",children:c.jsx("img",{src:(h=f.song)==null?void 0:h.image_url,alt:(w=f.song)==null?void 0:w.song_name})}),c.jsxs("div",{className:"track-details",children:[c.jsx("h4",{children:c.jsx("span",{children:(g=f.song)==null?void 0:g.song_name})}),c.jsx("p",{children:l(f.duration)}),c.jsxs("p",{children:[Object.values(f.notes).length," ",Object.values(f.notes).length===1?"note":"notes"]})]}),c.jsx("div",{className:"background-image",children:c.jsx("img",{src:(y=f.song)==null?void 0:y.image_url,alt:(k=f.song)==null?void 0:k.song_name})})]}),modalComponent:c.jsx(Bw,{track:f}),className:"track-open-modal"},f.id)})]})]})]})]})}function Kw(){const{trackId:e}=Ar(),t=Ze(),n=ft(),r=Ee(N=>N.notes.trackNotes),i=Ee(N=>N.session.user),[o,s]=S.useState({}),[l,a]=S.useState(null),[u,d]=S.useState(!1),[f,h]=S.useState(0),[w,g]=S.useState(0),[y,k]=S.useState(null),v=S.useRef(null),p=S.useRef(null),x=S.useRef(null),m=S.useRef(null),C=300,P=.08;S.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),S.useEffect(()=>{const N=new AbortController;return N.signal,t(Gs(e)).then(_=>{if(_&&_.song){a(_.song);const L=Object.values(_.notes).reduce((z,U)=>(z[U.id]=U,z),{});s(L),t(La(L))}else console.error("Failed to get song details from track data")}),()=>{N.abort(),t(wi())}},[e,t]),S.useEffect(()=>{l&&v.current&&!p.current&&(p.current=is.create({container:v.current,waveColor:"#d9dcff",progressColor:"#29DFB1",height:230,responsive:!0,normalize:!0,scrollParent:!0,minPxPerSec:C,cursorWidth:2,barWidth:2,barGap:1.5,plugins:[Jp.create({container:x.current}),tm.create(),Xs.create({height:150,waveColor:"#d9dcff",progressColor:"#4353ff",cursorColor:"#ff6347",cursorWidth:2,barWidth:2,barGap:1.5})]}),p.current.load(l.song_url),p.current.on("ready",()=>{console.log("WaveSurfer is ready");const N=p.current.getDuration();g(N);const _=N*C;v.current.style.width=`${_}px`,m.current.style.width=`${_}px`,document.querySelectorAll(".lane").forEach(L=>{L.style.width=`${_}px`})}),p.current.on("audioprocess",()=>{h(p.current.getCurrentTime())}),p.current.on("seek",N=>{const _=p.current.getDuration()*N;h(_)}),p.current.on("error",N=>{console.error("WaveSurfer error:",N)}),p.current.on("finish",()=>{d(!1)}))},[l]),S.useEffect(()=>{console.log("Notes updated:",r)},[r]);const T=S.useCallback(()=>{p.current&&!u&&(p.current.play(),d(!0))},[u]),D=S.useCallback(()=>{p.current&&u&&(p.current.pause(),d(!1))},[u]),$=()=>{p.current&&(p.current.seekTo(0),u||p.current.pause(),d(!0))};S.useEffect(()=>{const N=_=>{_.code==="Space"&&(_.preventDefault(),u?D():T())};return window.addEventListener("keydown",N),()=>{window.removeEventListener("keydown",N)}},[T,u,D]);const O=N=>{const _=Math.floor(N/60),L=Math.floor(N%60),z=Math.floor(N%1*1e3);return`${_}:${L<10?"0":""}${L}.${z<100?z<10?"00":"0":""}${z}`};S.useEffect(()=>{if(m.current){const N=w*C;m.current.style.width=`${N}px`,document.querySelectorAll(".lane").forEach(_=>{_.style.width=`${N}px`})}},[w]);const Q=S.useCallback((N,_)=>{console.log(`Dragging note with ID: ${_}`),k(_),N.dataTransfer.setData("note-id",_)},[]),Z=S.useCallback((N,_)=>{N.preventDefault();const L=N.dataTransfer.getData("note-id");let z=(N.clientX-N.target.getBoundingClientRect().left)/C;for(let U=1;U<=5;U++)if(U!==_){const Te=Object.values(r).filter(pe=>pe.lane===U);for(let pe of Te)if(Math.abs(pe.time-z)<P){z=pe.time;break}}if(L==="new"){const U={id:`temp-${Date.now()}`,time:z,lane:_,note_type:"tap"};s(Te=>({...Te,[U.id]:U}))}else s(U=>({...U,[L]:{...U[L],time:z,lane:_}}));k(null)},[y,C,r,t]),se=S.useCallback(N=>{N.preventDefault()},[]),ze=N=>{const _=m.current.getBoundingClientRect();(N.clientY<_.top||N.clientY>_.bottom)&&y&&y!=="new"&&(console.log(`Removing note with ID: ${y}`),s(L=>{const z={...L};return delete z[y],z}),k(null))},ne=N=>{const _=Math.floor(N/60),L=Math.floor(N%60);return`${_}:${L<10?"0":""}${L}`},A=async()=>{const N={song_id:l.id,notes:Object.values(o),duration:w},_=await t(D1(e,N));_.errors?console.error("Errors:",_.errors):n(`/track-overview/${e}`)},W=async()=>{t(wi()),n(`/session-overview/${i.username}`)};return l?c.jsxs("div",{className:"track-creator-page",children:[c.jsxs("div",{className:"nav-bar",children:[c.jsx("button",{onClick:W,children:"Back"}),c.jsx("button",{onClick:A,children:"Confirm Changes"})]}),c.jsxs("div",{className:"track-creator",children:[c.jsxs("div",{className:"song-details-container",children:[c.jsx("div",{className:"song-image",children:c.jsx("img",{src:l.image_url})}),c.jsxs("div",{className:"song-details",children:[c.jsx("h2",{children:l.song_name}),c.jsx("h3",{children:l.artist_name}),c.jsx("p",{children:ne(l.duration)})]})]}),c.jsxs("div",{className:"controls",children:[c.jsx("div",{className:"note-container",children:c.jsx("div",{className:"note",draggable:!0,onDragStart:N=>Q(N,"new")})}),c.jsxs("div",{className:"play-pause",children:[c.jsx("button",{onClick:$,children:c.jsx("i",{className:"fa-solid fa-undo"})}),c.jsx("button",{onClick:T,disabled:u,children:c.jsx("i",{className:"fa-solid fa-play"})}),c.jsx("button",{onClick:D,disabled:!u,children:c.jsx("i",{className:"fa-solid fa-pause"})})]}),c.jsx("div",{className:"timestamp",children:c.jsx("p",{children:O(f)})}),c.jsxs("p",{children:[Object.keys(o).length," note",Object.keys(o).length!==1?"s":""]})]}),c.jsxs("div",{className:"wavesurfer-track",children:[c.jsx("div",{ref:v,id:"waveform"}),c.jsx("div",{className:"track-lanes",ref:m,children:[1,2,3,4,5].map(N=>c.jsx("div",{className:"lane",id:`lane-${N}`,onDrop:_=>Z(_,N),onDragOver:se,children:Object.values(o).filter(_=>_.lane===N).map(_=>c.jsx("div",{className:"note",style:{left:`${_.time*C}px`},draggable:!0,onDragStart:L=>Q(L,_.id),onDragEnd:ze},_.id))},N))})]})]})]}):c.jsx("div",{children:"Loading song details..."})}function Qw(){var f;const e=Ze(),t=Ee(h=>h.tracks.allTracks),[n,r]=S.useState(""),[i,o]=S.useState(null),s=ft();S.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);const l=Object.values(t).filter(h=>h.song.song_name.toLowerCase().includes(n.toLowerCase())||h.song.artist_name.toLowerCase().includes(n.toLowerCase()));S.useEffect(()=>{e(R1())},[e]),S.useEffect(()=>{},[t]);const a=h=>{const w=Math.floor(h),g=Math.floor(w/60),y=w%60;return`${g}:${y<10?"0":""}${y}`},u=h=>{o(h)},d=h=>{h.preventDefault(),i&&s(`/play/${i.id}`)};return c.jsxs("div",{className:"browse-page",children:[c.jsxs("div",{className:"track-list",children:[c.jsxs("div",{className:"search-bar",children:[c.jsx("i",{className:"fa-solid fa-magnifying-glass"}),c.jsx("input",{type:"text",placeholder:"Search tracks by name",value:n,onChange:h=>r(h.target.value)})]}),c.jsx("div",{className:"tracks",children:l.reverse().map(h=>{var w,g,y;return c.jsxs("div",{className:`track-card ${i&&i.id===h.id?"selected":""}`,onClick:()=>u(h),children:[c.jsx("img",{src:(w=h.song)==null?void 0:w.image_url,alt:(g=h.song)==null?void 0:g.song_name}),c.jsxs("div",{className:"track-details",children:[c.jsx("h4",{children:c.jsx("span",{children:(y=h.song)==null?void 0:y.song_name})}),c.jsxs("p",{children:[c.jsx("i",{className:"fa-regular fa-clock"})," ",a(h.duration)]}),c.jsxs("p",{children:[c.jsx("i",{className:"fa-brands fa-itunes-note"})," ",Object.values(h.notes).length]})]})]},h.id)})})]}),c.jsx("div",{className:"selected-track",children:i&&c.jsxs("div",{className:"track-info",children:[c.jsx("h1",{children:(f=i.song)==null?void 0:f.song_name}),c.jsx("div",{className:"scores",children:c.jsx("h2",{children:"Scores"})}),c.jsx("div",{className:"play",children:c.jsx("button",{className:"play-button",onClick:d,children:"Play Track"})})]})})]})}const Gw=O0([{element:c.jsx(vw,{}),children:[{path:"/",element:c.jsx(cw,{})},{path:"/add-song",element:c.jsx(gw,{})},{path:"/browse",element:c.jsx(Qw,{})},{path:"/track-overview/:trackId",element:c.jsx(Iw,{})},{path:"/session-overview/:username",element:c.jsx(Hw,{})}]},{path:"/track-creator/:songId",element:c.jsx(Ow,{})},{path:"/track-editor/:trackId",element:c.jsx(Kw,{})},{path:"/play/:trackId",element:c.jsx(Fw,{})}]);const Yw=uw();$l.createRoot(document.getElementById("root")).render(c.jsx(zd.StrictMode,{children:c.jsx(wy,{store:Yw,children:c.jsx(V0,{router:Gw})})}));
